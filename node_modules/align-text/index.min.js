"use strict";var typeOf=require("kind-of"),repeat=require("repeat-string"),longest=require("longest");module.exports=function(t,e){var n,i=typeOf(t);if("array"===i)n=t;else{if("string"!==i)throw new TypeError("align-text expects a string or array.");n=t.split(/(?:\r\n|\n)/)}for(var r=typeOf(e),o=n.length,s=longest(n),a=[],c=0;o--;){var u,l=String(n[c++]);if(u="function"===r?e(l.length,s.length,l,n,c):"number"===r?e:s.length-l.length,"number"===typeOf(u))a.push(repeat(" ",u)+l);else if("object"===typeOf(u)){var h=repeat(u.character||" ",u.indent||0);a.push((u.prefix||"")+h+l)}}return"array"===i?a:a.join("\n")};