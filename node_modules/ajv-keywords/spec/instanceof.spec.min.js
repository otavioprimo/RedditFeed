"use strict";var Ajv=require("ajv"),defFunc=require("../keywords/instanceof"),defineKeywords=require(".."),should=require("chai").should();describe('keyword "instanceof"',function(){var e=[new Ajv,new Ajv,new Ajv];defFunc(e[0]),defineKeywords(e[1],"instanceof"),defineKeywords(e[2]),e.forEach(function(e,t){it("should validate classes #"+t,function(){e.validate({"instanceof":"Object"},{}).should.equal(!0),e.validate({"instanceof":"Object"},[]).should.equal(!0),e.validate({"instanceof":"Object"},"foo").should.equal(!1),e.validate({"instanceof":"Array"},{}).should.equal(!1),e.validate({"instanceof":"Array"},[]).should.equal(!0),e.validate({"instanceof":"Array"},"foo").should.equal(!1),e.validate({"instanceof":"Function"},function(){}).should.equal(!0),e.validate({"instanceof":"Function"},[]).should.equal(!1),e.validate({"instanceof":"Number"},new Number(42)).should.equal(!0),e.validate({"instanceof":"Number"},42).should.equal(!1),e.validate({"instanceof":"Number"},"foo").should.equal(!1),e.validate({"instanceof":"String"},new String("foo")).should.equal(!0),e.validate({"instanceof":"String"},"foo").should.equal(!1),e.validate({"instanceof":"String"},42).should.equal(!1),e.validate({"instanceof":"Date"},new Date).should.equal(!0),e.validate({"instanceof":"Date"},{}).should.equal(!1),e.validate({"instanceof":"RegExp"},/.*/).should.equal(!0),e.validate({"instanceof":"RegExp"},{}).should.equal(!1),e.validate({"instanceof":"Buffer"},new Buffer("foo")).should.equal(!0),e.validate({"instanceof":"Buffer"},"foo").should.equal(!1),e.validate({"instanceof":"Buffer"},{}).should.equal(!1)}),it("should validate multiple classes #"+t,function(){e.validate({"instanceof":["Array","Function"]},[]).should.equal(!0),e.validate({"instanceof":["Array","Function"]},function(){}).should.equal(!0),e.validate({"instanceof":["Array","Function"]},{}).should.equal(!1)}),it("should allow adding classes #"+t,function(){function t(){}should["throw"](function(){e.compile({"instanceof":"MyClass"})}),defFunc.definition.CONSTRUCTORS.MyClass=t,e.validate({"instanceof":"MyClass"},new t).should.equal(!0),e.validate({"instanceof":"Object"},new t).should.equal(!0),e.validate({"instanceof":"MyClass"},{}).should.equal(!1),delete defFunc.definition.CONSTRUCTORS.MyClass,e.removeSchema(),should["throw"](function(){e.compile({"instanceof":"MyClass"})}),defineKeywords.get("instanceof").definition.CONSTRUCTORS.MyClass=t,e.validate({"instanceof":"MyClass"},new t).should.equal(!0),e.validate({"instanceof":"Object"},new t).should.equal(!0),e.validate({"instanceof":"MyClass"},{}).should.equal(!1),delete defFunc.definition.CONSTRUCTORS.MyClass,e.removeSchema()}),it("should throw when not string or array is passed #"+t,function(){should["throw"](function(){e.compile({"instanceof":1})})})})});