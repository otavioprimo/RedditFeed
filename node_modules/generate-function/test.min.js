var tape=require("tape"),genfun=require("./");tape("generate add function",function(t){var e=genfun()("function add(n) {")("return n + %d",42)("}");t.same(e.toString(),"function add(n) {\n  return n + 42\n}","code is indented"),t.same(e.toFunction()(10),52,"function works"),t.end()}),tape("generate function + closed variables",function(t){var e=genfun()("function add(n) {")("return n + %d + number",42)("}"),n=e.toFunction(),r=e.toFunction({number:10});try{n(10),t.ok(!1,"function should not work")}catch(i){t.same(i.message,"number is not defined","throws reference error")}t.same(r(11),63,"function with closed var works"),t.end()});