"use strict";function brackets(t){if(!isPosixBracket(t))return t;var e=!1;-1!==t.indexOf("[^")&&(e=!0,t=t.split("[^").join("[")),-1!==t.indexOf("[!")&&(e=!0,t=t.split("[!").join("["));for(var n=t.split("["),r=t.split("]"),i=n.length!==r.length,o=t.split(/(?::\]\[:|\[?\[:|:\]\]?)/),s=o.length,a=0,c="",l="",u=[];s--;){var h=o[a++];("^[!"===h||"[!"===h)&&(h="",e=!0);var p=e?"^":"",f=POSIX[h];f?u.push("["+p+f+"]"):h&&(/^\[?\w-\w\]?$/.test(h)?a===o.length?u.push("["+p+h):1===a?u.push(p+h+"]"):u.push(p+h):1===a?l+=h:a===o.length?c+=h:u.push("["+p+h+"]"))}var d=u.join("|"),_=u.length||1;return _>1&&(d="(?:"+d+")",_=1),l&&(_++,"["===l.charAt(0)&&(i?l="\\["+l.slice(1):l+="]"),d=l+d),c&&(_++,"]"===c.slice(-1)&&(c=i?c.slice(0,c.length-1)+"\\]":"["+c),d+=c),_>1&&(d=d.split("][").join("]|["),-1===d.indexOf("|")||/\(\?/.test(d)||(d="(?:"+d+")")),d=d.replace(/\[+=|=\]+/g,"\\b")}var isPosixBracket=require("is-posix-bracket"),POSIX={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E",punct:"-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};module.exports=brackets,brackets.makeRe=function(t){try{return new RegExp(brackets(t))}catch(e){}},brackets.isMatch=function(t,e){try{return brackets.makeRe(e).test(t)}catch(n){return!1}},brackets.match=function(t,e){for(var n=t.length,r=0,i=t.slice(),o=brackets.makeRe(e);n>r;){var s=t[r++];o.test(s)&&i.splice(r,1)}return i};