function encodeStringToEmoji(t,e){if(emojiCache[t])return emojiCache[t];e=e||1;var n=[];do{var r=Math.floor(Math.random()*emojiList.length);n.push(emojiList[r]),emojiList.splice(r,1)}while(--e>0);var i=n.join("");return emojiCache[t]=i,i}function encodeBufferToBase(t,e){var n=baseEncodeTables[e];if(!n)throw new Error("Unknown encoding base"+e);var r=t.length,i=require("big.js");i.RM=i.DP=0;for(var o=new i(0),s=r-1;s>=0;s--)o=o.times(256).plus(t[s]);for(var a="";o.gt(0);)a=n[o.mod(e)]+a,o=o.div(e);return i.DP=20,i.RM=1,a}function dotRequest(t){return t.request}var JSON5=require("json5"),path=require("path"),assign=require("object-assign"),emojiRegex=/[\uD800-\uDFFF]./,emojiList=require("emojis-list").filter(function(t){return emojiRegex.test(t)}),baseEncodeTables={26:"abcdefghijklmnopqrstuvwxyz",32:"123456789abcdefghjkmnpqrstuvwxyz",36:"0123456789abcdefghijklmnopqrstuvwxyz",49:"abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",52:"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",58:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",62:"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",64:"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_"},emojiCache={};exports.parseQuery=function(t){var e={"null":null,"true":!0,"false":!1};if(!t)return{};if("string"!=typeof t)return t;if("?"!==t.substr(0,1))throw new Error("a valid query string passed to parseQuery should begin with '?'");t=t.substr(1);t.length;if("{"===t.substr(0,1)&&"}"===t.substr(-1))return JSON5.parse(t);var r=t.split(/[,\&]/g),i={};return r.forEach(function(t){var n=t.indexOf("=");if(n>=0){var r=t.substr(0,n),o=decodeURIComponent(t.substr(n+1));e.hasOwnProperty(o)&&(o=e[o]),"[]"===r.substr(-2)?(r=decodeURIComponent(r.substr(0,r.length-2)),Array.isArray(i[r])||(i[r]=[]),i[r].push(o)):(r=decodeURIComponent(r),i[r]=o)}else"-"===t.substr(0,1)?i[decodeURIComponent(t.substr(1))]=!1:"+"===t.substr(0,1)?i[decodeURIComponent(t.substr(1))]=!0:i[decodeURIComponent(t)]=!0}),i},exports.getLoaderConfig=function(t,e){var n=exports.parseQuery(t.query),r=n.config||e;if(r){var i=t.options[r]||{};return delete n.config,assign({},i,n)}return n},exports.stringifyRequest=function(t,e){var n=e.split("!"),r=t.context||t.options&&t.options.context;return JSON.stringify(n.map(function(t){return/^\/|^[A-Z]:/i.test(t)&&r?(t=path.relative(r,t),/^[A-Z]:/i.test(t)?t:"./"+t.replace(/\\/g,"/")):t}).join("!"))},exports.getRemainingRequest=function(t){if(t.remainingRequest)return t.remainingRequest;var e=t.loaders.slice(t.loaderIndex+1).map(dotRequest).concat([t.resource]);return e.join("!")},exports.getCurrentRequest=function(t){if(t.currentRequest)return t.currentRequest;var e=t.loaders.slice(t.loaderIndex).map(dotRequest).concat([t.resource]);return e.join("!")},exports.isUrlRequest=function(t,e){return/^data:|^chrome-extension:|^(https?:)?\/\/|^[\{\}\[\]#*;,'§\$%&\(=?`´\^°<>]/.test(t)?!1:void 0!==e&&e!==!1||!/^\//.test(t)?!0:!1},exports.urlToRequest=function(t,e){var r,n=/^[^?]*~/;if(/^[a-zA-Z]:\\|^\\\\/.test(t))r=t;else if(void 0!==e&&e!==!1&&/^\//.test(t))switch(typeof e){case"string":r=n.test(e)?e.replace(/([^~\/])$/,"$1/")+t.slice(1):e+t;break;case"boolean":r=t;break;default:throw new Error("Unexpected parameters to loader-utils 'urlToRequest': url = "+t+", root = "+e+".")}else r=/^\.\.?\//.test(t)?t:"./"+t;return n.test(r)&&(r=r.replace(n,"")),r},exports.parseString=function e(t){try{return'"'===t[0]?JSON.parse(t):"'"===t[0]&&"'"===t.substr(t.length-1)?e(t.replace(/\\.|"/g,function(t){return'"'===t?'\\"':t}).replace(/^'|'$/g,'"')):JSON.parse('"'+t+'"')}catch(n){return t}},exports.getHashDigest=function(t,e,n,r){e=e||"md5",r=r||9999;var i=require("crypto").createHash(e);return i.update(t),"base26"===n||"base32"===n||"base36"===n||"base49"===n||"base52"===n||"base58"===n||"base62"===n||"base64"===n?encodeBufferToBase(i.digest(),n.substr(4)).substr(0,r):i.digest(n||"hex").substr(0,r)},exports.interpolateName=function(t,e,n){var r=e||"[hash].[ext]",i=n.context,o=n.content,s=n.regExp,a="bin",c="file",u="",l="";if(t.resourcePath){var h=t.resourcePath,p=h.lastIndexOf("."),f=h.lastIndexOf("\\"),d=h.lastIndexOf("/"),_=0>f?d:0>d?f:d>f?f:d;p>=0&&(a=h.substr(p+1),h=h.substr(0,p)),_>=0&&(c=h.substr(_+1),h=h.substr(0,_+1)),"undefined"!=typeof i?(u=path.relative(i,h+"_").replace(/\\/g,"/").replace(/\.\.(\/)?/g,"_$1"),u=u.substr(0,u.length-1)):u=h.replace(/\\/g,"/").replace(/\.\.(\/)?/g,"_$1"),1===u.length?u="":u.length>1&&(l=path.basename(u))}var g=r;if(o&&(g=g.replace(/\[(?:(\w+):)?hash(?::([a-z]+\d*))?(?::(\d+))?\]/gi,function(){return exports.getHashDigest(o,arguments[1],arguments[2],parseInt(arguments[3],10))}).replace(/\[emoji(?::(\d+))?\]/gi,function(){return encodeStringToEmoji(o,arguments[1])})),g=g.replace(/\[ext\]/gi,function(){return a}).replace(/\[name\]/gi,function(){return c}).replace(/\[path\]/gi,function(){return u}).replace(/\[folder\]/gi,function(){return l}),s&&t.resourcePath){var y=new RegExp(s),m=t.resourcePath.match(y);if(m)for(var f=0;f<m.length;f++){var y=new RegExp("\\["+f+"\\]","ig");g=g.replace(y,m[f])}}return"object"==typeof t.options&&"function"==typeof t.options.customInterpolateName&&(g=t.options.customInterpolateName.call(t,g,e,n)),g};