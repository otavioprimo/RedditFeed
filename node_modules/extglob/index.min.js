"use strict";function extglob(t,e){e=e||{};var n={},r=0;t=t.replace(/!\(([^\w*()])/g,"$1!("),t=t.replace(/([*\/])\.!\([*]\)/g,function(t,e){return escape("/"===e?"\\/[^.]+":"[^.]+")});var i=t+String(!!e.regex)+String(!!e.contains)+String(!!e.escape);if(cache.hasOwnProperty(i))return cache[i];re instanceof RegExp||(re=regex()),e.negate=!1;for(var o;o=re.exec(t);){var s=o[1],a=o[3];"!"===s&&(e.negate=!0);var c="__EXTGLOB_"+r++ +"__";n[c]=wrap(a,s,e.escape),t=t.split(o[0]).join(c)}for(var l=Object.keys(n),u=l.length;u--;){var h=l[u];t=t.split(h).join(n[h])}var p=e.regex?toRegex(t,e.contains,e.negate):t;return p=p.split(".").join("\\."),cache[i]=p}function wrap(t,e,n){switch(n&&(t=escape(t)),e){case"!":return"(?!"+t+")[^/]"+(n?"%%%~":"*?");case"@":return"(?:"+t+")";case"+":return"(?:"+t+")+";case"*":return"(?:"+t+")"+(n?"%%":"*");case"?":return"(?:"+t+"|)";default:return t}}function escape(t){return t=t.split("*").join("[^/]%%%~"),t=t.split(".").join("\\.")}function regex(){return/(\\?[@?!+*$]\\?)(\(([^()]*?)\))/}function negate(t){return"(?!^"+t+").*$"}function toRegex(t,e,n){var r=e?"^":"",i=e?"$":"";return t="(?:"+t+")"+i,n&&(t=r+negate(t)),new RegExp(r+t)}var isExtglob=require("is-extglob"),re,cache={};module.exports=extglob;