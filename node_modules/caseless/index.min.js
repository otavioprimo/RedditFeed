function Caseless(t){this.dict=t||{}}Caseless.prototype.set=function(t,e,n){if("object"!=typeof t){"undefined"==typeof n&&(n=!0);var i=this.has(t);return!n&&i?this.dict[i]=this.dict[i]+","+e:this.dict[i||t]=e,i}for(var r in t)this.set(r,t[r],e)},Caseless.prototype.has=function(t){for(var e=Object.keys(this.dict),t=t.toLowerCase(),n=0;n<e.length;n++)if(e[n].toLowerCase()===t)return e[n];return!1},Caseless.prototype.get=function(t){t=t.toLowerCase();var e,n,r=this.dict;return Object.keys(r).forEach(function(i){n=i.toLowerCase(),t===n&&(e=r[i])}),e},Caseless.prototype.swap=function(t){var e=this.has(t);if(!e)throw new Error('There is no header than matches "'+t+'"');this.dict[t]=this.dict[e],delete this.dict[e]},Caseless.prototype.del=function(t){var e=this.has(t);return delete this.dict[e||t]},module.exports=function(t){return new Caseless(t)},module.exports.httpify=function(t,e){var n=new Caseless(e);return t.setHeader=function(t,e,r){return"undefined"!=typeof e?n.set(t,e,r):void 0},t.hasHeader=function(t){return n.has(t)},t.getHeader=function(t){return n.get(t)},t.removeHeader=function(t){return n.del(t)},t.headers=n.dict,n};