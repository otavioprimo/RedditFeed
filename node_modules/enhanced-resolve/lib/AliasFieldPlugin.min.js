function AliasFieldPlugin(e,t,r){this.source=e,this.field=t,this.target=r}var assign=require("object-assign"),DescriptionFileUtils=require("./DescriptionFileUtils"),createInnerCallback=require("./createInnerCallback"),getInnerRequest=require("./getInnerRequest");module.exports=AliasFieldPlugin,AliasFieldPlugin.prototype.apply=function(e){var t=this.target,r=this.field;e.plugin(this.source,function(n,i){if(!n.descriptionFileData)return i();var a=getInnerRequest(e,n);if(!a)return i();var o=DescriptionFileUtils.getField(n.descriptionFileData,r);if("object"!=typeof o)return i.log&&i.log("Field '"+r+"' doesn't contain a valid alias configuration"),i();var s=o[a],u=o[a.replace(/^\.\//,"")],l="undefined"!=typeof s?s:u;if(l===a)return i();if(void 0===l)return i();if(l===!1){var c=assign({},n,{path:!1});return i(null,c)}var f=assign({},n,{path:n.descriptionFileRoot,request:l});e.doResolve(t,f,"aliased from description file "+n.descriptionFilePath+" with mapping '"+a+"' to '"+l+"'",createInnerCallback(function(e,t){return arguments.length>0?i(e,t):void i(null,null)},i))})};