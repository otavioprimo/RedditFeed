function ConcordMainPlugin(e,t,r){this.source=e,this.options=t,this.target=r}var path=require("path"),assign=require("object-assign"),concord=require("./concord"),DescriptionFileUtils=require("./DescriptionFileUtils");module.exports=ConcordMainPlugin,ConcordMainPlugin.prototype.apply=function(e){var t=this.target;this.options;e.plugin(this.source,function(r,n){if(r.path!==r.descriptionFileRoot)return n();var i=DescriptionFileUtils.getField(r.descriptionFileData,"concord");if(!i)return n();var a=concord.getMain(r.context,i);if(!a)return n();var o=assign({},r,{request:a}),s=path.basename(r.descriptionFilePath);return e.doResolve(t,o,"use "+a+" from "+s,n)})};