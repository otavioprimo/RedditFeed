function loadDescriptionFile(e,t,r,n){!function i(){forEachBail(r,function(r,n){function a(e,r){return e?(n.log?n.log(i+" (directory description file): "+e):e.message=i+" (directory description file): "+e,n(e)):void n(null,{content:r,directory:t,path:i})}var i=e.join(t,r);e.fileSystem.readJson?e.fileSystem.readJson(i,function(e,t){return e?"undefined"!=typeof e.code?n():a(e):void a(null,t)}):e.fileSystem.readFile(i,function(e,t){if(e)return n();try{var r=JSON.parse(t)}catch(i){a(i)}a(null,r)})},function(e,r){return e?n(e):r?n(null,r):(t=cdUp(t),t?i():n())})}()}function getField(e,t){if(!e)return void 0;if(Array.isArray(t)){for(var r=e,n=0;n<t.length;n++){if(null===r||"object"!=typeof r){r=null;break}r=r[t[n]]}if("object"==typeof r)return r}else if("object"==typeof e[t])return e[t]}function cdUp(e){if("/"===e)return null;var t=e.lastIndexOf("/"),r=e.lastIndexOf("\\"),n=0>t?r:0>r?t:r>t?r:t;return 0>n?null:e.substr(0,n||1)}var assign=require("object-assign"),forEachBail=require("./forEachBail");exports.loadDescriptionFile=loadDescriptionFile,exports.getField=getField,exports.cdUp=cdUp;