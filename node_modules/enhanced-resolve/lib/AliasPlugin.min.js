function AliasPlugin(e,t,r){this.source=e,this.name=t.name,this.alias=t.alias,this.onlyModule=t.onlyModule,this.target=r}var assign=require("object-assign"),createInnerCallback=require("./createInnerCallback"),getInnerRequest=require("./getInnerRequest");module.exports=AliasPlugin,AliasPlugin.prototype.apply=function(e){var t=this.target,r=this.name,n=this.alias,i=this.onlyModule;e.plugin(this.source,function(a,o){var s=getInnerRequest(e,a);if(!s)return o();if((!i&&0===s.indexOf(r+"/")||s===r)&&0!==s.indexOf(n+"/")&&s!=n){var u=n+s.substr(r.length),l=assign({},a,{request:u});return e.doResolve(t,l,"aliased with mapping '"+r+"': '"+n+"' to '"+u+"'",createInnerCallback(function(e,t){return arguments.length>0?o(e,t):void o(null,null)},o))}return o()})};