function MainFieldPlugin(e,t,r){this.source=e,this.options=t,this.target=r}var path=require("path"),assign=require("object-assign");module.exports=MainFieldPlugin,MainFieldPlugin.prototype.apply=function(e){var t=this.target,r=this.options;e.plugin(this.source,function(n,i){if(n.path!==n.descriptionFileRoot)return i();var s,a=n.descriptionFileData,o=path.basename(n.descriptionFilePath),u=r.name;if(Array.isArray(u)){for(var l=a,c=0;c<u.length;c++){if(null===l||"object"!=typeof l){l=null;break}l=l[u[c]]}"string"==typeof l&&(s=l)}else"string"==typeof a[u]&&(s=a[u]);if(!s)return i();r.forceRelative&&!/^\.\.?\//.test(s)&&(s="./"+s);var f=assign({},n,{request:s});return e.doResolve(t,f,"use "+s+" from "+r.name+" in "+o,i)})};