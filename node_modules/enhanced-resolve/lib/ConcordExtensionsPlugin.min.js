function ConcordExtensionsPlugin(e,t,r){this.source=e,this.options=t,this.target=r}var assign=require("object-assign"),concord=require("./concord"),DescriptionFileUtils=require("./DescriptionFileUtils"),forEachBail=require("./forEachBail"),createInnerCallback=require("./createInnerCallback");module.exports=ConcordExtensionsPlugin,ConcordExtensionsPlugin.prototype.apply=function(e){var t=this.target;e.plugin(this.source,function(r,n){var i=DescriptionFileUtils.getField(r.descriptionFileData,"concord");if(!i)return n();var a=concord.getExtensions(r.context,i);if(!a)return n();var o=n;forEachBail(a,function(n,i){var a=assign({},r,{path:r.path+n,relativePath:r.relativePath&&r.relativePath+n});e.doResolve(t,a,"concord extension: "+n,createInnerCallback(i,o))},function(e,t){return arguments.length>0?n(e,t):void n(null,null)})})};