var forEach=require("../lib/foreach").forEach;exports.foreach={setUp:function(e){this.order=[],this.track=function(){[].push.apply(this.order,arguments)},e()},Synchronous:function(e){e.expect(1);var t=this,r=["a","b","c"];forEach(r,function(e,r,n){t.track("each",e,r,n)}),e.deepEqual(t.order,["each","a",0,r,"each","b",1,r,"each","c",2,r],"should call eachFn for each array item, in order."),e.done()},"Synchronous, done":function(e){e.expect(1);var t=this,r=["a","b","c"];forEach(r,function(e,r,n){t.track("each",e,r,n)},function(e,r){t.track("done",e,r)}),e.deepEqual(t.order,["each","a",0,r,"each","b",1,r,"each","c",2,r,"done",!0,r],"should call eachFn for each array item, in order, followed by doneFn."),e.done()},"Synchronous, early abort":function(e){e.expect(1);var t=this,r=["a","b","c"];forEach(r,function(e,r,n){return t.track("each",e,r,n),"b"===e?!1:void 0},function(e,r){t.track("done",e,r)}),e.deepEqual(t.order,["each","a",0,r,"each","b",1,r,"done",!1,r],"should call eachFn for each array item, in order, followed by doneFn."),e.done()},Asynchronous:function(e){e.expect(1);var t=this,r=["a","b","c"];forEach(r,function(e,r,n){t.track("each",e,r,n);var i=this.async();setTimeout(i,10)}),setTimeout(function(){e.deepEqual(t.order,["each","a",0,r,"each","b",1,r,"each","c",2,r],"should call eachFn for each array item, in order."),e.done()},100)},"Asynchronous, done":function(e){e.expect(1);var t=this,r=["a","b","c"];forEach(r,function(e,r,n){t.track("each",e,r,n);var i=this.async();setTimeout(i,10)},function(r,n){t.track("done",r,n),e.deepEqual(t.order,["each","a",0,n,"each","b",1,n,"each","c",2,n,"done",!0,n],"should call eachFn for each array item, in order, followed by doneFn."),e.done()})},"Asynchronous, early abort":function(e){e.expect(1);var t=this,r=["a","b","c"];forEach(r,function(e,r,n){t.track("each",e,r,n);var i=this.async();setTimeout(function(){i("b"!==e)},10)},function(r,n){t.track("done",r,n),e.deepEqual(t.order,["each","a",0,n,"each","b",1,n,"done",!1,n],"should call eachFn for each array item, in order, followed by doneFn."),e.done()})},"Not actually asynchronous":function(e){e.expect(1);var t=this,r=["a","b","c"];forEach(r,function(e,r,n){t.track("each",e,r,n);var i=this.async();i()},function(r,n){t.track("done",r,n),e.deepEqual(t.order,["each","a",0,n,"each","b",1,n,"each","c",2,n,"done",!0,n],"should call eachFn for each array item, in order, followed by doneFn."),e.done()})},"Not actually asynchronous, early abort":function(e){e.expect(1);var t=this,r=["a","b","c"];forEach(r,function(e,r,n){t.track("each",e,r,n);var i=this.async();i("b"!==e)},function(r,n){t.track("done",r,n),e.deepEqual(t.order,["each","a",0,n,"each","b",1,n,"done",!1,n],"should call eachFn for each array item, in order, followed by doneFn."),e.done()})},"Sparse array support":function(e){e.expect(1);var t=this,r=[];r[0]="a",r[9]="z",forEach(r,function(e,r,n){t.track("each",e,r,n)}),e.deepEqual(t.order,["each","a",0,r,"each","z",9,r],"should skip nonexistent array items."),e.done()},"Invalid length sanitization":function(e){e.expect(1);var t=this,r={length:4294967299,0:"a",2:"b",3:"c"};forEach(r,function(e,r,n){t.track("each",e,r,n)}),e.deepEqual(t.order,["each","a",0,r,"each","b",2,r],"should sanitize length property (ToUint32)."),e.done()}};