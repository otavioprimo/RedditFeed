"use strict";function unwrapEvent(t){return t&&t.detail&&t.detail.promise?t.detail:t}var core=require("./core");module.exports=function(t){t=t||window;var e=core();return t.addEventListener("unhandledrejection",function(t){t=unwrapEvent(t),e.onUnhandledRejection(t.reason,t.promise)}),t.addEventListener("rejectionhandled",function(t){t=unwrapEvent(t),e.onRejectionHandled(t.promise)}),e.currentlyUnhandled};