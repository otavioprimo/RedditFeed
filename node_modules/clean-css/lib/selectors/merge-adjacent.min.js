function mergeAdjacent(e,t,r){for(var n=[null,[],[]],i=t.compatibility.selectors.adjacentSpace,a=0,o=e.length;o>a;a++){var s=e[a];if("selector"==s[0])if("selector"==n[0]&&stringifySelectors(s[1])==stringifySelectors(n[1])){var u=[n[2].length];Array.prototype.push.apply(n[2],s[2]),optimizeProperties(s[1],n[2],u,!0,t,r),s[2]=[]}else"selector"!=n[0]||stringifyBody(s[2])!=stringifyBody(n[2])||isSpecial(t,stringifySelectors(s[1]))||isSpecial(t,stringifySelectors(n[1]))?n=s:(n[1]=cleanUpSelectors(n[1].concat(s[1]),!1,i),s[2]=[]);else n=[null,[],[]]}}var optimizeProperties=require("../properties/optimizer"),stringifyBody=require("../stringifier/one-time").body,stringifySelectors=require("../stringifier/one-time").selectors,cleanUpSelectors=require("./clean-up").selectors,isSpecial=require("./is-special");module.exports=mergeAdjacent;