function split(e,t,r,n,i,a){var s="string"!=typeof t,o=s?t.test(e):e.indexOf(t);if(!o)return[e];if(n=n||"(",i=i||")",-1==e.indexOf(n)&&!r&&!a)return e.split(t);for(var u=0,l=0,c=0,f=e.length,p=[];f>l&&(e[l]==n?u++:e[l]==i&&u--,!(0===u&&l>0&&f>l+1&&(s?t.test(e[l]):e[l]==t)&&(p.push(e.substring(c,l+(r?1:0))),c=l+1,a&&1==p.length)));)l++;if(l+1>c){var h=e.substring(c),d=h[h.length-1];!r&&(s?t.test(d):d==t)&&(h=h.substring(0,h.length-1)),p.push(h)}return p}module.exports=split;