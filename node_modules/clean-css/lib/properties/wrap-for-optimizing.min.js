function wrapAll(e){for(var t=[],r=e.length-1;r>=0;r--)if("string"!=typeof e[r][0]){var n=wrapSingle(e[r]);n.all=e,n.position=r,t.unshift(n)}return t}function isMultiplex(e){for(var t=1,r=e.length;r>t;t++)if(","==e[t][0]||"/"==e[t][0])return!0;return!1}function hackType(e){var t=!1,r=e[0][0],n=e[e.length-1];return r[0]==UNDERSCORE_HACK?t="underscore":r[0]==STAR_HACK?t="star":n[0][0]!=BANG_HACK||n[0].match(IMPORTANT_WORD_MATCH)?n[0].indexOf(BANG_HACK)>0&&!n[0].match(IMPORTANT_WORD_MATCH)?t="bang":n[0].indexOf(BACKSLASH_HACK)>0&&n[0].indexOf(BACKSLASH_HACK)==n[0].length-BACKSLASH_HACK.length-1?t="backslash":0===n[0].indexOf(BACKSLASH_HACK)&&2==n[0].length&&(t="backslash"):t="bang",t}function isImportant(e){if(e.length>1){var t=e[e.length-1][0];if("string"==typeof t)return IMPORTANT_TOKEN_MATCH.test(t)}return!1}function stripImportant(e){e.length>0&&(e[e.length-1][0]=e[e.length-1][0].replace(IMPORTANT_TOKEN_MATCH,""))}function stripPrefixHack(e){e[0][0]=e[0][0].substring(1)}function stripSuffixHack(e,t){var r=e[e.length-1];r[0]=r[0].substring(0,r[0].indexOf("backslash"==t?BACKSLASH_HACK:BANG_HACK)).trim(),0===r[0].length&&e.pop()}function wrapSingle(e){var t=isImportant(e);t&&stripImportant(e);var r=hackType(e);"star"==r||"underscore"==r?stripPrefixHack(e):("backslash"==r||"bang"==r)&&stripSuffixHack(e,r);var n=0===e[0][0].indexOf("--");return{block:n&&e[1]&&Array.isArray(e[1][0][0]),components:[],dirty:!1,hack:r,important:t,name:e[0][0],multiplex:e.length>2?isMultiplex(e):!1,position:0,shorthand:!1,unused:e.length<2,value:e.slice(1),variable:n}}var BACKSLASH_HACK="\\",IMPORTANT_WORD="important",IMPORTANT_TOKEN="!"+IMPORTANT_WORD,IMPORTANT_WORD_MATCH=new RegExp(IMPORTANT_WORD+"$","i"),IMPORTANT_TOKEN_MATCH=new RegExp(IMPORTANT_TOKEN+"$","i"),STAR_HACK="*",UNDERSCORE_HACK="_",BANG_HACK="!";module.exports={all:wrapAll,single:wrapSingle};