function hasMoreProperties(e,t){for(var r=t,n=e.length;n>r;r++)if("string"!=typeof e[r])return!0;return!1}function supportsAfterClosingBrace(e){return"background"==e[0][0]||"transform"==e[0][0]||"src"==e[0][0]}function afterClosingBrace(e,t){return")"==e[t][0][e[t][0].length-1]||0===e[t][0].indexOf("__ESCAPED_URL_CLEAN_CSS")}function afterComma(e,t){return","==e[t][0]}function afterSlash(e,t){return"/"==e[t][0]}function beforeComma(e,t){return e[t+1]&&","==e[t+1][0]}function beforeSlash(e,t){return e[t+1]&&"/"==e[t+1][0]}function inFilter(e){return"filter"==e[0][0]||"-ms-filter"==e[0][0]}function inSpecialContext(e,t,r){return!r.spaceAfterClosingBrace&&supportsAfterClosingBrace(e)&&afterClosingBrace(e,t)||beforeSlash(e,t)||afterSlash(e,t)||beforeComma(e,t)||afterComma(e,t)}function selectors(e,t){for(var r=t.store,n=0,i=e.length;i>n;n++)r(e[n],t),i-1>n&&r(",",t)}function body(e,t){for(var r=0,n=e.length;n>r;r++)property(e,r,r==n-1,t)}function property(e,t,r,n){var i=n.store,a=e[t];"string"==typeof a?i(a,n):a[0]==AT_RULE?propertyAtRule(a[1],r,n):(i(a[0],n),i(":",n),value(e,t,r,n))}function propertyAtRule(e,t,r){var n=r.store;n(e,r),t||n(PROPERTY_SEPARATOR,r)}function value(e,t,r,n){var i=n.store,a=e[t],o=0===a[0][0].indexOf("--"),s=o&&Array.isArray(a[1][0]);if(o&&s&&atRulesOrProperties(a[1]))return i("{",n),body(a[1],n),void i("};",n);for(var u=1,l=a.length;l>u;u++)i(a[u],n),l-1>u&&(inFilter(a)||!inSpecialContext(a,u,n))?i(" ",n):u==l-1&&!r&&hasMoreProperties(e,t+1)&&i(PROPERTY_SEPARATOR,n)}function atRulesOrProperties(e){for(var t=0,r=e.length;r>t;t++)if(e[t][0]==AT_RULE||Array.isArray(e[t][0]))return!0;return!1}function all(e,t){for(var r=t.keepBreaks?lineBreak:"",n=t.store,i=0,a=e.length;a>i;i++){var o=e[i];switch(o[0]){case"at-rule":case"text":n(o[1][0],t),n(r,t);break;case"block":selectors([o[1]],t),n("{",t),all(o[2],t),n("}",t),n(r,t);break;case"flat-block":selectors([o[1]],t),n("{",t),body(o[2],t),n("}",t),n(r,t);break;default:selectors(o[1],t),n("{",t),body(o[2],t),n("}",t),n(r,t)}}}var lineBreak=require("os").EOL,AT_RULE="at-rule",PROPERTY_SEPARATOR=";";module.exports={all:all,body:body,property:property,selectors:selectors,value:value};