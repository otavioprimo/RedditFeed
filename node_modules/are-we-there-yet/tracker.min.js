"use strict";var util=require("util"),TrackerBase=require("./tracker-base.js"),Tracker=module.exports=function(t,e){TrackerBase.call(this,t),this.workDone=0,this.workTodo=e||0};util.inherits(Tracker,TrackerBase),Tracker.prototype.completed=function(){return 0===this.workTodo?0:this.workDone/this.workTodo},Tracker.prototype.addWork=function(t){this.workTodo+=t,this.emit("change",this.name,this.completed(),this)},Tracker.prototype.completeWork=function(t){this.workDone+=t,this.workDone>this.workTodo&&(this.workDone=this.workTodo),this.emit("change",this.name,this.completed(),this)},Tracker.prototype.finish=function(){this.workTodo=this.workDone=1,this.emit("change",this.name,1,this)};