"use strict";var test=require("tap").test,Tracker=require("../index.js").Tracker,testEvent=require("./lib/test-event.js"),name="test";test("initialization",function(e){var t=new Tracker(name);e.is(t.completed(),0,"Nothing todo is 0 completion"),e.done()});var track,todo=100;test("completion",function(e){function t(t,r){e.is(t,null,"completeWork: on change event fired"),e.is(r,name,"completeWork: on change emits the correct name"),e.done()}track=new Tracker(name,todo),e.is(track.completed(),0,"Nothing done is 0 completion"),testEvent(track,"change",t),track.completeWork(todo),e.is(track.completed(),1,"completeWork: 100% completed")}),test("add more work",function(e){function t(t,r){e.is(t,null,"addWork: on change event fired"),e.is(r,name,"addWork: on change emits the correct name"),e.done()}testEvent(track,"change",t),track.addWork(todo),e.is(track.completed(),.5,"addWork: 50% completed")}),test("complete more work",function(e){track.completeWork(200),e.is(track.completed(),1,"completeWork: Over completion is still only 100% complete"),e.done()}),test("finish is always 100%",function(e){var t=new Tracker(name,todo);t.completeWork(50),t.finish(),e.is(t.completed(),1,"finish: Explicitly finishing moves to 100%"),e.done()});