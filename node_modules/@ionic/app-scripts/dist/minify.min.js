"use strict";function minify(e){e=config_1.generateContext(e);var t=new logger_1.Logger("minify");return minifyWorker(e).then(function(){t.finish()})["catch"](function(e){throw t.fail(e)})}function minifyWorker(e){return Promise.all([minifyJs(e),minifyCss(e)])}function minifyJs(e){return closure_1.isClosureSupported(e)?closure_1.closure(e):uglifyjs_1.uglifyjs(e)}function minifyCss(e){return cleancss_1.cleancss(e)}var cleancss_1=require("./cleancss"),closure_1=require("./closure"),config_1=require("./util/config"),logger_1=require("./logger/logger"),uglifyjs_1=require("./uglifyjs");exports.minify=minify,exports.minifyJs=minifyJs,exports.minifyCss=minifyCss;