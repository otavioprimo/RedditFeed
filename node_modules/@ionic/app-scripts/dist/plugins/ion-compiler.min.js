"use strict";function ionCompiler(e){var t=pluginutils.createFilter(INCLUDE,EXCLUDE);return{name:"ion-compiler",transform:function(r,n){if(!t(n))return null;var i=helpers_1.changeExtension(n,".js");if(e.fileCache){var o=e.fileCache.get(i),s=e.fileCache.get(i+".map");if(!o||!o.content)return logger_1.Logger.debug("transform: unable to find "+i),null;var a=null;if(s.content)try{a=JSON.parse(s.content)}catch(u){}return{code:o.content,map:a}}return null},resolveId:function(t,r){return resolveId(t,r,e)},load:function(t){if(e.fileCache){var r=e.fileCache.get(t);if(r&&r.content)return r.content}return null}}}function resolveId(e,t,r){if(!t||/\0/.test(e))return null;if(r.fileCache){var n=r.fileCache.get(t);if(n&&n.content){var i=path_1.resolve(path_1.join(path_1.dirname(t),e)),o=i+".ts",s=r.fileCache.get(o);if(s)return logger_1.Logger.debug("resolveId: found and resolving "+o),o;var a=path_1.resolve(path_1.join(i,"index.ts")),u=r.fileCache.get(a);if(u)return logger_1.Logger.debug("resolveId: found and resolving "+a),a}}return null}var helpers_1=require("../util/helpers"),logger_1=require("../logger/logger"),path_1=require("path"),pluginutils=require("rollup-pluginutils");exports.ionCompiler=ionCompiler,exports.resolveId=resolveId;var INCLUDE=["*.ts+(|x)","**/*.ts+(|x)"],EXCLUDE=["*.d.ts","**/*.d.ts"];