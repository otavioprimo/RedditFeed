"use strict";function getAppScriptsPackageJson(){if(!cachedAppScriptsPackageJson)try{cachedAppScriptsPackageJson=fs_extra_1.readJsonSync(path_1.join(__dirname,"..","..","package.json"))}catch(e){}return cachedAppScriptsPackageJson}function getAppScriptsVersion(){var e=getAppScriptsPackageJson();return e&&e.version?e.version:""}function getUserPackageJson(e){try{return fs_extra_1.readJsonSync(path_1.join(e,"package.json"))}catch(t){}return null}function getSystemInfo(e){var t=[],r=getAppScriptsVersion(),n=null,i=null,o=null,a=null;try{var s=getUserPackageJson(e);if(s){var u=s.dependencies;u&&(n=u["ionic-angular"],i=u["ionic-native"],o=u["@angular/core"],a=u["@angular/compiler-cli"])}}catch(l){}return t.push("Ionic Framework: "+n),i&&t.push("Ionic Native: "+i),t.push("Ionic App Scripts: "+r),t.push("Angular Core: "+o),t.push("Angular Compiler CLI: "+a),t.push("Node: "+process.version.replace("v","")),t.push("OS Platform: "+osName()),t}function splitLineBreaks(e){return e?(e=e.replace(/\\r/g,"\n"),e.split("\n")):[]}function titleCase(e){return e.charAt(0).toUpperCase()+e.substr(1)}function writeFileAsync(e,t){return new Promise(function(r,n){fs_extra_1.writeFile(e,t,function(e){e?n(new errors_1.BuildError(e)):r()})})}function readFileAsync(e){return new Promise(function(t,r){fs_extra_1.readFile(e,"utf-8",function(e,n){e?r(new errors_1.BuildError(e)):t(n)})})}function setContext(e){_context=e}function getContext(){return _context}function transformSrcPathToTmpPath(e,t){return e.replace(t.srcDir,t.tmpDir)}function transformTmpPathToSrcPath(e,t){return e.replace(t.tmpDir,t.srcDir)}function changeExtension(e,t){var r=path_1.dirname(e),n=path_1.extname(e),i=path_1.basename(e,n),o=i+t;return path_1.join(r,o)}function escapeHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}var path_1=require("path"),errors_1=require("./errors"),fs_extra_1=require("fs-extra"),osName=require("os-name"),_context,cachedAppScriptsPackageJson;exports.getAppScriptsPackageJson=getAppScriptsPackageJson,exports.getAppScriptsVersion=getAppScriptsVersion,exports.getSystemInfo=getSystemInfo,exports.splitLineBreaks=splitLineBreaks,exports.objectAssign=Object.assign?Object.assign:function(e,t){for(var r=Object(e),n=1;n<arguments.length;n++)if(t=arguments[n],void 0!==t&&null!==t)for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);return r},exports.titleCase=titleCase,exports.writeFileAsync=writeFileAsync,exports.readFileAsync=readFileAsync,exports.setContext=setContext,exports.getContext=getContext,exports.transformSrcPathToTmpPath=transformSrcPathToTmpPath,exports.transformTmpPathToSrcPath=transformTmpPathToSrcPath,exports.changeExtension=changeExtension,exports.escapeHtml=escapeHtml;