"use strict";function entitytag(t){if(0===t.length)return'"0-1B2M2Y8AsgTpgAmY7PhCfg"';var e=crypto.createHash("md5").update(t,"utf8").digest("base64").replace(base64PadCharRegExp,""),n="string"==typeof t?Buffer.byteLength(t,"utf8"):t.length;return'"'+n.toString(16)+"-"+e+'"'}function etag(t,e){if(null==t)throw new TypeError("argument entity is required");var n=isstats(t),r=e&&"boolean"==typeof e.weak?e.weak:n;if(!n&&"string"!=typeof t&&!Buffer.isBuffer(t))throw new TypeError("argument entity must be string, Buffer, or fs.Stats");var i=n?stattag(t):entitytag(t);return r?"W/"+i:i}function isstats(t){return"function"==typeof Stats&&t instanceof Stats?!0:t&&"object"==typeof t&&"ctime"in t&&"[object Date]"===toString.call(t.ctime)&&"mtime"in t&&"[object Date]"===toString.call(t.mtime)&&"ino"in t&&"number"==typeof t.ino&&"size"in t&&"number"==typeof t.size}function stattag(t){var e=t.mtime.getTime().toString(16),n=t.size.toString(16);return'"'+n+"-"+e+'"'}module.exports=etag;var crypto=require("crypto"),Stats=require("fs").Stats,base64PadCharRegExp=/=+$/,toString=Object.prototype.toString;