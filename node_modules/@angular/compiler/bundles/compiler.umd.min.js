!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core")):"function"==typeof define&&define.amd?define(["exports","@angular/core"],t):t((e.ng=e.ng||{},e.ng.compiler=e.ng.compiler||{}),e.ng.core)}(this,function(e,t){"use strict";function d(e,t,r){void 0===r&&(r=null);var n=[],i=e.visit?function(t){return e.visit(t,r)||t.visit(e,r)}:function(t){return t.visit(e,r)};return t.forEach(function(e){var t=i(e);t&&n.push(t)}),n}function m(e){return void 0!==e&&null!==e}function y(e){return void 0===e||null===e}function _(e){return"object"==typeof e&&null!==e&&Object.getPrototypeOf(e)===g}function w(e){if("string"==typeof e)return e;if(void 0===e||null===e)return""+e;if(e.overriddenName)return e.overriddenName;if(e.name)return e.name;var t=e.toString(),r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function C(e){return y(e)?null:e}function S(e){return y(e)?!1:e}function x(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function b(e){return!x(e)}function T(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function I(e,t){if(m(e))for(var r=0;r<e.length;r++){var n=e[r];Array.isArray(n)?I(n,t):t.push(n)}return t}function N(e){if(":"!=e[0])return[null,e];var t=e.indexOf(":",1);if(-1==t)throw new Error('Unsupported format "'+e+'" expecting ":namespace:name"');return[e.slice(1,t),e.slice(t+1)]}function D(e){return null===e?null:N(e)[0]}function R(e,t){return e?":"+e+":"+t:t}function j(e){return F[e.toLowerCase()]||U}function $e(e,t,r){var n=new Ze(e,t);return r.visitExpression(n,null)}function Je(e){var t=new et;return t.visitAllStatements(e,null),t.varNames}function tt(e,t){return void 0===t&&(t=null),new ce(e,t)}function rt(e,t){return void 0===t&&(t=null),new ge(e,null,t)}function nt(e,t,r){return void 0===t&&(t=null),void 0===r&&(r=null),m(e)?new $(e,t,r):null}function it(e,t){return void 0===t&&(t=null),new Ae(e,t)}function ot(e,t){return void 0===t&&(t=null),new Pe(e,t)}function st(e){return new we(e)}function at(e,t,r){return void 0===r&&(r=null),new Se(e,t,r)}function ut(e,t){return void 0===t&&(t=null),new ye(e,t)}function pt(e,t){return ht(e,":",t)}function lt(e,t){return ht(e,".",t)}function ht(e,t,r){var n=e.indexOf(t);return-1==n?r:[e.slice(0,n).trim(),e.slice(n+1).trim()]}function ft(e){return e.replace(/\W/g,"_")}function vt(e,t,r){return Array.isArray(e)?t.visitArray(e,r):_(e)?t.visitStringMap(e,r):y(e)||b(e)?t.visitPrimitive(e,r):t.visitOther(e,r)}function mt(e,t,r){return void 0===t&&(t=null),void 0===r&&(r="src"),null==t?"asset:@angular/lib/"+e+"/index":"asset:@angular/lib/"+e+"/src/"+t}function yt(e){return m(e.value)?ut(e.value):e.identifierIsInstance?rt(e.identifier).instantiate([],nt(e.identifier,[],[K.Const])):rt(e.identifier)}function wt(){throw new Error("unimplemented")}function zt(e){var r=H.parse(e.selector)[0].getMatchingElementTemplate();return qt.create({type:new Ut({reference:Object,name:e.type.name+"_Host",moduleUrl:e.type.moduleUrl,isHost:!0}),template:new Ht({encapsulation:t.ViewEncapsulation.None,template:r,templateUrl:"",styles:[],styleUrls:[],ngContentSelectors:[],animations:[]}),changeDetection:t.ChangeDetectionStrategy.Default,inputs:[],outputs:[],host:{},isComponent:!0,selector:"*",providers:[],viewProviders:[],queries:[],viewQueries:[]})}function Xt(e){var t=new Map;return e.forEach(function(e){t.get(e.identifier.reference)||t.set(e.identifier.reference,e)}),P.values(t)}function Gt(e){return e||[]}function Yt(e){return"object"==typeof e&&null!==e&&e.name&&e.filePath}function An(e){return e>=Tr&&Ir>=e||e==bn}function Pn(e){return e>=Jr&&en>=e}function Mn(e){return e>=hn&&En>=e||e>=tn&&sn>=e}function kn(e){return e>=hn&&vn>=e||e>=tn&&nn>=e||Pn(e)}function In(e,r){if(t.isDevMode()&&!y(r)){if(!Array.isArray(r))throw new Error("Expected '"+e+"' to be an array of strings.");for(var n=0;n<r.length;n+=1)if("string"!=typeof r[n])throw new Error("Expected '"+e+"' to be an array of strings.")}}function Nn(e,r){if(m(r)&&(!Array.isArray(r)||2!=r.length))throw new Error("Expected '"+e+"' to be an array, [start, end].");if(t.isDevMode()&&!y(r)){var n=r[0],i=r[1];On.forEach(function(e){if(e.test(n)||e.test(i))throw new Error("['"+n+"', '"+i+"'] contains unusable interpolation symbol.")})}}function Un(t,r){return new Fn(t,e.TokenType.Character,r,String.fromCharCode(r))}function jn(t,r){return new Fn(t,e.TokenType.Identifier,0,r)}function Bn(t,r){return new Fn(t,e.TokenType.Keyword,0,r)}function Hn(t,r){return new Fn(t,e.TokenType.Operator,0,r)}function qn(t,r){return new Fn(t,e.TokenType.String,0,r)}function zn(t,r){return new Fn(t,e.TokenType.Number,r,"")}function Wn(t,r){return new Fn(t,e.TokenType.Error,0,r)}function Xn(e){return e>=hn&&En>=e||e>=tn&&sn>=e||e==ln||e==Rr}function Gn(e){if(0==e.length)return!1;var t=new Kn(e);if(!Xn(t.peek))return!1;for(t.advance();t.peek!==br;){if(!Yn(t.peek))return!1;t.advance()}return!0}function Yn(e){return Mn(e)||Pn(e)||e==ln||e==Rr}function $n(e){return e==fn||e==rn}function Zn(e){return e==zr||e==Hr}function Jn(e){return e===Fr||e===Nr||e===Tn}function ei(e){switch(e){case dn:return Ar;case vn:return Mr;case mn:return kr;case yn:return Tr;case _n:return Pr;default:return e}}function ni(e){var t=T(e.start)+"([\\s\\S]*?)"+T(e.end);return new RegExp(t,"g")}function yi(e,t,r){void 0===r&&(r=null);var n=[],i=e.visit?function(t){return e.visit(t,r)||t.visit(e,r)}:function(t){return t.visit(e,r)};return t.forEach(function(e){var t=i(e);t&&n.push(t)}),n}function Si(e,t,r,n,i){return void 0===n&&(n=!1),void 0===i&&(i=Rn),new Pi(new ui(e,t),r,n,i).tokenize()}function bi(e){var t=e===br?"EOF":String.fromCharCode(e);return'Unexpected character "'+t+'"'}function Ti(e){return'Unknown entity "'+e+'" - use the "&#<decimal>;" or  "&#x<hex>;" syntax'}function Mi(e){return!An(e)||e===br}function ki(e){return An(e)||e===$r||e===Qr||e===Fr||e===Nr||e===Yr}function Ii(e){return(hn>e||e>En)&&(tn>e||e>sn)&&(Jr>e||e>en)}function Oi(e){return e==Xr||e==br||!kn(e)}function Ni(e){return e==Xr||e==br||!Mn(e)}function Di(e,t,r){var n=r?e.indexOf(r.start,t)==t:!1;return e.charCodeAt(t)==Cn&&!n}function Ri(e){return e===Yr||Mn(e)}function Li(e,t){return Vi(e)==Vi(t)}function Vi(e){return e>=hn&&En>=e?e-hn+tn:e}function Fi(e){for(var r,t=[],n=0;n<e.length;n++){var i=e[n];r&&r.type==_i.TEXT&&i.type==_i.TEXT?(r.parts[0]+=i.parts[0],r.sourceSpan.end=i.sourceSpan.end):(r=i,t.push(r))}return t}function zi(e,t){return e.length>0&&e[e.length-1]===t}function Wi(e){return Gi(Xi(e.nodes).join("")+("["+e.meaning+"]"))}function Xi(e){return e.map(function(e){return e.visit(Ki,null)})}function Gi(e){var t=Yi(e),r=Zi(t),n=8*t.length,i=new Array(80),o=[1732584193,4023233417,2562383102,271733878,3285377520],s=o[0],a=o[1],u=o[2],c=o[3],p=o[4];r[n>>5]|=128<<24-n%32,r[(n+64>>9<<4)+15]=n;for(var l=0;l<r.length;l+=16){for(var h=[s,a,u,c,p],f=h[0],v=h[1],d=h[2],m=h[3],y=h[4],g=0;80>g;g++){16>g?i[g]=r[l+g]:i[g]=ro(i[g-3]^i[g-8]^i[g-14]^i[g-16],1);var _=eo(g,a,u,c),w=_[0],E=_[1],C=[ro(s,5),w,p,E,i[g]].reduce(to);T=[c,u,ro(a,30),s,C],p=T[0],c=T[1],u=T[2],a=T[3],s=T[4]}A=[to(s,f),to(a,v),to(u,d),to(c,m),to(p,y)],s=A[0],a=A[1],u=A[2],c=A[3],p=A[4]}for(var S=Ji([s,a,u,c,p]),x="",l=0;l<S.length;l++){var b=S.charCodeAt(l);x+=(b>>>4&15).toString(16)+(15&b).toString(16)}return x.toLowerCase();var T,A}function Yi(e){for(var t="",r=0;r<e.length;r++){var n=$i(e,r);127>=n?t+=String.fromCharCode(n):2047>=n?t+=String.fromCharCode(192|n>>>6,128|63&n):65535>=n?t+=String.fromCharCode(224|n>>>12,128|n>>>6&63,128|63&n):2097151>=n&&(t+=String.fromCharCode(240|n>>>18,128|n>>>12&63,128|n>>>6&63,128|63&n))}return t}function $i(e,t){if(0>t||t>=e.length)throw new Error("index="+t+' is out of range in "'+e+'"');var n,r=e.charCodeAt(t);return r>=55296&&57343>=r&&e.length>t+1&&(n=e.charCodeAt(t+1),n>=56320&&57343>=n)?1024*(r-55296)+n-56320+65536:r}function Zi(e){for(var t=Array(e.length>>>2),r=0;r<t.length;r++)t[r]=0;for(var r=0;r<e.length;r++)t[r>>>2]|=(255&e.charCodeAt(r))<<8*(3-r&3);return t}function Ji(e){for(var t="",r=0;r<4*e.length;r++)t+=String.fromCharCode(e[r>>>2]>>>8*(3-r&3)&255);return t}function eo(e,t,r,n){return 20>e?[t&r|~t&n,1518500249]:40>e?[t^r^n,1859775393]:60>e?[t&r|t&n|r&n,2400959708]:[t^r^n,3395469782]}function to(e,t){var r=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(r>>16);return n<<16|65535&r}function ro(e,t){return e<<t|e>>>32-t}function fo(e){var t=new vo(ho,e);return function(e,r,n){return t.toI18nMessage(e,r,n)}}function yo(e){return e.split(mo)[1]}function So(e,t,r,n){var i=new Ao(r,n);return i.extract(e,t)}function xo(e,t,r,n,i){var o=new Ao(n,i);return o.merge(e,t,r)}function Po(e){return e instanceof mi&&e.value&&e.value.startsWith("i18n")}function Mo(e){return e instanceof mi&&e.value&&"/i18n"===e.value}function ko(e){return e.attrs.find(function(e){return e.name===wo})||null}function Io(e){if(!e)return["",""];var t=e.indexOf("|");return-1==t?["",e]:[e.slice(0,t),e.slice(t+1)]}function Ro(e){return Do}function Fo(e){var t=e.getMessageMap(),r={};return Object.keys(t).forEach(function(e){r[e]=t[e].placeholders}),r}function Uo(e){var t=e.getMessageMap(),r={};return Object.keys(t).forEach(function(e){r[e]=t[e].placeholderToMsgIds}),r}function qo(e){return e.map(function(e){return e.visit(Ho)}).join("")}function Yo(e){return Go.reduce(function(e,t){return e.replace(t[0],t[1])},e)}function as(e){switch(e.toLowerCase()){case"br":return"lb";case"img":return"image";default:return"x-"+e}}function ha(e){return new Dt({name:e.name,moduleUrl:e.moduleUrl,reference:Hs.resolveIdentifier(e.name,e.moduleUrl,e.runtime)})}function fa(e){return new Ft({identifier:e})}function va(e){return fa(ha(e))}function da(e,t){var r=Hs.resolveEnum(e.reference,t);return new Dt({name:e.name+"."+t,moduleUrl:e.moduleUrl,reference:r})}function wa(e){var t=new Sa;return new Ea(yi(t,e),t.isExpanded,t.errors)}function xa(e,t){var r=e.cases.map(function(e){-1!=_a.indexOf(e.value)||e.value.match(/^=\d+$/)||t.push(new Ca(e.valueSourceSpan,'Plural cases should be "=<number>" or one of '+_a.join(", ")));var r=wa(e.expression);return t.push.apply(t,r.errors),new di("template",[new vi("ngPluralCase",""+e.value,e.valueSourceSpan)],r.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan)}),n=new vi("[ngPlural]",e.switchValue,e.switchValueSourceSpan);return new di("ng-container",[n],r,e.sourceSpan,e.sourceSpan,e.sourceSpan)}function ba(e,t){var r=e.cases.map(function(e){var r=wa(e.expression);return t.push.apply(t,r.errors),new di("template",[new vi("ngSwitchCase",""+e.value,e.valueSourceSpan)],r.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan)}),n=new vi("[ngSwitch]",e.switchValue,e.switchValueSourceSpan);return new di("ng-container",[n],r,e.sourceSpan,e.sourceSpan,e.sourceSpan)}function Ia(e,t){var r=t.useExisting,n=t.useValue,i=t.deps;return new Lt({token:e.token,useClass:e.useClass,useExisting:r,useFactory:e.useFactory,useValue:n,deps:i,multi:e.multi})}function Oa(e,t){var r=t.eager,n=t.providers;return new f(e.token,e.multiProvider,e.eager||r,n,e.providerType,e.lifecycleHooks,e.sourceSpan)}function Na(e,t,r,n){return void 0===n&&(n=null),n||(n=[]),m(e)&&e.forEach(function(e){if(Array.isArray(e))Na(e,t,r,n);else{var i=void 0;e instanceof Lt?i=e:e instanceof Ut?i=new Lt({token:new Ft({identifier:e}),useClass:e}):r.push(new Aa("Unknown provider type "+e,t)),m(i)&&n.push(i)}}),n}function Da(t,r,n){var i=new Map;t.forEach(function(t){var o=new Lt({token:new Ft({identifier:t.type}),useClass:t.type});Ra([o],t.isComponent?e.ProviderAstType.Component:e.ProviderAstType.Directive,!0,r,n,i)});var o=t.filter(function(e){return e.isComponent}).concat(t.filter(function(e){return!e.isComponent}));return o.forEach(function(t){Ra(Na(t.providers,r,n),e.ProviderAstType.PublicService,!1,r,n,i),Ra(Na(t.viewProviders,r,n),e.ProviderAstType.PrivateService,!1,r,n,i)}),i}function Ra(e,t,r,n,i,o){e.forEach(function(e){var s=o.get(e.token.reference);if(m(s)&&s.multiProvider!==e.multi&&i.push(new Aa("Mixing multi and non multi provider is not possible for token "+s.token.name,n)),s)e.multi||k.clear(s.providers),s.providers.push(e);else{var a=e.token.identifier&&e.token.identifier instanceof Ut?e.token.identifier.lifecycleHooks:[];s=new f(e.token,e.multi,r||a.length>0,[e],t,a,n),o.set(e.token.reference,s)}})}function La(e){var t=new Map;return m(e.viewQueries)&&e.viewQueries.forEach(function(e){return Fa(t,e)}),e.type.diDeps.forEach(function(e){m(e.viewQuery)&&Fa(t,e.viewQuery)}),t}function Va(e){var t=new Map;return e.forEach(function(e){m(e.queries)&&e.queries.forEach(function(e){return Fa(t,e)}),e.type.diDeps.forEach(function(e){m(e.query)&&Fa(t,e.query)})}),t}function Fa(e,t){t.selectors.forEach(function(r){var n=e.get(r.reference);n||(n=[],e.set(r.reference,n)),n.push(t)})}function Ba(e){if(y(e)||0===e.length||"/"==e[0])return!1;var t=e.match(za);return null===t||"package"==t[1]||"asset"==t[1]}function Ha(e,t,r){var n=[],i=r.replace(qa,function(){for(var r=[],i=0;i<arguments.length;i++)r[i-0]=arguments[i];var o=r[1]||r[2];return Ba(o)?(n.push(e.resolve(t,o)),""):r[0]});return new ja(i,n)}function tu(e){var t=null,r=null,n=null,i=!1,o=null;e.attrs.forEach(function(e){var s=e.name.toLowerCase();s==Wa?t=e.value:s==Ga?r=e.value:s==Xa?n=e.value:e.name==Ja?i=!0:e.name==eu&&e.value.length>0&&(o=e.value)}),t=iu(t);var s=e.name.toLowerCase(),a=ru.OTHER;return N(s)[1]==Qa?a=ru.NG_CONTENT:s==$a?a=ru.STYLE:s==Za?a=ru.SCRIPT:s==Ka&&n==Ya&&(a=ru.STYLESHEET),new nu(a,t,r,i,o)}function iu(e){return null===e||0===e.length?"*":e}function Ru(e){return e.trim().split(/\s+/g)}function Vu(e,t){var r=new H,n=N(e)[1];r.setElement(n);for(var i=0;i<t.length;i++){var o=t[i][0],s=N(o)[1],a=t[i][1];if(r.addAttribute(s,a),o.toLowerCase()==Eu){var u=Ru(a);u.forEach(function(e){return r.addClassName(e)})}}return r}function Bu(e){return"@"==e[0]}function Hu(e){return e instanceof li&&0==e.value.trim().length}function qu(){throw new Error("unimplemented")}function xc(e,t){var r=ut(Zs);switch(t){case Zs:return e.equals(r);case Ys:return ut(!0);default:return e.equals(ut(t))}}function bc(e){if(e instanceof ec&&e.duration>0&&2==e.keyframes.length){var t=Tc(e.keyframes[0])[0],r=Tc(e.keyframes[1])[0];return 0===Object.keys(t).length&&0===Object.keys(r).length}return!1}function Tc(e){return e.styles.styles}function Lc(e,t){var r=[];e.styles.styles.forEach(function(e){"object"==typeof e&&null!==e?r.push(e):t.push(new Nc("State based animations cannot contain references to other states"))});var n=new tc(r),i=e.stateNameExpr.split(/\s*,\s*/);return i.map(function(e){return new $u(e,n)})}function Vc(e,t,r){var n=new Pc,i=[],o=e.stateChangeExpr.split(/\s*,\s*/);o.forEach(function(e){i.push.apply(i,Uc(e,r))});var s=jc(e.steps),a=Hc(s,t,r),u=Xc(a,0,n,t,r);0==r.length&&Gc(u,n,r);var c=u instanceof nc?u:new oc([u]);return new Ju(i,c)}function Fc(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";default:return t.push(new Nc('the transition alias value "'+e+'" is not supported')),"* => *"}}function Uc(e,t){var r=[];":"==e[0]&&(e=Fc(e,t));var n=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(!m(n)||n.length<4)return t.push(new Nc("the provided "+e+" is not of a supported format")),r;var i=n[1],o=n[2],s=n[3];r.push(new Zu(i,s));var a=i==Ys&&s==Ys;return"<"!=o[0]||a||r.push(new Zu(s,i)),r}function jc(e){return Array.isArray(e)?new Ot(e):e}function Bc(e,t,r){var n=[];return e.styles.forEach(function(e){"string"==typeof e?k.addAll(n,Wc(e,t,r)):n.push(e)}),n}function Hc(e,t,r){var n=zc(e,t,r);return e instanceof Nt?new Nt(n):new Ot(n)}function qc(e,t){if("object"==typeof t&&null!==t&&e.length>0){var r=e.length-1,n=e[r];if("object"==typeof n&&null!==n)return void(e[r]=M.merge(n,t))}e.push(t)}function zc(e,t,r){var n;if(!(e instanceof It))return[e];n=e.steps;var o,i=[];return n.forEach(function(e){if(e instanceof Mt)m(o)||(o=[]),Bc(e,t,r).forEach(function(e){qc(o,e)});else{if(m(o)&&(i.push(new Mt(0,o)),o=null),e instanceof kt){var n=e.styles;n instanceof Mt?n.styles=Bc(n,t,r):n instanceof Pt&&n.steps.forEach(function(e){e.styles=Bc(e,t,r)})}else if(e instanceof It){var s=zc(e,t,r);e=e instanceof Nt?new Nt(s):new Ot(s)}i.push(e)}}),m(o)&&i.push(new Mt(0,o)),i}function Wc(e,t,r){var n=[];if(":"!=e[0])r.push(new Nc('Animation states via styles must be prefixed with a ":"'));else{var i=e.substring(1),o=t[i];m(o)?o.styles.forEach(function(e){"object"==typeof e&&null!==e&&n.push(e)}):r.push(new Nc('Unable to apply styles due to missing a state: "'+i+'"'))}return n}function Kc(e,t,r,n,i){var o=e.steps.length,s=0;e.steps.forEach(function(e){return s+=m(e.offset)?1:0}),s>0&&o>s&&(i.push(new Nc("Not all style() entries contain an offset for the provided keyframe()")),s=o);var a=o-1,u=0==s?1/a:0,c=[],p=0,l=!1,h=0;e.steps.forEach(function(e){var t=e.offset,r={};e.styles.forEach(function(e){Object.keys(e).forEach(function(t){"offset"!=t&&(r[t]=e[t])})}),m(t)?l=l||h>t:t=p==a?Ic:u*p,c.push([t,r]),h=t,p++}),l&&k.sort(c,function(e,t){return e[0]<=t[0]?-1:1});var f=c[0];f[0]!=kc&&k.insert(c,0,f=[kc,{}]);var v=f[1];a=c.length-1;var d=c[a];d[0]!=Ic&&(c.push(d=[Ic,{}]),a++);for(var y=d[1],g=1;a>=g;g++){var _=c[g],w=_[1];Object.keys(w).forEach(function(e){m(v[e])||(v[e]=Js)})}for(var E=function(e){var t=c[e],r=t[1];Object.keys(r).forEach(function(e){m(y[e])||(y[e]=r[e])})},g=a-1;g>=0;g--)E(g);return c.map(function(e){return new rc(e[0],new tc([e[1]]))})}function Xc(e,t,r,n,i){var o,s=0,a=t;if(e instanceof It){var l,u=0,c=[],p=e instanceof Nt;if(e.steps.forEach(function(e){var o=p?a:t;if(e instanceof Mt)return e.styles.forEach(function(e){var t=e;Object.keys(t).forEach(function(e){r.insertAtTime(e,o,t[e])})}),void(l=e.styles);var h=Xc(e,o,r,n,i);if(m(l)){if(e instanceof It){var f=new tc(l);c.push(new ec(f,[],0,0,""))}else{var v=h;k.addAll(v.startingStyles.styles,l)}l=null}var d=h.playTime;t+=d,s+=d,u=Math.max(d,u),c.push(h)}),m(l)){var h=new tc(l);c.push(new ec(h,[],0,0,""))}p?(o=new ic(c),s=u,t=a+s):o=new oc(c)}else if(e instanceof kt){var d,f=Yc(e.timings,i),v=e.styles;if(v instanceof Pt)d=Kc(v,t,r,n,i);else{var y=v,g=Ic,_=new tc(y.styles),w=new rc(g,_);d=[w]}o=new ec(new tc([]),d,f.duration,f.delay,f.easing),s=f.duration+f.delay,t+=s,d.forEach(function(e){return e.styles.styles.forEach(function(e){return Object.keys(e).forEach(function(n){r.insertAtTime(n,t,e[n])})})})}else o=new ec(null,[],0,0,"");return o.playTime=s,o.startTime=a,o}function Gc(e,t,r){if(e instanceof ec&&e.keyframes.length>0){var n=e.keyframes;if(1==n.length){var i=n[0],o=$c(i,e.startTime,e.playTime,t,r);e.keyframes=[o,i]}}else e instanceof nc&&e.steps.forEach(function(e){return Gc(e,t,r)})}function Yc(e,t){var n,r=/^([\.\d]+)(m?s)(?:\s+([\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?/i,i=0,o=null;if("string"==typeof e){var s=e.match(r);if(null===s)return t.push(new Nc('The provided timing value "'+e+'" is invalid.')),new Qc(0,0,null);var a=parseFloat(s[1]),u=s[2];"s"==u&&(a*=Oc),n=Math.floor(a);var c=s[3],p=s[4];if(m(c)){var l=parseFloat(c);m(p)&&"s"==p&&(l*=Oc),i=Math.floor(l)}var h=s[5];y(h)||(o=h)}else n=e;return new Qc(n,i,o)}function $c(e,t,r,n,i){var o={},s=t+r;return e.styles.styles.forEach(function(e){Object.keys(e).forEach(function(r){var a=e[r];if("offset"!=r){var c,p,l,u=n.indexOfAtOrBeforeTime(r,t);m(u)?(c=n.getByIndex(r,u),l=c.value,p=n.getByIndex(r,u+1)):l=Js,m(p)&&!p.matches(s,a)&&i.push(new Nc('The animated CSS property "'+r+'" unexpectedly changes between steps "'+c.time+'ms" and "'+s+'ms" at "'+p.time+'ms"')),o[r]=l}})}),new rc(kc,new tc([o]))}function cp(e,t){var r=tt("changed"),n=[r.set(Me.prop(tp)).toDeclStmt(),Me.prop(tp).set(ut(!1)).toStmt()],i=[];if(e.genChanges){var o=[];e.ngOnChanges&&o.push(Me.prop(Jc).callMethod("ngOnChanges",[Me.prop(ep)]).toStmt()),t&&o.push(rt(ha(la.setBindingDebugInfoForChanges)).callFn([op.prop("renderer"),sp,Me.prop(ep)]).toStmt()),o.push(ap),i.push(new We(r,o))}return e.ngOnInit&&i.push(new We(op.prop("numberOfChecks").identical(new ye(0)),[Me.prop(Jc).callMethod("ngOnInit",[]).toStmt()])),e.ngDoCheck&&i.push(Me.prop(Jc).callMethod("ngDoCheck",[]).toStmt()),i.length>0&&n.push(new We(st(np),i)),n.push(new Ue(r)),new He("detectChangesInternal",[new Ce(op.name,nt(ha(la.AppView),[ee])),new Ce(sp.name,ee),new Ce(np.name,te)],n,te)}function pp(e,t,r){var n=[Me.prop(tp).set(ut(!0)).toStmt(),Me.prop(Jc).prop(e).set(rp).toStmt()];r.genChanges&&n.push(Me.prop(ep).key(ut(e)).set(rt(ha(la.SimpleChange)).instantiate([t,rp])).toStmt()),n.push(t.set(rp).toStmt());var i=[new We(ip.or(rt(ha(la.checkBinding)).callFn([np,t,rp])),n)];return new He("check_"+e,[new Ce(rp.name,ee),new Ce(np.name,te),new Ce(ip.name,te)],i)}function lp(e,t){return void 0===t&&(t=null),vt(e,new hp,t)}function yp(e,t,r){if(t===r)return e;for(var n=Me,i=t;i!==r&&m(i.declarationElement.view);)i=i.declarationElement.view,n=n.prop("parent");if(i!==r)throw new Error("Internal error: Could not calculate a property in a parent view: "+e);return e.visitExpression(new gp(n,r),null)}function _p(e,t){var r=[yt(e)];return t&&r.push(Ne),Me.prop("parentInjector").callMethod("get",r)}function wp(e,t){return"viewFactory_"+e.type.name+t}function Ep(e){for(var t=[],r=it([]),n=0;n<e.length;n++){var i=e[n];i.type instanceof Z?(t.length>0&&(r=r.callMethod(fe.ConcatArray,[it(t)]),t=[]),r=r.callMethod(fe.ConcatArray,[i])):t.push(i)}return t.length>0&&(r=r.callMethod(fe.ConcatArray,[it(t)])),r}function Cp(e,t,r,n){n.fields.push(new Be(r.name,null));var i=t<la.pureProxies.length?la.pureProxies[t]:null;if(!i)throw new Error("Unsupported number of argument for pure functions: "+t);n.createMethod.addStmt(Me.prop(r.name).set(rt(ha(i)).callFn([e])).toStmt())}function bp(e){return k.flatten(e.values.map(function(e){return e instanceof Sp?Tp(e.view.declarationElement.appElement,e.view,bp(e)):e}))}function Tp(e,t,r){var n=r.map(function(e){return $e(Me.name,tt("nestedView"),e)});return e.callMethod("mapNestedViews",[tt(t.className),at([new Ce("nestedView",t.classType)],[new Ue(it(n))],ee)])}function Ap(e,t,r,n){n.fields.push(new Be(r,nt(ha(la.QueryList),[ee])));var i=Me.prop(r);return n.createMethod.addStmt(Me.prop(r).set(rt(ha(la.QueryList),[ee]).instantiate([])).toStmt()),i}function Pp(e,t){t.meta.selectors.forEach(function(r){var n=e.get(r.reference);n||(n=[],e.set(r.reference,n)),n.push(t)})}function Mp(e,t){return rt(da(e,t))}function zp(e,t,r,n){var i;return i=t>0?ut(e).lowerEquals(Lp.requestNodeIndex).and(Lp.requestNodeIndex.lowerEquals(ut(e+t))):ut(e).identical(Lp.requestNodeIndex),new We(Lp.token.identical(yt(r.token)).and(i),[new Ue(n)])}function Wp(e,t,r,n,i,o){var a,u,s=o.view;if(n?(a=it(r),u=new Z(ee)):(a=r[0],u=r[0].type),u||(u=ee),i)s.fields.push(new Be(e,u)),s.createMethod.addStmt(Me.prop(e).set(a).toStmt());else{var c="_"+e;s.fields.push(new Be(c,u));var p=new dp(s);p.resetDebugInfo(o.nodeIndex,o.sourceAst),p.addStmt(new We(Me.prop(c).isBlank(),[Me.prop(c).set(a).toStmt()])),p.addStmt(new Ue(Me.prop(c))),s.getters.push(new qe(e,p.finish(),u))}return Me.prop(e)}function Xp(e,t){for(var r=null,n=e.pipeMetas.length-1;n>=0;n--){var i=e.pipeMetas[n];if(i.name==t){r=i;break}}if(!r)throw new Error("Illegal state: Could not find pipe "+t+" although the parser should have detected this error!");return r}function Yp(e,t){return t>0?Ns.EMBEDDED:e.type.isHost?Ns.HOST:Ns.COMPONENT}function Jp(e,t,r,n,i){var o=new ul(e,t,n,i),s=r.visit(o,il.Expression);return new Zp(s,o.needsValueUnwrapper,o.temporaryCount)}function el(e,t,r,n){var i=new ul(e,t,null,n),o=[];return cl(r.visit(i,il.Statement),o),nl(i.temporaryCount,n,o),o}function tl(e,t){return"tmp_"+e+"_"+t}function rl(e,t){return new Le(tl(e,t),Ne)}function nl(e,t,r){for(var n=e-1;n>=0;n--)r.unshift(rl(t,n))}function ol(e,t){if(e!==il.Statement)throw new Error("Expected a statement, but saw "+t)}function sl(e,t){if(e!==il.Expression)throw new Error("Expected an expression, but saw "+t)}function al(e,t){return e===il.Statement?t.toStmt():t}function cl(e,t){Array.isArray(e)?e.forEach(function(e){return cl(e,t)}):t.push(e)}function ll(e,t,r){var n=[];return e.forEach(function(e){r.view.bindings.push(new $p(r,e));var t=pl.getOrCreate(r,e.target,e.name,e.phase,n);t.addAction(e,null,null)}),t.forEach(function(e){var t=r.instances.get(fa(e.directive.type).reference);e.hostEvents.forEach(function(i){r.view.bindings.push(new $p(r,i));var o=pl.getOrCreate(r,i.target,i.name,i.phase,n);o.addAction(i,e.directive,t)})}),n.forEach(function(e){return e.finishMethod()}),n}function hl(e,t,r){Object.keys(e.directive.outputs).forEach(function(n){var i=e.directive.outputs[n];r.filter(function(e){return e.eventName==i}).forEach(function(e){e.listenToDirective(t,n)})})}function fl(e){e.forEach(function(e){e.isAnimation||e.listenToRenderer()})}function vl(e){return e instanceof Fe?e.expr:e instanceof Ue?e.value:null}function dl(e){return e.replace(/[^a-zA-Z_]/g,"_")}function gl(e,t,r){var n=r.view,i=e.type.lifecycleHooks,o=n.afterContentLifecycleCallbacksMethod;o.resetDebugInfo(r.nodeIndex,r.sourceAst),-1!==i.indexOf(xs.AfterContentInit)&&o.addStmt(new We(ml,[t.callMethod("ngAfterContentInit",[]).toStmt()])),-1!==i.indexOf(xs.AfterContentChecked)&&o.addStmt(t.callMethod("ngAfterContentChecked",[]).toStmt())}function _l(e,t,r){var n=r.view,i=e.type.lifecycleHooks,o=n.afterViewLifecycleCallbacksMethod;o.resetDebugInfo(r.nodeIndex,r.sourceAst),-1!==i.indexOf(xs.AfterViewInit)&&o.addStmt(new We(ml,[t.callMethod("ngAfterViewInit",[]).toStmt()])),-1!==i.indexOf(xs.AfterViewChecked)&&o.addStmt(t.callMethod("ngAfterViewChecked",[]).toStmt())}function wl(e,t,r){var n=r.view.destroyMethod;n.resetDebugInfo(r.nodeIndex,r.sourceAst),-1!==e.lifecycleHooks.indexOf(xs.OnDestroy)&&n.addStmt(t.callMethod("ngOnDestroy",[]).toStmt())}function El(e,t,r){var n=r.destroyMethod;-1!==e.type.lifecycleHooks.indexOf(xs.OnDestroy)&&n.addStmt(t.callMethod("ngOnDestroy",[]).toStmt())}function Cl(e){return Me.prop("_expr_"+e)}function Sl(e){return tt("currVal_"+e)}function bl(e,t,r,n,i,o){var s=Jp(e,n,r,Vp.valUnwrapper,o);if(!s.expression)return null;if(s.temporaryCount)for(var a=0;a<s.temporaryCount;a++)i.addStmt(rl(o,a));if(s.needsValueUnwrapper){var u=Vp.valUnwrapper.callMethod("reset",[]).toStmt();i.addStmt(u)}return i.addStmt(t.set(s.expression).toDeclStmt(null,[De.Final])),new xl(s.needsValueUnwrapper?Vp.valUnwrapper.prop("hasWrappedValue"):null)}function Tl(e,t,r,n,i,o,s,a){var u=bl(e,t,n,i,s,a);if(u){e.fields.push(new Be(r.name,null,[De.Private])),e.createMethod.addStmt(Me.prop(r.name).set(rt(ha(la.UNINITIALIZED))).toStmt());var c=rt(ha(la.checkBinding)).callFn([Vp.throwOnChange,r,t]);u.forceUpdate&&(c=u.forceUpdate.or(c)),s.addStmt(new We(c,o.concat([Me.prop(r.name).set(t).toStmt()])))}}function Al(e,t,r){var n=r.bindings.length;r.bindings.push(new $p(t,e));var i=Sl(n),o=Cl(n);r.detectChangesRenderPropertiesMethod.resetDebugInfo(t.nodeIndex,e),Tl(r,i,o,e.value,r.componentContext,[Me.prop("renderer").callMethod("setText",[t.renderNode,i]).toStmt()],r.detectChangesRenderPropertiesMethod,n)}function Pl(t,r,n,i,o){var s=n.view,a=n.renderNode;t.forEach(function(t){var u=s.bindings.length;s.bindings.push(new $p(n,t)),s.detectChangesRenderPropertiesMethod.resetDebugInfo(n.nodeIndex,t);var c=Cl(u),p=Sl(u),l=Ml(t,c),h=Ml(t,p),f=[],v=s.detectChangesRenderPropertiesMethod;switch(t.type){case e.PropertyBindingType.Property:s.genConfig.logBindingUpdate&&f.push(Nl(a,t.name,h)),f.push(Me.prop("renderer").callMethod("setElementProperty",[a,ut(t.name),h]).toStmt());break;case e.PropertyBindingType.Attribute:h=h.isBlank().conditional(Ne,h.callMethod("toString",[])),f.push(Me.prop("renderer").callMethod("setElementAttribute",[a,ut(t.name),h]).toStmt());break;case e.PropertyBindingType.Class:f.push(Me.prop("renderer").callMethod("setElementClass",[a,ut(t.name),h]).toStmt());break;case e.PropertyBindingType.Style:var d=h.callMethod("toString",[]);m(t.unit)&&(d=d.plus(ut(t.unit))),h=h.isBlank().conditional(Ne,d),f.push(Me.prop("renderer").callMethod("setElementStyle",[a,ut(t.name),h]).toStmt());break;case e.PropertyBindingType.Animation:v=s.animationBindingsMethod;var y=[],g=t.name,_=i?n.appElement.prop("componentView"):Me,w=_.prop("componentType").prop("animations").key(ut(g)),E=ut(Zs),C=rt(ha(la.UNINITIALIZED)),S=tt("animationTransition_"+g);f.push(S.set(w.callFn([Me,a,l.equals(C).conditional(E,l),h.equals(C).conditional(E,h)])).toDeclStmt()),y.push(S.set(w.callFn([Me,a,l,E])).toDeclStmt()),o.forEach(function(e){if(e.isAnimation&&e.eventName===g){var t=e.listenToAnimation(S);f.push(t),y.push(t)}}),s.detachMethod.addStmts(y)}Tl(s,p,c,t.value,r,f,v,s.bindings.length)})}function Ml(e,r){var n;switch(e.securityContext){case t.SecurityContext.NONE:return r;case t.SecurityContext.HTML:n="HTML";break;case t.SecurityContext.STYLE:n="STYLE";break;case t.SecurityContext.SCRIPT:n="SCRIPT";break;case t.SecurityContext.URL:n="URL";break;case t.SecurityContext.RESOURCE_URL:n="RESOURCE_URL";break;default:throw new Error("internal error, unexpected SecurityContext "+e.securityContext+".")}var i=Dp.viewUtils.prop("sanitizer"),o=[rt(ha(la.SecurityContext)).prop(n),r];return i.callMethod("sanitize",o)}function kl(e,t,r){Pl(e,t.view.componentContext,t,!1,r)}function Il(e,t,r,n){Pl(e.hostProperties,t,r,!0,n)}function Ol(e,t,r){var n=r.view,i=n.detectChangesInInputsMethod;i.resetDebugInfo(r.nodeIndex,r.sourceAst),e.inputs.forEach(function(e){var o=n.bindings.length;n.bindings.push(new $p(r,e)),i.resetDebugInfo(r.nodeIndex,e);var s=Sl(o),a=bl(n,s,e.value,n.componentContext,i,o);a&&i.addStmt(t.callMethod("check_"+e.directiveName,[s,Vp.throwOnChange,a.forceUpdate||ut(!1)]).toStmt())});var o=e.directive.isComponent&&!Cs(e.directive.changeDetection),s=t.callMethod("detectChangesInternal",[Me,r.renderNode,Vp.throwOnChange]),a=o?new We(s,[r.appElement.prop("componentView").callMethod("markAsCheckOnce",[]).toStmt()]):s.toStmt();i.addStmt(a)}function Nl(e,t,r){return rt(ha(la.setBindingDebugInfo)).callFn([Me.prop("renderer"),e,ut(t),r]).toStmt()}function Dl(e,t){var r=new Rl(e);d(r,t),e.pipes.forEach(function(e){El(e.meta,e.instance,e.view)})}function Hl(e,t,r){var n=new zl(e,r);return d(n,t,e.declarationElement.isNull()?e.declarationElement:e.declarationElement.parent),n.nestedViewCount}function ql(e,t){e.afterNodes(),Zl(e,t),e.nodes.forEach(function(e){e instanceof qp&&e.hasEmbeddedView&&ql(e.embeddedView,t)})}function Wl(e){for(var t=e.view;Kl(e.parent,t);)e=e.parent;return e}function Ql(e){for(var t=e.view;Kl(e,t);)e=e.parent;return e}function Kl(e,t){return!e.isNull()&&e.sourceAst.name===Ul&&e.view===t}function Xl(e,t){var r={};return Object.keys(e).forEach(function(t){r[t]=e[t]}),t.forEach(function(e){Object.keys(e.hostAttributes).forEach(function(t){var n=e.hostAttributes[t],i=r[t];r[t]=m(i)?Yl(t,i,n):n})}),$l(r)}function Gl(e){var t={};return e.forEach(function(e){t[e.name]=e.value}),t}function Yl(e,t,r){return e==Vl||e==Fl?t+" "+r:r}function $l(e){var t=[];return Object.keys(e).forEach(function(r){t.push([r,e[r]])}),k.sort(t),t}function Zl(e,t){var r=Ne;e.genConfig.genDebugInfo&&(r=tt("nodeDebugInfos_"+e.component.type.name+e.viewIndex),t.push(r.set(it(e.nodes.map(Jl),new Z(new $(ha(la.StaticNodeDebugInfo)),[K.Const]))).toDeclStmt(null,[De.Final])));var n=tt("renderType_"+e.component.type.name);0===e.viewIndex&&t.push(n.set(Ne).toDeclStmt(nt(ha(la.RenderComponentType))));var i=eh(e,n,r);t.push(i),t.push(th(e,i,n))}function Jl(e){var t=e instanceof qp?e:null,r=[],n=Ne,i=[];return m(t)&&(r=t.getProviderTokens(),m(t.component)&&(n=yt(fa(t.component.type))),Object.keys(t.referenceTokens).forEach(function(e){var r=t.referenceTokens[e];i.push([e,m(r)?yt(r):Ne])})),rt(ha(la.StaticNodeDebugInfo)).instantiate([it(r,new Z(ee,[K.Const])),n,ot(i,new J(ee,[K.Const]))],nt(ha(la.StaticNodeDebugInfo),null,[K.Const]))}function eh(e,t,r){var n=[new Ce(Np.viewUtils.name,nt(ha(la.ViewUtils))),new Ce(Np.parentInjector.name,nt(ha(la.Injector))),new Ce(Np.declarationEl.name,nt(ha(la.AppElement)))],i=[tt(e.className),t,kp.fromValue(e.viewType),Np.viewUtils,Np.parentInjector,Np.declarationEl,Op.fromValue(sh(e))];e.genConfig.genDebugInfo&&i.push(r);var o=new He(null,n,[ke.callFn(i).toStmt()]),s=[new He("createInternal",[new Ce(Bl.name,ie)],rh(e),nt(ha(la.AppElement))),new He("injectorGetInternal",[new Ce(Lp.token.name,ee),new Ce(Lp.requestNodeIndex.name,ne),new Ce(Lp.notFoundResult.name,ee)],ih(e.injectorGetMethod.finish(),Lp.notFoundResult),ee),new He("detectChangesInternal",[new Ce(Vp.throwOnChange.name,te)],nh(e)),new He("dirtyParentQueriesInternal",[],e.dirtyParentQueriesMethod.finish()),new He("destroyInternal",[],e.destroyMethod.finish()),new He("detachInternal",[],e.detachMethod.finish())].concat(e.eventHandlerMethods),a=e.genConfig.genDebugInfo?la.DebugAppView:la.AppView,u=new ze(e.className,rt(ha(a),[oh(e)]),e.fields,e.getters,o,s.filter(function(e){
return e.body.length>0}));return u}function th(e,t,r){var o,n=[new Ce(Np.viewUtils.name,nt(ha(la.ViewUtils))),new Ce(Np.parentInjector.name,nt(ha(la.Injector))),new Ce(Np.declarationEl.name,nt(ha(la.AppElement)))],i=[];if(o=e.component.template.templateUrl==e.component.type.moduleUrl?e.component.type.moduleUrl+" class "+e.component.type.name+" - inline template":e.component.template.templateUrl,0===e.viewIndex){var s=ot(e.animations.map(function(e){return[e.name,e.fnExp]}));i=[new We(r.identical(Ne),[r.set(Np.viewUtils.callMethod("createRenderComponentType",[ut(e.genConfig.genDebugInfo?o:""),ut(e.component.template.ngContentSelectors.length),Ip.fromValue(e.component.template.encapsulation),e.styles,s])).toStmt()])]}return at(n,i.concat([new Ue(tt(t.name).instantiate(t.constructorMethod.params.map(function(e){return tt(e.name)})))]),nt(ha(la.AppView),[oh(e)])).toDeclStmt(e.viewFactory.name,[De.Final])}function rh(e){var t=Ne,r=[];e.viewType===Ns.COMPONENT&&(t=Dp.renderer.callMethod("createViewRoot",[Me.prop("declarationAppElement").prop("nativeElement")]),r=[jl.set(t).toDeclStmt(nt(e.genConfig.renderTypes.renderNode),[De.Final])]);var n;return n=e.viewType===Ns.HOST?e.nodes[0].appElement:Ne,r.concat(e.createMethod.finish(),[Me.callMethod("init",[Ep(e.rootNodesOrAppElements),it(e.nodes.map(function(e){return e.renderNode})),it(e.disposables),it(e.subscriptions)]).toStmt(),new Ue(n)])}function nh(e){var t=[];if(e.animationBindingsMethod.isEmpty()&&e.detectChangesInInputsMethod.isEmpty()&&e.updateContentQueriesMethod.isEmpty()&&e.afterContentLifecycleCallbacksMethod.isEmpty()&&e.detectChangesRenderPropertiesMethod.isEmpty()&&e.updateViewQueriesMethod.isEmpty()&&e.afterViewLifecycleCallbacksMethod.isEmpty())return t;k.addAll(t,e.animationBindingsMethod.finish()),k.addAll(t,e.detectChangesInInputsMethod.finish()),t.push(Me.callMethod("detectContentChildrenChanges",[Vp.throwOnChange]).toStmt());var r=e.updateContentQueriesMethod.finish().concat(e.afterContentLifecycleCallbacksMethod.finish());r.length>0&&t.push(new We(st(Vp.throwOnChange),r)),k.addAll(t,e.detectChangesRenderPropertiesMethod.finish()),t.push(Me.callMethod("detectViewChildrenChanges",[Vp.throwOnChange]).toStmt());var n=e.updateViewQueriesMethod.finish().concat(e.afterViewLifecycleCallbacksMethod.finish());n.length>0&&t.push(new We(st(Vp.throwOnChange),n));var i=[],o=Je(t);return o.has(Vp.changed.name)&&i.push(Vp.changed.set(ut(!0)).toDeclStmt(te)),o.has(Vp.changes.name)&&i.push(Vp.changes.set(Ne).toDeclStmt(new J(nt(ha(la.SimpleChange))))),o.has(Vp.valUnwrapper.name)&&i.push(Vp.valUnwrapper.set(rt(ha(la.ValueUnwrapper)).instantiate([])).toDeclStmt(null,[De.Final])),i.concat(t)}function ih(e,t){return e.length>0?e.concat([new Ue(t)]):e}function oh(e){return e.viewType===Ns.COMPONENT?nt(e.component.type):ee}function sh(e){var t;return t=e.viewType===Ns.COMPONENT?Cs(e.component.changeDetection)?Ss.CheckAlways:Ss.CheckOnce:Ss.CheckAlways}function lh(e,t){var r=new Map,n=[];return e.forEach(function(e){var i=t.getNgModuleMetadata(e);n.push(i),i.declaredDirectives.forEach(function(e){r.set(e.type.reference,i)})}),new ph(r,n)}function fh(e){return e.dependencies.forEach(function(e){if(e instanceof Fp){var t=e;t.placeholder.moduleUrl=dh(t.comp.moduleUrl)}else if(e instanceof Up){var r=e;r.placeholder.name=mh(r.comp),r.placeholder.moduleUrl=dh(r.comp.moduleUrl)}else if(e instanceof jp){var n=e;n.placeholder.moduleUrl=dh(n.dir.moduleUrl)}}),e.statements}function vh(e,t){return e.dependencies.forEach(function(e){e.valuePlaceholder.moduleUrl=yh(e.moduleUrl,e.isShimmed,t)}),e.statements}function dh(e){var t=_h(e);return t[0]+".ngfactory"+t[1]}function mh(e){return e.name+"NgFactory"}function yh(e,t,r){return t?e+".shim"+r:""+e+r}function gh(e){if(!e.isComponent)throw new Error("Could not compile '"+e.type.name+"' because it is not a component.")}function _h(e){if(e.endsWith(".d.ts"))return[e.slice(0,-5),".ts"];var t=e.lastIndexOf(".");return-1!==t?[e.substring(0,t),e.substring(t)]:[e,""]}function Ch(){return new bh}function Sh(){return new bh(Eh)}function Th(e){var t=kh(e);return t&&t[Mh.Scheme]||""}function Ah(e,t,r,n,i,o,s){var a=[];return m(e)&&a.push(e+":"),m(r)&&(a.push("//"),m(t)&&a.push(t+"@"),a.push(r),m(n)&&a.push(":"+n)),m(i)&&a.push(i),m(o)&&a.push("?"+o),m(s)&&a.push("#"+s),a.join("")}function kh(e){return e.match(Ph)}function Ih(e){if("/"==e)return"/";for(var t="/"==e[0]?"/":"",r="/"===e[e.length-1]?"/":"",n=e.split("/"),i=[],o=0,s=0;s<n.length;s++){var a=n[s];switch(a){case"":case".":break;case"..":i.length>0?i.pop():o++;break;default:i.push(a)}}if(""==t){for(;o-->0;)i.unshift("..");0===i.length&&i.push(".")}return t+i.join("/")+r}function Oh(e){var t=e[Mh.Path];return t=y(t)?"":Ih(t),e[Mh.Path]=t,Ah(e[Mh.Scheme],e[Mh.UserInfo],e[Mh.Domain],e[Mh.Port],t,e[Mh.QueryData],e[Mh.Fragment])}function Nh(e,t){var r=kh(encodeURI(t)),n=kh(e);if(m(r[Mh.Scheme]))return Oh(r);r[Mh.Scheme]=n[Mh.Scheme];for(var i=Mh.Scheme;i<=Mh.Port;i++)y(r[i])&&(r[i]=n[i]);if("/"==r[Mh.Path][0])return Oh(r);var o=n[Mh.Path];y(o)&&(o="/");var s=o.lastIndexOf("/");return o=o.substring(0,s+1)+r[Mh.Path],r[Mh.Path]=o,Oh(r)}function Lh(e,t){return new qt({type:e.type,isComponent:e.isComponent,selector:e.selector,exportAs:e.exportAs,changeDetection:e.changeDetection,inputs:e.inputs,outputs:e.outputs,hostListeners:e.hostListeners,hostProperties:e.hostProperties,hostAttributes:e.hostAttributes,providers:e.providers,viewProviders:e.viewProviders,queries:e.queries,viewQueries:e.viewQueries,entryComponents:e.entryComponents,template:t})}function Fh(e){return e instanceof t.Directive}function Uh(e,t){return Hs.hasLifecycleHook(t,jh(e))}function jh(e){switch(e){case xs.OnInit:return"ngOnInit";case xs.OnDestroy:return"ngOnDestroy";case xs.DoCheck:return"ngDoCheck";case xs.OnChanges:return"ngOnChanges";case xs.AfterContentInit:return"ngAfterContentInit";case xs.AfterContentChecked:return"ngAfterContentChecked";case xs.AfterViewInit:return"ngAfterViewInit";case xs.AfterViewChecked:return"ngAfterViewChecked"}}function Bh(e){return e instanceof t.NgModule}function qh(e){return e instanceof t.Pipe}function Kh(e,t,r,n){return void 0===r&&(r=[]),void 0===n&&(n=new Set),e.forEach(function(e){if(!n.has(e.type.reference)){n.add(e.type.reference);var i=t?e.importedModules.concat(e.exportedModules):e.exportedModules;Kh(i,t,r,n),r.push(e)}}),r}function Xh(e,r){if(void 0===r&&(r=[]),e)for(var n=0;n<e.length;n++){var i=t.resolveForwardRef(e[n]);Array.isArray(i)?Xh(i,r):r.push(i)}return r}function Gh(e){return Yt(e)||e instanceof t.Type}function Yh(e){return Yt(e)?e.filePath:null}function $h(e,t,r){if(Yt(t))return Yh(t);var n=r.moduleId;if("string"==typeof n){var i=Th(n);return i?n:"package:"+n+ct}if(null!==n&&void 0!==n)throw new Error('moduleId should be a string in "'+w(t)+"\". See https://goo.gl/wIDDiL for more information.\nIf you're using Webpack you should inline the template and the styles, see https://goo.gl/X2J8zc.");return e.importUri(t)}function Zh(e,t){return vt(e,new Jh,t)}function vf(e,t,r){if(void 0===r&&(r=!0),y(e))return null;var n=e.replace(af,function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];return"$"==e[0]?t?"\\$":"$":"\n"==e[0]?"\\n":"\r"==e[0]?"\\r":"\\"+e[0]}),i=r||!uf.test(n);return i?"'"+n+"'":n}function df(e){for(var t="",r=0;e>r;r++)t+="  ";return t}function gf(e){var t=new wf(yf),r=hf.createRoot([]),n=Array.isArray(e)?e:[e];return n.forEach(function(e){if(e instanceof Re)e.visitStatement(t,r);else if(e instanceof ae)e.visitExpression(t,r);else{if(!(e instanceof X))throw new Error("Don't know how to print debug info for "+e);e.visitType(t,r)}}),r.toSource()}function Ef(e,t){var r=e.concat([new Ue(tt(t))]),n=new Sf(null,null,null,new Map),i=new Tf,o=i.visitAllStatements(r,n);return m(o)?o.value:null}function Cf(e,t,r,n,i){for(var o=n.createChildWihtLocalVars(),s=0;s<e.length;s++)o.vars.set(e[s],t[s]);var a=i.visitAllStatements(r,o);return m(a)?a.value:null}function bf(e,t,r){var n={};e.getters.forEach(function(i){n[i.name]={configurable:!1,get:function(){var n=new Sf(t,this,e.name,t.vars);return Cf([],[],i.body,n,r)}}}),e.methods.forEach(function(i){var o=i.params.map(function(e){return e.name});n[i.name]={writable:!1,configurable:!1,value:function(){for(var n=[],s=0;s<arguments.length;s++)n[s-0]=arguments[s];var a=new Sf(t,this,e.name,t.vars);return Cf(o,n,i.body,a,r)}}});var i=e.constructorMethod.params.map(function(e){return e.name}),o=function(){for(var n=this,o=[],s=0;s<arguments.length;s++)o[s-0]=arguments[s];var a=new Sf(t,this,e.name,t.vars);e.fields.forEach(function(e){n[e.name]=void 0}),Cf(i,o,e.constructorMethod.body,a,r)},s=e.parent?e.parent.visitExpression(r,t):Object;return o.prototype=Object.create(s.prototype,n),o}function Af(e,t,r,n){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return Cf(e,i,t,r,n)}}function Nf(e,t,r,n){var i=r+"\nreturn "+t+"\n//# sourceURL="+e,o=[],s=[];for(var a in n)o.push(a),s.push(n[a]);return(new(Function.bind.apply(Function,[void 0].concat(o.concat(i))))).apply(void 0,s)}function Df(e,t,r){var n=new Rf,i=hf.createRoot([r]);return n.visitAllStatements(t,i),Nf(e,r,i.toSource(),n.getArgs())}function ev(e){return e.replace(Jf,"")}function rv(e){var t=e.match(tv);return t?t[0]:""}function cv(e,t){var r=lv(e),n=0;return r.escapedString.replace(nv,function(){for(var e=[],i=0;i<arguments.length;i++)e[i-0]=arguments[i];var o=e[2],s="",a=e[4],u="";a&&a.startsWith("{"+av)&&(s=r.blocks[n++],a=a.substring(av.length+1),u="{");var c=t(new uv(o,s));return""+e[1]+c.selector+e[3]+u+c.content+a})}function lv(e){for(var t=e.split(iv),r=[],n=[],i=0,o=[],s=0;s<t.length;s++){var a=t[s];a==sv&&i--,i>0?o.push(a):(o.length>0&&(n.push(o.join("")),r.push(av),o=[]),r.push(a)),a==ov&&i++}return o.length>0&&(n.push(o.join("")),r.push(av)),new pv(r.join(""),n)}function _v(e){var t="styles";return e&&(t+="_"+e.type.name),t}function Cv(e){if(!e.isComponent)throw new Error("Could not compile '"+e.type.name+"' because it is not a component.")}function bv(e,t){for(var r=0,n=t;r<n.length;r++){var i=n[r];xv[i.toLowerCase()]=e}}function Vv(){Hs.reflectionCapabilities=new zs}function Uv(e){return{useDebug:jv(e.map(function(e){return e.useDebug})),useJit:jv(e.map(function(e){return e.useJit})),defaultEncapsulation:jv(e.map(function(e){return e.defaultEncapsulation})),providers:Bv(e.map(function(e){return e.providers}))}}function jv(e){for(var t=e.length-1;t>=0;t--)if(void 0!==e[t])return e[t];return void 0}function Bv(e){var t=[];return e.forEach(function(e){return e&&t.push.apply(t,e)}),t}var r=function(){function e(e,t,r){this.value=e,this.ngContentIndex=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitText(this,t)},e}(),n=function(){function e(e,t,r){this.value=e,this.ngContentIndex=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitBoundText(this,t)},e}(),i=function(){function e(e,t,r){this.name=e,this.value=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitAttr(this,t)},e}(),o=function(){function t(e,t,r,n,i,o){this.name=e,this.type=t,this.securityContext=r,this.value=n,this.unit=i,this.sourceSpan=o}return t.prototype.visit=function(e,t){return e.visitElementProperty(this,t)},Object.defineProperty(t.prototype,"isAnimation",{get:function(){return this.type===e.PropertyBindingType.Animation},enumerable:!0,configurable:!0}),t}(),s=function(){function e(e,t,r,n,i){this.name=e,this.target=t,this.phase=r,this.handler=n,this.sourceSpan=i}return e.prototype.visit=function(e,t){return e.visitEvent(this,t)},Object.defineProperty(e.prototype,"fullName",{get:function(){return this.target?this.target+":"+this.name:this.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAnimation",{get:function(){return!!this.phase},enumerable:!0,configurable:!0}),e}(),a=function(){function e(e,t,r){this.name=e,this.value=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitReference(this,t)},e}(),u=function(){function e(e,t,r){this.name=e,this.value=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitVariable(this,t)},e}(),c=function(){function e(e,t,r,n,i,o,s,a,u,c,p,l){this.name=e,this.attrs=t,this.inputs=r,this.outputs=n,this.references=i,this.directives=o,this.providers=s,this.hasViewContainer=a,this.children=u,this.ngContentIndex=c,this.sourceSpan=p,this.endSourceSpan=l}return e.prototype.visit=function(e,t){return e.visitElement(this,t)},e}(),p=function(){function e(e,t,r,n,i,o,s,a,u,c){this.attrs=e,this.outputs=t,this.references=r,this.variables=n,this.directives=i,this.providers=o,this.hasViewContainer=s,this.children=a,this.ngContentIndex=u,this.sourceSpan=c}return e.prototype.visit=function(e,t){return e.visitEmbeddedTemplate(this,t)},e}(),l=function(){function e(e,t,r,n){this.directiveName=e,this.templateName=t,this.value=r,this.sourceSpan=n}return e.prototype.visit=function(e,t){return e.visitDirectiveProperty(this,t)},e}(),h=function(){function e(e,t,r,n,i){this.directive=e,this.inputs=t,this.hostProperties=r,this.hostEvents=n,this.sourceSpan=i}return e.prototype.visit=function(e,t){return e.visitDirective(this,t)},e}(),f=function(){function e(e,t,r,n,i,o,s){this.token=e,this.multiProvider=t,this.eager=r,this.providers=n,this.providerType=i,this.lifecycleHooks=o,this.sourceSpan=s}return e.prototype.visit=function(e,t){return null},e}();e.ProviderAstType,function(e){e[e.PublicService=0]="PublicService",e[e.PrivateService=1]="PrivateService",e[e.Component=2]="Component",e[e.Directive=3]="Directive",e[e.Builtin=4]="Builtin"}(e.ProviderAstType||(e.ProviderAstType={}));var v=function(){function e(e,t,r){this.index=e,this.ngContentIndex=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitNgContent(this,t)},e}();e.PropertyBindingType,function(e){e[e.Property=0]="Property",e[e.Attribute=1]="Attribute",e[e.Class=2]="Class",e[e.Style=3]="Style",e[e.Animation=4]="Animation"}(e.PropertyBindingType||(e.PropertyBindingType={}));var O,g=Object.getPrototypeOf({}),E=function(){function e(){}return e.parseIntAutoRadix=function(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t},e.parseInt=function(e,t){if(10==t){if(/^(\-|\+)?[0-9]+$/.test(e))return parseInt(e,t)}else if(16==t){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(e))return parseInt(e,t)}else{var r=parseInt(e,t);if(!isNaN(r))return r}throw new Error("Invalid integer literal when parsing "+e+" in base "+t)},e.isNumeric=function(e){return!isNaN(e-parseFloat(e))},e}(),A=function(){try{if((new Map).values().next)return function(e,t){return t?Array.from(e.values()):Array.from(e.keys())}}catch(e){}return function(e,t){var r=new Array(e.size),n=0;return e.forEach(function(e,i){r[n]=t?e:i,n++}),r}}(),P=function(){function e(){}return e.createFromStringMap=function(e){var t=new Map;for(var r in e)t.set(r,e[r]);return t},e.keys=function(e){return A(e,!1)},e.values=function(e){return A(e,!0)},e}(),M=function(){function e(){}return e.merge=function(e,t){for(var r={},n=0,i=Object.keys(e);n<i.length;n++){var o=i[n];r[o]=e[o]}for(var s=0,a=Object.keys(t);s<a.length;s++){var o=a[s];r[o]=t[o]}return r},e.equals=function(e,t){var r=Object.keys(e),n=Object.keys(t);if(r.length!=n.length)return!1;for(var i=0;i<r.length;i++){var o=r[i];if(e[o]!==t[o])return!1}return!0},e}(),k=function(){function e(){}return e.createFixedSize=function(e){return new Array(e)},e.createGrowableSize=function(e){return new Array(e)},e.clone=function(e){return e.slice(0)},e.forEachWithIndex=function(e,t){for(var r=0;r<e.length;r++)t(e[r],r)},e.first=function(e){return e?e[0]:null},e.last=function(e){return e&&0!=e.length?e[e.length-1]:null},e.indexOf=function(e,t,r){return void 0===r&&(r=0),e.indexOf(t,r)},e.contains=function(e,t){return-1!==e.indexOf(t)},e.reversed=function(t){var r=e.clone(t);return r.reverse()},e.concat=function(e,t){return e.concat(t)},e.insert=function(e,t,r){e.splice(t,0,r)},e.removeAt=function(e,t){var r=e[t];return e.splice(t,1),r},e.removeAll=function(e,t){for(var r=0;r<t.length;++r){var n=e.indexOf(t[r]);e.splice(n,1)}},e.remove=function(e,t){var r=e.indexOf(t);return r>-1?(e.splice(r,1),!0):!1},e.clear=function(e){e.length=0},e.isEmpty=function(e){return 0==e.length},e.fill=function(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n=null),e.fill(t,r,null===n?e.length:n)},e.equals=function(e,t){if(e.length!=t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0},e.slice=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=null),e.slice(t,null===r?void 0:r)},e.splice=function(e,t,r){return e.splice(t,r)},e.sort=function(e,t){m(t)?e.sort(t):e.sort()},e.toString=function(e){return e.toString()},e.toJSON=function(e){return JSON.stringify(e)},e.maximum=function(e,t){if(0==e.length)return null;for(var r=null,n=-(1/0),i=0;i<e.length;i++){var o=e[i];if(!y(o)){var s=t(o);s>n&&(r=o,n=s)}}return r},e.flatten=function(e){var t=[];return I(e,t),t},e.addAll=function(e,t){for(var r=0;r<t.length;r++)e.push(t[r])},e}();!function(e){e[e.RAW_TEXT=0]="RAW_TEXT",e[e.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",e[e.PARSABLE_DATA=2]="PARSABLE_DATA"}(O||(O={}));var K,L={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",alefsym:"ℵ",Alpha:"Α",alpha:"α",amp:"&",and:"∧",ang:"∠",apos:"'",Aring:"Å",aring:"å",asymp:"≈",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",bdquo:"„",Beta:"Β",beta:"β",brvbar:"¦",bull:"•",cap:"∩",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",Chi:"Χ",chi:"χ",circ:"ˆ",clubs:"♣",cong:"≅",copy:"©",crarr:"↵",cup:"∪",curren:"¤",dagger:"†",Dagger:"‡",darr:"↓",dArr:"⇓",deg:"°",Delta:"Δ",delta:"δ",diams:"♦",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",empty:"∅",emsp:" ",ensp:" ",Epsilon:"Ε",epsilon:"ε",equiv:"≡",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",exist:"∃",fnof:"ƒ",forall:"∀",frac12:"½",frac14:"¼",frac34:"¾",frasl:"⁄",Gamma:"Γ",gamma:"γ",ge:"≥",gt:">",harr:"↔",hArr:"⇔",hearts:"♥",hellip:"…",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",image:"ℑ",infin:"∞","int":"∫",Iota:"Ι",iota:"ι",iquest:"¿",isin:"∈",Iuml:"Ï",iuml:"ï",Kappa:"Κ",kappa:"κ",Lambda:"Λ",lambda:"λ",lang:"⟨",laquo:"«",larr:"←",lArr:"⇐",lceil:"⌈",ldquo:"“",le:"≤",lfloor:"⌊",lowast:"∗",loz:"◊",lrm:"‎",lsaquo:"‹",lsquo:"‘",lt:"<",macr:"¯",mdash:"—",micro:"µ",middot:"·",minus:"−",Mu:"Μ",mu:"μ",nabla:"∇",nbsp:" ",ndash:"–",ne:"≠",ni:"∋",not:"¬",notin:"∉",nsub:"⊄",Ntilde:"Ñ",ntilde:"ñ",Nu:"Ν",nu:"ν",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",OElig:"Œ",oelig:"œ",Ograve:"Ò",ograve:"ò",oline:"‾",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",oplus:"⊕",or:"∨",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",otimes:"⊗",Ouml:"Ö",ouml:"ö",para:"¶",permil:"‰",perp:"⊥",Phi:"Φ",phi:"φ",Pi:"Π",pi:"π",piv:"ϖ",plusmn:"±",pound:"£",prime:"′",Prime:"″",prod:"∏",prop:"∝",Psi:"Ψ",psi:"ψ",quot:'"',radic:"√",rang:"⟩",raquo:"»",rarr:"→",rArr:"⇒",rceil:"⌉",rdquo:"”",real:"ℜ",reg:"®",rfloor:"⌋",Rho:"Ρ",rho:"ρ",rlm:"‏",rsaquo:"›",rsquo:"’",sbquo:"‚",Scaron:"Š",scaron:"š",sdot:"⋅",sect:"§",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sim:"∼",spades:"♠",sub:"⊂",sube:"⊆",sum:"∑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supe:"⊇",szlig:"ß",Tau:"Τ",tau:"τ",there4:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thinsp:" ",THORN:"Þ",thorn:"þ",tilde:"˜",times:"×",trade:"™",Uacute:"Ú",uacute:"ú",uarr:"↑",uArr:"⇑",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",Uuml:"Ü",uuml:"ü",weierp:"℘",Xi:"Ξ",xi:"ξ",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ",Yuml:"Ÿ",Zeta:"Ζ",zeta:"ζ",zwj:"‍",zwnj:"‌"},V=function(){function e(e){var t=this,r=void 0===e?{}:e,n=r.closedByChildren,i=r.requiredParents,o=r.implicitNamespacePrefix,s=r.contentType,a=void 0===s?O.PARSABLE_DATA:s,u=r.closedByParent,c=void 0===u?!1:u,p=r.isVoid,l=void 0===p?!1:p,h=r.ignoreFirstLf,f=void 0===h?!1:h;this.closedByChildren={},this.closedByParent=!1,this.canSelfClose=!1,n&&n.length>0&&n.forEach(function(e){return t.closedByChildren[e]=!0}),this.isVoid=l,this.closedByParent=c||l,i&&i.length>0&&(this.requiredParents={},this.parentToAdd=i[0],i.forEach(function(e){return t.requiredParents[e]=!0})),this.implicitNamespacePrefix=o,this.contentType=a,this.ignoreFirstLf=f}return e.prototype.requireExtraParent=function(e){if(!this.requiredParents)return!1;if(!e)return!0;var t=e.toLowerCase();return 1!=this.requiredParents[t]&&"template"!=t},e.prototype.isClosedByChild=function(e){return this.isVoid||e.toLowerCase()in this.closedByChildren},e}(),F={base:new V({isVoid:!0}),meta:new V({isVoid:!0}),area:new V({isVoid:!0}),embed:new V({isVoid:!0}),link:new V({isVoid:!0}),img:new V({isVoid:!0}),input:new V({isVoid:!0}),param:new V({isVoid:!0}),hr:new V({isVoid:!0}),br:new V({isVoid:!0}),source:new V({isVoid:!0}),track:new V({isVoid:!0}),wbr:new V({isVoid:!0}),p:new V({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new V({closedByChildren:["tbody","tfoot"]}),tbody:new V({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new V({closedByChildren:["tbody"],closedByParent:!0}),tr:new V({closedByChildren:["tr"],requiredParents:["tbody","tfoot","thead"],closedByParent:!0}),td:new V({closedByChildren:["td","th"],closedByParent:!0}),th:new V({closedByChildren:["td","th"],closedByParent:!0}),col:new V({requiredParents:["colgroup"],isVoid:!0}),svg:new V({implicitNamespacePrefix:"svg"}),math:new V({implicitNamespacePrefix:"math"}),li:new V({closedByChildren:["li"],closedByParent:!0}),dt:new V({closedByChildren:["dt","dd"]}),dd:new V({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new V({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new V({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new V({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new V({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new V({closedByChildren:["optgroup"],closedByParent:!0}),option:new V({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new V({ignoreFirstLf:!0}),listing:new V({ignoreFirstLf:!0}),style:new V({contentType:O.RAW_TEXT}),script:new V({contentType:O.RAW_TEXT}),title:new V({contentType:O.ESCAPABLE_RAW_TEXT}),textarea:new V({contentType:O.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})},U=new V,B=new RegExp("(\\:not\\()|([-\\w]+)|(?:\\.([-\\w]+))|(?:\\[([-\\w*]+)(?:=([^\\]]*))?\\])|(\\))|(\\s*,\\s*)","g"),H=function(){function e(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}return e.parse=function(t){var o,r=[],n=function(e,t){t.notSelectors.length>0&&!t.element&&0==t.classNames.length&&0==t.attrs.length&&(t.element="*"),e.push(t)},i=new e,s=i,a=!1;for(B.lastIndex=0;o=B.exec(t);){if(o[1]){if(a)throw new Error("Nesting :not is not allowed in a selector");a=!0,s=new e,i.notSelectors.push(s)}if(o[2]&&s.setElement(o[2]),o[3]&&s.addClassName(o[3]),o[4]&&s.addAttribute(o[4],o[5]),o[6]&&(a=!1,s=i),o[7]){if(a)throw new Error("Multiple selectors in :not are not supported");n(r,i),i=s=new e}}return n(r,i),r},e.prototype.isElementSelector=function(){return this.hasElementSelector()&&0==this.classNames.length&&0==this.attrs.length&&0===this.notSelectors.length},e.prototype.hasElementSelector=function(){return!!this.element},e.prototype.setElement=function(e){void 0===e&&(e=null),this.element=e},e.prototype.getMatchingElementTemplate=function(){for(var e=this.element||"div",t=this.classNames.length>0?' class="'+this.classNames.join(" ")+'"':"",r="",n=0;n<this.attrs.length;n+=2){var i=this.attrs[n],o=""!==this.attrs[n+1]?'="'+this.attrs[n+1]+'"':"";r+=" "+i+o}return j(e).isVoid?"<"+e+t+r+"/>":"<"+e+t+r+"></"+e+">"},e.prototype.addAttribute=function(e,t){void 0===t&&(t=""),this.attrs.push(e,t&&t.toLowerCase()||"")},e.prototype.addClassName=function(e){this.classNames.push(e.toLowerCase())},e.prototype.toString=function(){var e=this.element||"";if(this.classNames&&this.classNames.forEach(function(t){return e+="."+t}),this.attrs)for(var t=0;t<this.attrs.length;t+=2){var r=this.attrs[t],n=this.attrs[t+1];e+="["+r+(n?"="+n:"")+"]"}return this.notSelectors.forEach(function(t){return e+=":not("+t+")"}),e},e}(),q=function(){function e(){this._elementMap={},this._elementPartialMap={},this._classMap={},this._classPartialMap={},this._attrValueMap={},this._attrValuePartialMap={},this._listContexts=[]}return e.createNotMatcher=function(t){var r=new e;return r.addSelectables(t,null),r},e.prototype.addSelectables=function(e,t){var r=null;e.length>1&&(r=new z(e),this._listContexts.push(r));for(var n=0;n<e.length;n++)this._addSelectable(e[n],t,r)},e.prototype._addSelectable=function(e,t,r){var n=this,i=e.element,o=e.classNames,s=e.attrs,a=new W(e,t,r);if(i){var u=0===s.length&&0===o.length;u?this._addTerminal(n._elementMap,i,a):n=this._addPartial(n._elementPartialMap,i)}if(o)for(var c=0;c<o.length;c++){var u=0===s.length&&c===o.length-1,p=o[c];u?this._addTerminal(n._classMap,p,a):n=this._addPartial(n._classPartialMap,p)}if(s)for(var c=0;c<s.length;c+=2){var u=c===s.length-2,l=s[c],h=s[c+1];if(u){var f=n._attrValueMap,v=f[l];v||(v={},f[l]=v),this._addTerminal(v,h,a)}else{var d=n._attrValuePartialMap,m=d[l];m||(m={},d[l]=m),n=this._addPartial(m,h)}}},e.prototype._addTerminal=function(e,t,r){var n=e[t];n||(n=[],e[t]=n),n.push(r)},e.prototype._addPartial=function(t,r){var n=t[r];return n||(n=new e,t[r]=n),n},e.prototype.match=function(e,t){for(var r=!1,n=e.element,i=e.classNames,o=e.attrs,s=0;s<this._listContexts.length;s++)this._listContexts[s].alreadyMatched=!1;if(r=this._matchTerminal(this._elementMap,n,e,t)||r,r=this._matchPartial(this._elementPartialMap,n,e,t)||r,i)for(var s=0;s<i.length;s++){var a=i[s];r=this._matchTerminal(this._classMap,a,e,t)||r,r=this._matchPartial(this._classPartialMap,a,e,t)||r}if(o)for(var s=0;s<o.length;s+=2){var u=o[s],c=o[s+1],p=this._attrValueMap[u];c&&(r=this._matchTerminal(p,"",e,t)||r),r=this._matchTerminal(p,c,e,t)||r;var l=this._attrValuePartialMap[u];c&&(r=this._matchPartial(l,"",e,t)||r),r=this._matchPartial(l,c,e,t)||r}return r},e.prototype._matchTerminal=function(e,t,r,n){if(!e||"string"!=typeof t)return!1;var i=e[t],o=e["*"];if(o&&(i=i.concat(o)),!i)return!1;for(var s,a=!1,u=0;u<i.length;u++)s=i[u],a=s.finalize(r,n)||a;return a},e.prototype._matchPartial=function(e,t,r,n){if(!e||"string"!=typeof t)return!1;var i=e[t];return i?i.match(r,n):!1},e}(),z=function(){function e(e){this.selectors=e,this.alreadyMatched=!1}return e}(),W=function(){function e(e,t,r){this.selector=e,this.cbContext=t,this.listContext=r,this.notSelectors=e.notSelectors}return e.prototype.finalize=function(e,t){var r=!0;if(this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)){var n=q.createNotMatcher(this.notSelectors);r=!n.match(e,null)}return!r||!t||this.listContext&&this.listContext.alreadyMatched||(this.listContext&&(this.listContext.alreadyMatched=!0),t(this.selector,this.cbContext)),r},e}(),Q=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};!function(e){e[e.Const=0]="Const"}(K||(K={}));var G,X=function(){function e(e){void 0===e&&(e=null),this.modifiers=e,e||(this.modifiers=[])}return e.prototype.hasModifier=function(e){return-1!==this.modifiers.indexOf(e)},e}();!function(e){e[e.Dynamic=0]="Dynamic",e[e.Bool=1]="Bool",e[e.String=2]="String",e[e.Int=3]="Int",e[e.Number=4]="Number",e[e.Function=5]="Function"}(G||(G={}));var se,Y=function(e){function t(t,r){void 0===r&&(r=null),e.call(this,r),this.name=t}return Q(t,e),t.prototype.visitType=function(e,t){return e.visitBuiltintType(this,t)},t}(X),$=function(e){function t(t,r,n){void 0===r&&(r=null),void 0===n&&(n=null),e.call(this,n),this.value=t,this.typeParams=r}return Q(t,e),t.prototype.visitType=function(e,t){return e.visitExternalType(this,t)},t}(X),Z=function(e){function t(t,r){void 0===r&&(r=null),e.call(this,r),this.of=t}return Q(t,e),t.prototype.visitType=function(e,t){return e.visitArrayType(this,t)},t}(X),J=function(e){function t(t,r){void 0===r&&(r=null),e.call(this,r),this.valueType=t}return Q(t,e),t.prototype.visitType=function(e,t){return e.visitMapType(this,t)},t}(X),ee=new Y(G.Dynamic),te=new Y(G.Bool),ne=(new Y(G.Int),new Y(G.Number)),ie=new Y(G.String),oe=new Y(G.Function);!function(e){e[e.Equals=0]="Equals",e[e.NotEquals=1]="NotEquals",e[e.Identical=2]="Identical",e[e.NotIdentical=3]="NotIdentical",e[e.Minus=4]="Minus",e[e.Plus=5]="Plus",e[e.Divide=6]="Divide",e[e.Multiply=7]="Multiply",e[e.Modulo=8]="Modulo",e[e.And=9]="And",e[e.Or=10]="Or",e[e.Lower=11]="Lower",e[e.LowerEquals=12]="LowerEquals",e[e.Bigger=13]="Bigger",e[e.BiggerEquals=14]="BiggerEquals"}(se||(se={}));var ue,ae=function(){function e(e){this.type=e}return e.prototype.prop=function(e){return new be(this,e)},e.prototype.key=function(e,t){return void 0===t&&(t=null),new Te(this,e,t)},e.prototype.callMethod=function(e,t){return new ve(this,e,t)},e.prototype.callFn=function(e){return new de(this,e)},e.prototype.instantiate=function(e,t){return void 0===t&&(t=null),new me(this,e,t)},e.prototype.conditional=function(e,t){return void 0===t&&(t=null),new _e(this,e,t)},e.prototype.equals=function(e){return new xe(se.Equals,this,e)},e.prototype.notEquals=function(e){return new xe(se.NotEquals,this,e)},e.prototype.identical=function(e){return new xe(se.Identical,this,e)},e.prototype.notIdentical=function(e){return new xe(se.NotIdentical,this,e)},e.prototype.minus=function(e){return new xe(se.Minus,this,e)},e.prototype.plus=function(e){return new xe(se.Plus,this,e)},e.prototype.divide=function(e){return new xe(se.Divide,this,e)},e.prototype.multiply=function(e){return new xe(se.Multiply,this,e)},e.prototype.modulo=function(e){return new xe(se.Modulo,this,e)},e.prototype.and=function(e){return new xe(se.And,this,e)},e.prototype.or=function(e){return new xe(se.Or,this,e)},e.prototype.lower=function(e){return new xe(se.Lower,this,e)},e.prototype.lowerEquals=function(e){return new xe(se.LowerEquals,this,e)},e.prototype.bigger=function(e){return new xe(se.Bigger,this,e)},e.prototype.biggerEquals=function(e){return new xe(se.BiggerEquals,this,e)},e.prototype.isBlank=function(){return this.equals(Ne)},e.prototype.cast=function(e){return new Ee(this,e)},e.prototype.toStmt=function(){return new Fe(this)},e}();!function(e){e[e.This=0]="This",e[e.Super=1]="Super",e[e.CatchError=2]="CatchError",e[e.CatchStack=3]="CatchStack"}(ue||(ue={}));var fe,ce=function(e){function t(t,r){void 0===r&&(r=null),e.call(this,r),"string"==typeof t?(this.name=t,this.builtin=null):(this.name=null,this.builtin=t)}return Q(t,e),t.prototype.visitExpression=function(e,t){return e.visitReadVarExpr(this,t)},t.prototype.set=function(e){return new pe(this.name,e)},t}(ae),pe=function(e){function t(t,r,n){void 0===n&&(n=null),e.call(this,n||r.type),this.name=t,this.value=r}return Q(t,e),t.prototype.visitExpression=function(e,t){return e.visitWriteVarExpr(this,t)},t.prototype.toDeclStmt=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=null),new Le(this.name,this.value,e,t)},t}(ae),le=function(e){function t(t,r,n,i){void 0===i&&(i=null),e.call(this,i||n.type),this.receiver=t,this.index=r,this.value=n}return Q(t,e),t.prototype.visitExpression=function(e,t){return e.visitWriteKeyExpr(this,t)},t}(ae),he=function(e){function t(t,r,n,i){void 0===i&&(i=null),e.call(this,i||n.type),this.receiver=t,this.name=r,this.value=n}return Q(t,e),t.prototype.visitExpression=function(e,t){return e.visitWritePropExpr(this,t)},t}(ae);!function(e){e[e.ConcatArray=0]="ConcatArray",e[e.SubscribeObservable=1]="SubscribeObservable",e[e.Bind=2]="Bind"}(fe||(fe={}));var De,ve=function(e){function t(t,r,n,i){void 0===i&&(i=null),e.call(this,i),this.receiver=t,this.args=n,"string"==typeof r?(this.name=r,this.builtin=null):(this.name=null,this.builtin=r);
}return Q(t,e),t.prototype.visitExpression=function(e,t){return e.visitInvokeMethodExpr(this,t)},t}(ae),de=function(e){function t(t,r,n){void 0===n&&(n=null),e.call(this,n),this.fn=t,this.args=r}return Q(t,e),t.prototype.visitExpression=function(e,t){return e.visitInvokeFunctionExpr(this,t)},t}(ae),me=function(e){function t(t,r,n){e.call(this,n),this.classExpr=t,this.args=r}return Q(t,e),t.prototype.visitExpression=function(e,t){return e.visitInstantiateExpr(this,t)},t}(ae),ye=function(e){function t(t,r){void 0===r&&(r=null),e.call(this,r),this.value=t}return Q(t,e),t.prototype.visitExpression=function(e,t){return e.visitLiteralExpr(this,t)},t}(ae),ge=function(e){function t(t,r,n){void 0===r&&(r=null),void 0===n&&(n=null),e.call(this,r),this.value=t,this.typeParams=n}return Q(t,e),t.prototype.visitExpression=function(e,t){return e.visitExternalExpr(this,t)},t}(ae),_e=function(e){function t(t,r,n,i){void 0===n&&(n=null),void 0===i&&(i=null),e.call(this,i||r.type),this.condition=t,this.falseCase=n,this.trueCase=r}return Q(t,e),t.prototype.visitExpression=function(e,t){return e.visitConditionalExpr(this,t)},t}(ae),we=function(e){function t(t){e.call(this,te),this.condition=t}return Q(t,e),t.prototype.visitExpression=function(e,t){return e.visitNotExpr(this,t)},t}(ae),Ee=function(e){function t(t,r){e.call(this,r),this.value=t}return Q(t,e),t.prototype.visitExpression=function(e,t){return e.visitCastExpr(this,t)},t}(ae),Ce=function(){function e(e,t){void 0===t&&(t=null),this.name=e,this.type=t}return e}(),Se=function(e){function t(t,r,n){void 0===n&&(n=null),e.call(this,n),this.params=t,this.statements=r}return Q(t,e),t.prototype.visitExpression=function(e,t){return e.visitFunctionExpr(this,t)},t.prototype.toDeclStmt=function(e,t){return void 0===t&&(t=null),new Ve(e,this.params,this.statements,this.type,t)},t}(ae),xe=function(e){function t(t,r,n,i){void 0===i&&(i=null),e.call(this,i||r.type),this.operator=t,this.rhs=n,this.lhs=r}return Q(t,e),t.prototype.visitExpression=function(e,t){return e.visitBinaryOperatorExpr(this,t)},t}(ae),be=function(e){function t(t,r,n){void 0===n&&(n=null),e.call(this,n),this.receiver=t,this.name=r}return Q(t,e),t.prototype.visitExpression=function(e,t){return e.visitReadPropExpr(this,t)},t.prototype.set=function(e){return new he(this.receiver,this.name,e)},t}(ae),Te=function(e){function t(t,r,n){void 0===n&&(n=null),e.call(this,n),this.receiver=t,this.index=r}return Q(t,e),t.prototype.visitExpression=function(e,t){return e.visitReadKeyExpr(this,t)},t.prototype.set=function(e){return new le(this.receiver,this.index,e)},t}(ae),Ae=function(e){function t(t,r){void 0===r&&(r=null),e.call(this,r),this.entries=t}return Q(t,e),t.prototype.visitExpression=function(e,t){return e.visitLiteralArrayExpr(this,t)},t}(ae),Pe=function(e){function t(t,r){void 0===r&&(r=null),e.call(this,r),this.entries=t,this.valueType=null,m(r)&&(this.valueType=r.valueType)}return Q(t,e),t.prototype.visitExpression=function(e,t){return e.visitLiteralMapExpr(this,t)},t}(ae),Me=new ce(ue.This),ke=new ce(ue.Super),Ne=(new ce(ue.CatchError),new ce(ue.CatchStack),new ye(null,null));!function(e){e[e.Final=0]="Final",e[e.Private=1]="Private"}(De||(De={}));var Re=function(){function e(e){void 0===e&&(e=null),this.modifiers=e,e||(this.modifiers=[])}return e.prototype.hasModifier=function(e){return-1!==this.modifiers.indexOf(e)},e}(),Le=function(e){function t(t,r,n,i){void 0===n&&(n=null),void 0===i&&(i=null),e.call(this,i),this.name=t,this.value=r,this.type=n||r.type}return Q(t,e),t.prototype.visitStatement=function(e,t){return e.visitDeclareVarStmt(this,t)},t}(Re),Ve=function(e){function t(t,r,n,i,o){void 0===i&&(i=null),void 0===o&&(o=null),e.call(this,o),this.name=t,this.params=r,this.statements=n,this.type=i}return Q(t,e),t.prototype.visitStatement=function(e,t){return e.visitDeclareFunctionStmt(this,t)},t}(Re),Fe=function(e){function t(t){e.call(this),this.expr=t}return Q(t,e),t.prototype.visitStatement=function(e,t){return e.visitExpressionStmt(this,t)},t}(Re),Ue=function(e){function t(t){e.call(this),this.value=t}return Q(t,e),t.prototype.visitStatement=function(e,t){return e.visitReturnStmt(this,t)},t}(Re),je=function(){function e(e,t){void 0===e&&(e=null),this.type=e,this.modifiers=t,t||(this.modifiers=[])}return e.prototype.hasModifier=function(e){return-1!==this.modifiers.indexOf(e)},e}(),Be=function(e){function t(t,r,n){void 0===r&&(r=null),void 0===n&&(n=null),e.call(this,r,n),this.name=t}return Q(t,e),t}(je),He=function(e){function t(t,r,n,i,o){void 0===i&&(i=null),void 0===o&&(o=null),e.call(this,i,o),this.name=t,this.params=r,this.body=n}return Q(t,e),t}(je),qe=function(e){function t(t,r,n,i){void 0===n&&(n=null),void 0===i&&(i=null),e.call(this,n,i),this.name=t,this.body=r}return Q(t,e),t}(je),ze=function(e){function t(t,r,n,i,o,s,a){void 0===a&&(a=null),e.call(this,a),this.name=t,this.parent=r,this.fields=n,this.getters=i,this.constructorMethod=o,this.methods=s}return Q(t,e),t.prototype.visitStatement=function(e,t){return e.visitDeclareClassStmt(this,t)},t}(Re),We=function(e){function t(t,r,n){void 0===n&&(n=[]),e.call(this),this.condition=t,this.trueCase=r,this.falseCase=n}return Q(t,e),t.prototype.visitStatement=function(e,t){return e.visitIfStmt(this,t)},t}(Re),Ke=(function(e){function t(t){e.call(this),this.comment=t}return Q(t,e),t.prototype.visitStatement=function(e,t){return e.visitCommentStmt(this,t)},t}(Re),function(e){function t(t,r){e.call(this),this.bodyStmts=t,this.catchStmts=r}return Q(t,e),t.prototype.visitStatement=function(e,t){return e.visitTryCatchStmt(this,t)},t}(Re)),Xe=function(e){function t(t){e.call(this),this.error=t}return Q(t,e),t.prototype.visitStatement=function(e,t){return e.visitThrowStmt(this,t)},t}(Re),Ge=function(){function e(){}return e.prototype.visitReadVarExpr=function(e,t){return e},e.prototype.visitWriteVarExpr=function(e,t){return new pe(e.name,e.value.visitExpression(this,t))},e.prototype.visitWriteKeyExpr=function(e,t){return new le(e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.value.visitExpression(this,t))},e.prototype.visitWritePropExpr=function(e,t){return new he(e.receiver.visitExpression(this,t),e.name,e.value.visitExpression(this,t))},e.prototype.visitInvokeMethodExpr=function(e,t){var r=e.builtin||e.name;return new ve(e.receiver.visitExpression(this,t),r,this.visitAllExpressions(e.args,t),e.type)},e.prototype.visitInvokeFunctionExpr=function(e,t){return new de(e.fn.visitExpression(this,t),this.visitAllExpressions(e.args,t),e.type)},e.prototype.visitInstantiateExpr=function(e,t){return new me(e.classExpr.visitExpression(this,t),this.visitAllExpressions(e.args,t),e.type)},e.prototype.visitLiteralExpr=function(e,t){return e},e.prototype.visitExternalExpr=function(e,t){return e},e.prototype.visitConditionalExpr=function(e,t){return new _e(e.condition.visitExpression(this,t),e.trueCase.visitExpression(this,t),e.falseCase.visitExpression(this,t))},e.prototype.visitNotExpr=function(e,t){return new we(e.condition.visitExpression(this,t))},e.prototype.visitCastExpr=function(e,t){return new Ee(e.value.visitExpression(this,t),t)},e.prototype.visitFunctionExpr=function(e,t){return e},e.prototype.visitBinaryOperatorExpr=function(e,t){return new xe(e.operator,e.lhs.visitExpression(this,t),e.rhs.visitExpression(this,t),e.type)},e.prototype.visitReadPropExpr=function(e,t){return new be(e.receiver.visitExpression(this,t),e.name,e.type)},e.prototype.visitReadKeyExpr=function(e,t){return new Te(e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.type)},e.prototype.visitLiteralArrayExpr=function(e,t){return new Ae(this.visitAllExpressions(e.entries,t))},e.prototype.visitLiteralMapExpr=function(e,t){var r=this,n=e.entries.map(function(e){return[e[0],e[1].visitExpression(r,t)]});return new Pe(n)},e.prototype.visitAllExpressions=function(e,t){var r=this;return e.map(function(e){return e.visitExpression(r,t)})},e.prototype.visitDeclareVarStmt=function(e,t){return new Le(e.name,e.value.visitExpression(this,t),e.type,e.modifiers)},e.prototype.visitDeclareFunctionStmt=function(e,t){return e},e.prototype.visitExpressionStmt=function(e,t){return new Fe(e.expr.visitExpression(this,t))},e.prototype.visitReturnStmt=function(e,t){return new Ue(e.value.visitExpression(this,t))},e.prototype.visitDeclareClassStmt=function(e,t){return e},e.prototype.visitIfStmt=function(e,t){return new We(e.condition.visitExpression(this,t),this.visitAllStatements(e.trueCase,t),this.visitAllStatements(e.falseCase,t))},e.prototype.visitTryCatchStmt=function(e,t){return new Ke(this.visitAllStatements(e.bodyStmts,t),this.visitAllStatements(e.catchStmts,t))},e.prototype.visitThrowStmt=function(e,t){return new Xe(e.error.visitExpression(this,t))},e.prototype.visitCommentStmt=function(e,t){return e},e.prototype.visitAllStatements=function(e,t){var r=this;return e.map(function(e){return e.visitStatement(r,t)})},e}(),Ye=function(){function e(){}return e.prototype.visitReadVarExpr=function(e,t){return e},e.prototype.visitWriteVarExpr=function(e,t){return e.value.visitExpression(this,t),e},e.prototype.visitWriteKeyExpr=function(e,t){return e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.value.visitExpression(this,t),e},e.prototype.visitWritePropExpr=function(e,t){return e.receiver.visitExpression(this,t),e.value.visitExpression(this,t),e},e.prototype.visitInvokeMethodExpr=function(e,t){return e.receiver.visitExpression(this,t),this.visitAllExpressions(e.args,t),e},e.prototype.visitInvokeFunctionExpr=function(e,t){return e.fn.visitExpression(this,t),this.visitAllExpressions(e.args,t),e},e.prototype.visitInstantiateExpr=function(e,t){return e.classExpr.visitExpression(this,t),this.visitAllExpressions(e.args,t),e},e.prototype.visitLiteralExpr=function(e,t){return e},e.prototype.visitExternalExpr=function(e,t){return e},e.prototype.visitConditionalExpr=function(e,t){return e.condition.visitExpression(this,t),e.trueCase.visitExpression(this,t),e.falseCase.visitExpression(this,t),e},e.prototype.visitNotExpr=function(e,t){return e.condition.visitExpression(this,t),e},e.prototype.visitCastExpr=function(e,t){return e.value.visitExpression(this,t),e},e.prototype.visitFunctionExpr=function(e,t){return e},e.prototype.visitBinaryOperatorExpr=function(e,t){return e.lhs.visitExpression(this,t),e.rhs.visitExpression(this,t),e},e.prototype.visitReadPropExpr=function(e,t){return e.receiver.visitExpression(this,t),e},e.prototype.visitReadKeyExpr=function(e,t){return e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e},e.prototype.visitLiteralArrayExpr=function(e,t){return this.visitAllExpressions(e.entries,t),e},e.prototype.visitLiteralMapExpr=function(e,t){var r=this;return e.entries.forEach(function(e){return e[1].visitExpression(r,t)}),e},e.prototype.visitAllExpressions=function(e,t){var r=this;e.forEach(function(e){return e.visitExpression(r,t)})},e.prototype.visitDeclareVarStmt=function(e,t){return e.value.visitExpression(this,t),e},e.prototype.visitDeclareFunctionStmt=function(e,t){return e},e.prototype.visitExpressionStmt=function(e,t){return e.expr.visitExpression(this,t),e},e.prototype.visitReturnStmt=function(e,t){return e.value.visitExpression(this,t),e},e.prototype.visitDeclareClassStmt=function(e,t){return e},e.prototype.visitIfStmt=function(e,t){return e.condition.visitExpression(this,t),this.visitAllStatements(e.trueCase,t),this.visitAllStatements(e.falseCase,t),e},e.prototype.visitTryCatchStmt=function(e,t){return this.visitAllStatements(e.bodyStmts,t),this.visitAllStatements(e.catchStmts,t),e},e.prototype.visitThrowStmt=function(e,t){return e.error.visitExpression(this,t),e},e.prototype.visitCommentStmt=function(e,t){return e},e.prototype.visitAllStatements=function(e,t){var r=this;e.forEach(function(e){return e.visitStatement(r,t)})},e}(),Ze=function(e){function t(t,r){e.call(this),this._varName=t,this._newValue=r}return Q(t,e),t.prototype.visitReadVarExpr=function(e,t){return e.name==this._varName?this._newValue:e},t}(Ge),et=function(e){function t(){e.apply(this,arguments),this.varNames=new Set}return Q(t,e),t.prototype.visitReadVarExpr=function(e,t){return this.varNames.add(e.name),null},t}(Ye),ct="",dt=function(){function e(){}return e.prototype.visitArray=function(e,t){var r=this;return e.map(function(e){return vt(e,r,t)})},e.prototype.visitStringMap=function(e,t){var r=this,n={};return Object.keys(e).forEach(function(i){n[i]=vt(e[i],r,t)}),n},e.prototype.visitPrimitive=function(e,t){return e},e.prototype.visitOther=function(e,t){return e},e}(),gt=function(){function e(e,t){void 0===t&&(t=null),this.syncResult=e,this.asyncResult=t,t||(this.asyncResult=Promise.resolve(e))}return e}(),_t=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Et=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))|(\@[-\w]+)$/,Ct=function(){function e(){}return Object.defineProperty(e.prototype,"identifier",{get:function(){return wt()},enumerable:!0,configurable:!0}),e}(),St=function(){function e(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.name=e,this.definitions=t}return e}(),xt=function(){function e(){}return e}(),bt=function(e){function t(t,r){e.call(this),this.stateNameExpr=t,this.styles=r}return _t(t,e),t}(xt),Tt=function(e){function t(t,r){e.call(this),this.stateChangeExpr=t,this.steps=r}return _t(t,e),t}(xt),At=function(){function e(){}return e}(),Pt=function(e){function t(t){void 0===t&&(t=[]),e.call(this),this.steps=t}return _t(t,e),t}(At),Mt=function(e){function t(t,r){void 0===r&&(r=null),e.call(this),this.offset=t,this.styles=r}return _t(t,e),t}(At),kt=function(e){function t(t,r){void 0===t&&(t=0),void 0===r&&(r=null),e.call(this),this.timings=t,this.styles=r}return _t(t,e),t}(At),It=function(e){function t(t){void 0===t&&(t=null),e.call(this),this.steps=t}return _t(t,e),t}(At),Ot=function(e){function t(t){void 0===t&&(t=null),e.call(this,t)}return _t(t,e),t}(It),Nt=function(e){function t(t){void 0===t&&(t=null),e.call(this,t)}return _t(t,e),t}(It),Dt=function(){function e(e){var t=void 0===e?{}:e,r=t.reference,n=t.name,i=t.moduleUrl,o=t.prefix,s=t.value;this.reference=r,this.name=n,this.prefix=o,this.moduleUrl=i,this.value=s}return Object.defineProperty(e.prototype,"identifier",{get:function(){return this},enumerable:!0,configurable:!0}),e}(),Rt=function(){function e(e){var t=void 0===e?{}:e,r=t.isAttribute,n=t.isSelf,i=t.isHost,o=t.isSkipSelf,s=t.isOptional,a=t.isValue,u=t.query,c=t.viewQuery,p=t.token,l=t.value;this.isAttribute=S(r),this.isSelf=S(n),this.isHost=S(i),this.isSkipSelf=S(o),this.isOptional=S(s),this.isValue=S(a),this.query=u,this.viewQuery=c,this.token=p,this.value=l}return e}(),Lt=function(){function e(e){var t=e.token,r=e.useClass,n=e.useValue,i=e.useExisting,o=e.useFactory,s=e.deps,a=e.multi;this.token=t,this.useClass=r,this.useValue=n,this.useExisting=i,this.useFactory=o,this.deps=C(s),this.multi=S(a)}return e}(),Vt=function(e){function t(t){var r=t.reference,n=t.name,i=t.moduleUrl,o=t.prefix,s=t.diDeps,a=t.value;e.call(this,{reference:r,name:n,prefix:o,moduleUrl:i,value:a}),this.diDeps=Gt(s)}return _t(t,e),t}(Dt),Ft=function(){function e(e){var t=e.value,r=e.identifier,n=e.identifierIsInstance;this.value=t,this.identifier=r,this.identifierIsInstance=S(n)}return Object.defineProperty(e.prototype,"reference",{get:function(){return m(this.identifier)?this.identifier.reference:this.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return m(this.value)?ft(this.value):this.identifier.name},enumerable:!0,configurable:!0}),e}(),Ut=function(e){function t(t){var r=void 0===t?{}:t,n=r.reference,i=r.name,o=r.moduleUrl,s=r.prefix,a=r.isHost,u=r.value,c=r.diDeps,p=r.lifecycleHooks;e.call(this,{reference:n,name:i,moduleUrl:o,prefix:s,value:u}),this.isHost=S(a),this.diDeps=Gt(c),this.lifecycleHooks=Gt(p)}return _t(t,e),t}(Dt),jt=function(){function e(e){var t=void 0===e?{}:e,r=t.selectors,n=t.descendants,i=t.first,o=t.propertyName,s=t.read;this.selectors=r,this.descendants=S(n),this.first=S(i),this.propertyName=o,this.read=s}return e}(),Bt=function(){function e(e){var t=void 0===e?{}:e,r=t.moduleUrl,n=t.styles,i=t.styleUrls;this.moduleUrl=r,this.styles=Gt(n),this.styleUrls=Gt(i)}return e}(),Ht=function(){function e(e){var t=void 0===e?{}:e,r=t.encapsulation,n=t.template,i=t.templateUrl,o=t.styles,s=t.styleUrls,a=t.externalStylesheets,u=t.animations,c=t.ngContentSelectors,p=t.interpolation;if(this.encapsulation=r,this.template=n,this.templateUrl=i,this.styles=Gt(o),this.styleUrls=Gt(s),this.externalStylesheets=Gt(a),this.animations=m(u)?k.flatten(u):[],this.ngContentSelectors=c||[],m(p)&&2!=p.length)throw new Error("'interpolation' should have a start and an end symbol.");this.interpolation=p}return e}(),qt=function(){function e(e){var t=void 0===e?{}:e,r=t.type,n=t.isComponent,i=t.selector,o=t.exportAs,s=t.changeDetection,a=t.inputs,u=t.outputs,c=t.hostListeners,p=t.hostProperties,l=t.hostAttributes,h=t.providers,f=t.viewProviders,v=t.queries,d=t.viewQueries,m=t.entryComponents,y=t.template;this.type=r,this.isComponent=n,this.selector=i,this.exportAs=o,this.changeDetection=s,this.inputs=a,this.outputs=u,this.hostListeners=c,this.hostProperties=p,this.hostAttributes=l,this.providers=Gt(h),this.viewProviders=Gt(f),this.queries=Gt(v),this.viewQueries=Gt(d),this.entryComponents=Gt(m),this.template=y}return e.create=function(t){var r=void 0===t?{}:t,n=r.type,i=r.isComponent,o=r.selector,s=r.exportAs,a=r.changeDetection,u=r.inputs,c=r.outputs,p=r.host,l=r.providers,h=r.viewProviders,f=r.queries,v=r.viewQueries,d=r.entryComponents,y=r.template,g={},_={},w={};m(p)&&Object.keys(p).forEach(function(e){var t=p[e],r=e.match(Et);null===r?w[e]=t:m(r[1])?_[r[1]]=t:m(r[2])&&(g[r[2]]=t)});var E={};m(u)&&u.forEach(function(e){var t=pt(e,[e,e]);E[t[0]]=t[1]});var C={};return m(c)&&c.forEach(function(e){var t=pt(e,[e,e]);C[t[0]]=t[1]}),new e({type:n,isComponent:S(i),selector:o,exportAs:s,changeDetection:a,inputs:E,outputs:C,hostListeners:g,hostProperties:_,hostAttributes:w,providers:l,viewProviders:h,queries:f,viewQueries:v,entryComponents:d,template:y})},Object.defineProperty(e.prototype,"identifier",{get:function(){return this.type},enumerable:!0,configurable:!0}),e}(),Wt=function(){function e(e){var t=void 0===e?{}:e,r=t.type,n=t.name,i=t.pure;this.type=r,this.name=n,this.pure=S(i)}return Object.defineProperty(e.prototype,"identifier",{get:function(){return this.type},enumerable:!0,configurable:!0}),e}(),Qt=function(){function e(e){var t=void 0===e?{}:e,r=t.type,n=t.providers,i=t.declaredDirectives,o=t.exportedDirectives,s=t.declaredPipes,a=t.exportedPipes,u=t.entryComponents,c=t.bootstrapComponents,p=t.importedModules,l=t.exportedModules,h=t.schemas,f=t.transitiveModule,v=t.id;this.type=r,this.declaredDirectives=Gt(i),this.exportedDirectives=Gt(o),this.declaredPipes=Gt(s),this.exportedPipes=Gt(a),this.providers=Gt(n),this.entryComponents=Gt(u),this.bootstrapComponents=Gt(c),this.importedModules=Gt(p),this.exportedModules=Gt(l),this.schemas=Gt(h),this.id=v,this.transitiveModule=f}return Object.defineProperty(e.prototype,"identifier",{get:function(){return this.type},enumerable:!0,configurable:!0}),e}(),Kt=function(){function e(e,t,r,n,i){var o=this;this.modules=e,this.providers=t,this.entryComponents=r,this.directives=n,this.pipes=i,this.directivesSet=new Set,this.pipesSet=new Set,n.forEach(function(e){return o.directivesSet.add(e.type.reference)}),i.forEach(function(e){return o.pipesSet.add(e.type.reference)})}return e}(),$t=function(){function e(e,t){var r=t.useClass,n=t.useValue,i=t.useExisting,o=t.useFactory,s=t.deps,a=t.multi;this.token=e,this.useClass=r,this.useValue=n,this.useExisting=i,this.useFactory=o,this.dependencies=s,this.multi=!!a}return e}(),Zt=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Jt=function(){function e(e,t,r,n){this.input=t,this.errLocation=r,this.ctxLocation=n,this.message="Parser Error: "+e+" "+r+" ["+t+"] in "+n}return e}(),er=function(){function e(e,t){this.start=e,this.end=t}return e}(),tr=function(){function e(e){this.span=e}return e.prototype.visit=function(e,t){return void 0===t&&(t=null),null},e.prototype.toString=function(){return"AST"},e}(),rr=function(e){function t(t,r,n,i){e.call(this,t),this.prefix=r,this.uninterpretedExpression=n,this.location=i}return Zt(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitQuote(this,t)},t.prototype.toString=function(){return"Quote"},t}(tr),nr=function(e){function t(){e.apply(this,arguments)}return Zt(t,e),t.prototype.visit=function(e,t){void 0===t&&(t=null)},t}(tr),ir=function(e){function t(){e.apply(this,arguments)}return Zt(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitImplicitReceiver(this,t)},t}(tr),or=function(e){function t(t,r){e.call(this,t),this.expressions=r}return Zt(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitChain(this,t)},t}(tr),sr=function(e){function t(t,r,n,i){e.call(this,t),this.condition=r,this.trueExp=n,this.falseExp=i}return Zt(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitConditional(this,t)},t}(tr),ar=function(e){function t(t,r,n){e.call(this,t),this.receiver=r,this.name=n}return Zt(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitPropertyRead(this,t)},t}(tr),ur=function(e){function t(t,r,n,i){e.call(this,t),this.receiver=r,this.name=n,this.value=i}return Zt(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitPropertyWrite(this,t)},t}(tr),cr=function(e){function t(t,r,n){e.call(this,t),this.receiver=r,this.name=n}return Zt(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitSafePropertyRead(this,t)},t}(tr),pr=function(e){function t(t,r,n){e.call(this,t),this.obj=r,this.key=n}return Zt(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitKeyedRead(this,t)},t}(tr),lr=function(e){function t(t,r,n,i){e.call(this,t),this.obj=r,this.key=n,this.value=i}return Zt(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitKeyedWrite(this,t)},t}(tr),hr=function(e){function t(t,r,n,i){e.call(this,t),this.exp=r,this.name=n,this.args=i}return Zt(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitPipe(this,t)},t}(tr),fr=function(e){function t(t,r){e.call(this,t),this.value=r}return Zt(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitLiteralPrimitive(this,t)},t}(tr),vr=function(e){function t(t,r){e.call(this,t),this.expressions=r}return Zt(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitLiteralArray(this,t)},t}(tr),dr=function(e){function t(t,r,n){e.call(this,t),this.keys=r,this.values=n}return Zt(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitLiteralMap(this,t)},t}(tr),mr=function(e){function t(t,r,n){e.call(this,t),this.strings=r,this.expressions=n}return Zt(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitInterpolation(this,t)},t}(tr),yr=function(e){function t(t,r,n,i){e.call(this,t),this.operation=r,this.left=n,this.right=i}return Zt(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitBinary(this,t)},t}(tr),gr=function(e){function t(t,r){e.call(this,t),this.expression=r}return Zt(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitPrefixNot(this,t)},t}(tr),_r=function(e){function t(t,r,n,i){e.call(this,t),this.receiver=r,this.name=n,this.args=i}return Zt(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitMethodCall(this,t)},t}(tr),wr=function(e){function t(t,r,n,i){e.call(this,t),this.receiver=r,this.name=n,this.args=i}return Zt(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitSafeMethodCall(this,t)},t}(tr),Er=function(e){function t(t,r,n){e.call(this,t),this.target=r,this.args=n}return Zt(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitFunctionCall(this,t)},t}(tr),Cr=function(e){function t(t,r,n,i){e.call(this,new er(0,y(r)?0:r.length)),this.ast=t,this.source=r,this.location=n,this.errors=i}return Zt(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),this.ast.visit(e,t)},t.prototype.toString=function(){return this.source+" in "+this.location},t}(tr),Sr=function(){function e(e,t,r,n){this.key=e,this.keyIsVar=t,this.name=r,this.expression=n}return e}(),xr=function(){function e(){}return e.prototype.visitBinary=function(e,t){return e.left.visit(this),e.right.visit(this),null},e.prototype.visitChain=function(e,t){return this.visitAll(e.expressions,t)},e.prototype.visitConditional=function(e,t){return e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this),null},e.prototype.visitPipe=function(e,t){return e.exp.visit(this),this.visitAll(e.args,t),null},e.prototype.visitFunctionCall=function(e,t){return e.target.visit(this),this.visitAll(e.args,t),null},e.prototype.visitImplicitReceiver=function(e,t){return null},e.prototype.visitInterpolation=function(e,t){return this.visitAll(e.expressions,t)},e.prototype.visitKeyedRead=function(e,t){return e.obj.visit(this),e.key.visit(this),null},e.prototype.visitKeyedWrite=function(e,t){return e.obj.visit(this),e.key.visit(this),e.value.visit(this),null},e.prototype.visitLiteralArray=function(e,t){return this.visitAll(e.expressions,t)},e.prototype.visitLiteralMap=function(e,t){return this.visitAll(e.values,t)},e.prototype.visitLiteralPrimitive=function(e,t){return null},e.prototype.visitMethodCall=function(e,t){return e.receiver.visit(this),this.visitAll(e.args,t)},e.prototype.visitPrefixNot=function(e,t){return e.expression.visit(this),null},e.prototype.visitPropertyRead=function(e,t){return e.receiver.visit(this),null},e.prototype.visitPropertyWrite=function(e,t){return e.receiver.visit(this),e.value.visit(this),null},e.prototype.visitSafePropertyRead=function(e,t){return e.receiver.visit(this),null},e.prototype.visitSafeMethodCall=function(e,t){return e.receiver.visit(this),this.visitAll(e.args,t)},e.prototype.visitAll=function(e,t){var r=this;return e.forEach(function(e){return e.visit(r,t)}),null},e.prototype.visitQuote=function(e,t){return null},e}(),br=0,Tr=9,Ar=10,Pr=11,Mr=12,kr=13,Ir=32,Or=33,Nr=34,Dr=35,Rr=36,Lr=37,Vr=38,Fr=39,Ur=40,jr=41,Br=42,Hr=43,qr=44,zr=45,Wr=46,Qr=47,Kr=58,Xr=59,Gr=60,Yr=61,$r=62,Zr=63,Jr=48,en=57,tn=65,rn=69,nn=70,on=88,sn=90,an=91,un=92,cn=93,pn=94,ln=95,hn=97,fn=101,vn=102,dn=110,mn=114,yn=116,gn=117,_n=118,wn=120,En=122,Cn=123,Sn=124,xn=125,bn=160,Tn=96,On=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//],Dn=function(){function e(e,t){this.start=e,this.end=t}return e.fromArray=function(t){return t?(Nn("interpolation",t),new e(t[0],t[1])):Rn},e}(),Rn=new Dn("{{","}}");e.TokenType,function(e){e[e.Character=0]="Character",e[e.Identifier=1]="Identifier",e[e.Keyword=2]="Keyword",e[e.String=3]="String",e[e.Operator=4]="Operator",e[e.Number=5]="Number",e[e.Error=6]="Error"}(e.TokenType||(e.TokenType={}));var Ln=["var","let","null","undefined","true","false","if","else","this"],Vn=function(){function e(){}return e.prototype.tokenize=function(e){for(var t=new Kn(e),r=[],n=t.scanToken();null!=n;)r.push(n),n=t.scanToken();return r},e.decorators=[{type:t.Injectable}],e.ctorParameters=[],e}(),Fn=function(){function t(e,t,r,n){this.index=e,this.type=t,this.numValue=r,this.strValue=n}return t.prototype.isCharacter=function(t){return this.type==e.TokenType.Character&&this.numValue==t},t.prototype.isNumber=function(){return this.type==e.TokenType.Number},t.prototype.isString=function(){return this.type==e.TokenType.String},t.prototype.isOperator=function(t){return this.type==e.TokenType.Operator&&this.strValue==t},t.prototype.isIdentifier=function(){return this.type==e.TokenType.Identifier},t.prototype.isKeyword=function(){return this.type==e.TokenType.Keyword},t.prototype.isKeywordLet=function(){return this.type==e.TokenType.Keyword&&"let"==this.strValue},t.prototype.isKeywordNull=function(){return this.type==e.TokenType.Keyword&&"null"==this.strValue},t.prototype.isKeywordUndefined=function(){return this.type==e.TokenType.Keyword&&"undefined"==this.strValue},t.prototype.isKeywordTrue=function(){return this.type==e.TokenType.Keyword&&"true"==this.strValue},t.prototype.isKeywordFalse=function(){return this.type==e.TokenType.Keyword&&"false"==this.strValue},t.prototype.isKeywordThis=function(){return this.type==e.TokenType.Keyword&&"this"==this.strValue},t.prototype.isError=function(){return this.type==e.TokenType.Error},t.prototype.toNumber=function(){return this.type==e.TokenType.Number?this.numValue:-1},t.prototype.toString=function(){switch(this.type){case e.TokenType.Character:case e.TokenType.Identifier:case e.TokenType.Keyword:case e.TokenType.Operator:case e.TokenType.String:case e.TokenType.Error:return this.strValue;case e.TokenType.Number:return this.numValue.toString();default:return null}},t}(),Qn=new Fn(-1,e.TokenType.Character,0,""),Kn=function(){function e(e){this.input=e,this.peek=0,this.index=-1,this.length=e.length,this.advance()}return e.prototype.advance=function(){this.peek=++this.index>=this.length?br:this.input.charCodeAt(this.index)},e.prototype.scanToken=function(){for(var e=this.input,t=this.length,r=this.peek,n=this.index;Ir>=r;){if(++n>=t){r=br;break}r=e.charCodeAt(n)}if(this.peek=r,this.index=n,n>=t)return null;if(Xn(r))return this.scanIdentifier();if(Pn(r))return this.scanNumber(n);var i=n;switch(r){case Wr:return this.advance(),Pn(this.peek)?this.scanNumber(i):Un(i,Wr);case Ur:case jr:case Cn:case xn:case an:case cn:case qr:case Kr:case Xr:return this.scanCharacter(i,r);case Fr:case Nr:return this.scanString();case Dr:case Hr:case zr:case Br:case Qr:case Lr:case pn:return this.scanOperator(i,String.fromCharCode(r));case Zr:return this.scanComplexOperator(i,"?",Wr,".");case Gr:case $r:return this.scanComplexOperator(i,String.fromCharCode(r),Yr,"=");case Or:case Yr:return this.scanComplexOperator(i,String.fromCharCode(r),Yr,"=",Yr,"=");case Vr:return this.scanComplexOperator(i,"&",Vr,"&");case Sn:return this.scanComplexOperator(i,"|",Sn,"|");case bn:for(;An(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error("Unexpected character ["+String.fromCharCode(r)+"]",0)},e.prototype.scanCharacter=function(e,t){return this.advance(),Un(e,t)},e.prototype.scanOperator=function(e,t){return this.advance(),Hn(e,t)},e.prototype.scanComplexOperator=function(e,t,r,n,i,o){this.advance();var s=t;return this.peek==r&&(this.advance(),s+=n),m(i)&&this.peek==i&&(this.advance(),s+=o),Hn(e,s)},e.prototype.scanIdentifier=function(){var e=this.index;for(this.advance();Yn(this.peek);)this.advance();var t=this.input.substring(e,this.index);return Ln.indexOf(t)>-1?Bn(e,t):jn(e,t)},e.prototype.scanNumber=function(e){var t=this.index===e;for(this.advance();;){if(Pn(this.peek));else if(this.peek==Wr)t=!1;else{if(!$n(this.peek))break;if(this.advance(),Zn(this.peek)&&this.advance(),!Pn(this.peek))return this.error("Invalid exponent",-1);t=!1}this.advance()}var r=this.input.substring(e,this.index),n=t?E.parseIntAutoRadix(r):parseFloat(r);return zn(e,n)},e.prototype.scanString=function(){var e=this.index,t=this.peek;this.advance();for(var r="",n=this.index,i=this.input;this.peek!=t;)if(this.peek==un){r+=i.substring(n,this.index),this.advance();var o=void 0;if(this.peek==gn){var s=i.substring(this.index+1,this.index+5);try{o=E.parseInt(s,16)}catch(a){return this.error("Invalid unicode escape [\\u"+s+"]",0)}for(var u=0;5>u;u++)this.advance()}else o=ei(this.peek),this.advance();r+=String.fromCharCode(o),n=this.index}else{if(this.peek==br)return this.error("Unterminated quote",0);this.advance()}var c=i.substring(n,this.index);return this.advance(),qn(e,r+c)},e.prototype.error=function(e,t){var r=this.index+t;return Wn(r,"Lexer Error: "+e+" at column "+r+" in expression ["+this.input+"]");
},e}(),ti=function(){function e(e,t,r){this.strings=e,this.expressions=t,this.offsets=r}return e}(),ri=function(){function e(e,t,r){this.templateBindings=e,this.warnings=t,this.errors=r}return e}(),ii=function(){function e(e){this._lexer=e,this.errors=[]}return e.prototype.parseAction=function(e,t,r){void 0===r&&(r=Rn),this._checkNoInterpolation(e,t,r);var n=this._stripComments(e),i=this._lexer.tokenize(this._stripComments(e)),o=new oi(e,t,i,n.length,!0,this.errors,e.length-n.length).parseChain();return new Cr(o,e,t,this.errors)},e.prototype.parseBinding=function(e,t,r){void 0===r&&(r=Rn);var n=this._parseBindingAst(e,t,r);return new Cr(n,e,t,this.errors)},e.prototype.parseSimpleBinding=function(e,t,r){void 0===r&&(r=Rn);var n=this._parseBindingAst(e,t,r);return si.check(n)||this._reportError("Host binding expression can only contain field access and constants",e,t),new Cr(n,e,t,this.errors)},e.prototype._reportError=function(e,t,r,n){this.errors.push(new Jt(e,t,r,n))},e.prototype._parseBindingAst=function(e,t,r){var n=this._parseQuote(e,t);if(m(n))return n;this._checkNoInterpolation(e,t,r);var i=this._stripComments(e),o=this._lexer.tokenize(i);return new oi(e,t,o,i.length,!1,this.errors,e.length-i.length).parseChain()},e.prototype._parseQuote=function(e,t){if(y(e))return null;var r=e.indexOf(":");if(-1==r)return null;var n=e.substring(0,r).trim();if(!Gn(n))return null;var i=e.substring(r+1);return new rr(new er(0,e.length),n,i,t)},e.prototype.parseTemplateBindings=function(e,t){var r=this._lexer.tokenize(e);return new oi(e,t,r,e.length,!1,this.errors,0).parseTemplateBindings()},e.prototype.parseInterpolation=function(e,t,r){void 0===r&&(r=Rn);var n=this.splitInterpolation(e,t,r);if(null==n)return null;for(var i=[],o=0;o<n.expressions.length;++o){var s=n.expressions[o],a=this._stripComments(s),u=this._lexer.tokenize(this._stripComments(n.expressions[o])),c=new oi(e,t,u,a.length,!1,this.errors,n.offsets[o]+(s.length-a.length)).parseChain();i.push(c)}return new Cr(new mr(new er(0,y(e)?0:e.length),n.strings,i),e,t,this.errors)},e.prototype.splitInterpolation=function(e,t,r){void 0===r&&(r=Rn);var n=ni(r),i=e.split(n);if(i.length<=1)return null;for(var o=[],s=[],a=[],u=0,c=0;c<i.length;c++){var p=i[c];c%2===0?(o.push(p),u+=p.length):p.trim().length>0?(u+=r.start.length,s.push(p),a.push(u),u+=p.length+r.end.length):this._reportError("Blank expressions are not allowed in interpolated strings",e,"at column "+this._findInterpolationErrorColumn(i,c,r)+" in",t)}return new ti(o,s,a)},e.prototype.wrapLiteralPrimitive=function(e,t){return new Cr(new fr(new er(0,y(e)?0:e.length),e),e,t,this.errors)},e.prototype._stripComments=function(e){var t=this._commentStart(e);return m(t)?e.substring(0,t).trim():e},e.prototype._commentStart=function(e){for(var t=null,r=0;r<e.length-1;r++){var n=e.charCodeAt(r),i=e.charCodeAt(r+1);if(n===Qr&&i==Qr&&y(t))return r;t===n?t=null:y(t)&&Jn(n)&&(t=n)}return null},e.prototype._checkNoInterpolation=function(e,t,r){var n=ni(r),i=e.split(n);i.length>1&&this._reportError("Got interpolation ("+r.start+r.end+") where expression was expected",e,"at column "+this._findInterpolationErrorColumn(i,1,r)+" in",t)},e.prototype._findInterpolationErrorColumn=function(e,t,r){for(var n="",i=0;t>i;i++)n+=i%2===0?e[i]:""+r.start+e[i]+r.end;return n.length},e.decorators=[{type:t.Injectable}],e.ctorParameters=[{type:Vn}],e}(),oi=function(){function t(e,t,r,n,i,o,s){this.input=e,this.location=t,this.tokens=r,this.inputLength=n,this.parseAction=i,this.errors=o,this.offset=s,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.index=0}return t.prototype.peek=function(e){var t=this.index+e;return t<this.tokens.length?this.tokens[t]:Qn},Object.defineProperty(t.prototype,"next",{get:function(){return this.peek(0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputIndex",{get:function(){return this.index<this.tokens.length?this.next.index+this.offset:this.inputLength+this.offset},enumerable:!0,configurable:!0}),t.prototype.span=function(e){return new er(e,this.inputIndex)},t.prototype.advance=function(){this.index++},t.prototype.optionalCharacter=function(e){return this.next.isCharacter(e)?(this.advance(),!0):!1},t.prototype.peekKeywordLet=function(){return this.next.isKeywordLet()},t.prototype.expectCharacter=function(e){this.optionalCharacter(e)||this.error("Missing expected "+String.fromCharCode(e))},t.prototype.optionalOperator=function(e){return this.next.isOperator(e)?(this.advance(),!0):!1},t.prototype.expectOperator=function(e){this.optionalOperator(e)||this.error("Missing expected operator "+e)},t.prototype.expectIdentifierOrKeyword=function(){var e=this.next;return e.isIdentifier()||e.isKeyword()?(this.advance(),e.toString()):(this.error("Unexpected token "+e+", expected identifier or keyword"),"")},t.prototype.expectIdentifierOrKeywordOrString=function(){var e=this.next;return e.isIdentifier()||e.isKeyword()||e.isString()?(this.advance(),e.toString()):(this.error("Unexpected token "+e+", expected identifier, keyword, or string"),"")},t.prototype.parseChain=function(){for(var e=[],t=this.inputIndex;this.index<this.tokens.length;){var r=this.parsePipe();if(e.push(r),this.optionalCharacter(Xr))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter(Xr););else this.index<this.tokens.length&&this.error("Unexpected token '"+this.next+"'")}return 0==e.length?new nr(this.span(t)):1==e.length?e[0]:new or(this.span(t),e)},t.prototype.parsePipe=function(){var e=this.parseExpression();if(this.optionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{for(var t=this.expectIdentifierOrKeyword(),r=[];this.optionalCharacter(Kr);)r.push(this.parseExpression());e=new hr(this.span(e.span.start-this.offset),e,t,r)}while(this.optionalOperator("|"))}return e},t.prototype.parseExpression=function(){return this.parseConditional()},t.prototype.parseConditional=function(){var e=this.inputIndex,t=this.parseLogicalOr();if(this.optionalOperator("?")){var r=this.parsePipe(),n=void 0;if(this.optionalCharacter(Kr))n=this.parsePipe();else{var i=this.inputIndex,o=this.input.substring(e,i);this.error("Conditional expression "+o+" requires all 3 expressions"),n=new nr(this.span(e))}return new sr(this.span(e),t,r,n)}return t},t.prototype.parseLogicalOr=function(){for(var e=this.parseLogicalAnd();this.optionalOperator("||");){var t=this.parseLogicalAnd();e=new yr(this.span(e.span.start),"||",e,t)}return e},t.prototype.parseLogicalAnd=function(){for(var e=this.parseEquality();this.optionalOperator("&&");){var t=this.parseEquality();e=new yr(this.span(e.span.start),"&&",e,t)}return e},t.prototype.parseEquality=function(){for(var t=this.parseRelational();this.next.type==e.TokenType.Operator;){var r=this.next.strValue;switch(r){case"==":case"===":case"!=":case"!==":this.advance();var n=this.parseRelational();t=new yr(this.span(t.span.start),r,t,n);continue}break}return t},t.prototype.parseRelational=function(){for(var t=this.parseAdditive();this.next.type==e.TokenType.Operator;){var r=this.next.strValue;switch(r){case"<":case">":case"<=":case">=":this.advance();var n=this.parseAdditive();t=new yr(this.span(t.span.start),r,t,n);continue}break}return t},t.prototype.parseAdditive=function(){for(var t=this.parseMultiplicative();this.next.type==e.TokenType.Operator;){var r=this.next.strValue;switch(r){case"+":case"-":this.advance();var n=this.parseMultiplicative();t=new yr(this.span(t.span.start),r,t,n);continue}break}return t},t.prototype.parseMultiplicative=function(){for(var t=this.parsePrefix();this.next.type==e.TokenType.Operator;){var r=this.next.strValue;switch(r){case"*":case"%":case"/":this.advance();var n=this.parsePrefix();t=new yr(this.span(t.span.start),r,t,n);continue}break}return t},t.prototype.parsePrefix=function(){if(this.next.type==e.TokenType.Operator){var t=this.inputIndex,r=this.next.strValue,n=void 0;switch(r){case"+":return this.advance(),this.parsePrefix();case"-":return this.advance(),n=this.parsePrefix(),new yr(this.span(t),r,new fr(new er(t,t),0),n);case"!":return this.advance(),n=this.parsePrefix(),new gr(this.span(t),n)}}return this.parseCallChain()},t.prototype.parseCallChain=function(){for(var e=this.parsePrimary();;)if(this.optionalCharacter(Wr))e=this.parseAccessMemberOrMethodCall(e,!1);else if(this.optionalOperator("?."))e=this.parseAccessMemberOrMethodCall(e,!0);else if(this.optionalCharacter(an)){this.rbracketsExpected++;var t=this.parsePipe();if(this.rbracketsExpected--,this.expectCharacter(cn),this.optionalOperator("=")){var r=this.parseConditional();e=new lr(this.span(e.span.start),e,t,r)}else e=new pr(this.span(e.span.start),e,t)}else{if(!this.optionalCharacter(Ur))return e;this.rparensExpected++;var n=this.parseCallArguments();this.rparensExpected--,this.expectCharacter(jr),e=new Er(this.span(e.span.start),e,n)}},t.prototype.parsePrimary=function(){var e=this.inputIndex;if(this.optionalCharacter(Ur)){this.rparensExpected++;var t=this.parsePipe();return this.rparensExpected--,this.expectCharacter(jr),t}if(this.next.isKeywordNull())return this.advance(),new fr(this.span(e),null);if(this.next.isKeywordUndefined())return this.advance(),new fr(this.span(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new fr(this.span(e),!0);if(this.next.isKeywordFalse())return this.advance(),new fr(this.span(e),!1);if(this.next.isKeywordThis())return this.advance(),new ir(this.span(e));if(this.optionalCharacter(an)){this.rbracketsExpected++;var r=this.parseExpressionList(cn);return this.rbracketsExpected--,this.expectCharacter(cn),new vr(this.span(e),r)}if(this.next.isCharacter(Cn))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(new ir(this.span(e)),!1);if(this.next.isNumber()){var n=this.next.toNumber();return this.advance(),new fr(this.span(e),n)}if(this.next.isString()){var i=this.next.toString();return this.advance(),new fr(this.span(e),i)}return this.index>=this.tokens.length?(this.error("Unexpected end of expression: "+this.input),new nr(this.span(e))):(this.error("Unexpected token "+this.next),new nr(this.span(e)))},t.prototype.parseExpressionList=function(e){var t=[];if(!this.next.isCharacter(e))do t.push(this.parsePipe());while(this.optionalCharacter(qr));return t},t.prototype.parseLiteralMap=function(){var e=[],t=[],r=this.inputIndex;if(this.expectCharacter(Cn),!this.optionalCharacter(xn)){this.rbracesExpected++;do{var n=this.expectIdentifierOrKeywordOrString();e.push(n),this.expectCharacter(Kr),t.push(this.parsePipe())}while(this.optionalCharacter(qr));this.rbracesExpected--,this.expectCharacter(xn)}return new dr(this.span(r),e,t)},t.prototype.parseAccessMemberOrMethodCall=function(e,t){void 0===t&&(t=!1);var r=e.span.start,n=this.expectIdentifierOrKeyword();if(this.optionalCharacter(Ur)){this.rparensExpected++;var i=this.parseCallArguments();this.expectCharacter(jr),this.rparensExpected--;var o=this.span(r);return t?new wr(o,e,n,i):new _r(o,e,n,i)}if(t)return this.optionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),new nr(this.span(r))):new cr(this.span(r),e,n);if(this.optionalOperator("=")){if(!this.parseAction)return this.error("Bindings cannot contain assignments"),new nr(this.span(r));var s=this.parseConditional();return new ur(this.span(r),e,n,s)}return new ar(this.span(r),e,n)},t.prototype.parseCallArguments=function(){if(this.next.isCharacter(jr))return[];var e=[];do e.push(this.parsePipe());while(this.optionalCharacter(qr));return e},t.prototype.expectTemplateBindingKey=function(){var e="",t=!1;do e+=this.expectIdentifierOrKeywordOrString(),t=this.optionalOperator("-"),t&&(e+="-");while(t);return e.toString()},t.prototype.parseTemplateBindings=function(){for(var e=[],t=null,r=[];this.index<this.tokens.length;){var n=this.peekKeywordLet();n&&this.advance();var i=this.expectTemplateBindingKey();n||(null==t?t=i:i=t+i[0].toUpperCase()+i.substring(1)),this.optionalCharacter(Kr);var o=null,s=null;if(n)o=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit";else if(this.next!==Qn&&!this.peekKeywordLet()){var a=this.inputIndex,u=this.parsePipe(),c=this.input.substring(a,this.inputIndex);s=new Cr(u,c,this.location,this.errors)}e.push(new Sr(i,n,o,s)),this.optionalCharacter(Xr)||this.optionalCharacter(qr)}return new ri(e,r,this.errors)},t.prototype.error=function(e,t){void 0===t&&(t=null),this.errors.push(new Jt(e,this.input,this.locationText(t),this.location)),this.skip()},t.prototype.locationText=function(e){return void 0===e&&(e=null),y(e)&&(e=this.index),e<this.tokens.length?"at column "+(this.tokens[e].index+1)+" in":"at the end of the expression"},t.prototype.skip=function(){for(var e=this.next;this.index<this.tokens.length&&!e.isCharacter(Xr)&&(this.rparensExpected<=0||!e.isCharacter(jr))&&(this.rbracesExpected<=0||!e.isCharacter(xn))&&(this.rbracketsExpected<=0||!e.isCharacter(cn));)this.next.isError()&&this.errors.push(new Jt(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),e=this.next},t}(),si=function(){function e(){this.simple=!0}return e.check=function(t){var r=new e;return t.visit(r),r.simple},e.prototype.visitImplicitReceiver=function(e,t){},e.prototype.visitInterpolation=function(e,t){this.simple=!1},e.prototype.visitLiteralPrimitive=function(e,t){},e.prototype.visitPropertyRead=function(e,t){},e.prototype.visitPropertyWrite=function(e,t){this.simple=!1},e.prototype.visitSafePropertyRead=function(e,t){this.simple=!1},e.prototype.visitMethodCall=function(e,t){this.simple=!1},e.prototype.visitSafeMethodCall=function(e,t){this.simple=!1},e.prototype.visitFunctionCall=function(e,t){this.simple=!1},e.prototype.visitLiteralArray=function(e,t){this.visitAll(e.expressions)},e.prototype.visitLiteralMap=function(e,t){this.visitAll(e.values)},e.prototype.visitBinary=function(e,t){this.simple=!1},e.prototype.visitPrefixNot=function(e,t){this.simple=!1},e.prototype.visitConditional=function(e,t){this.simple=!1},e.prototype.visitPipe=function(e,t){this.simple=!1},e.prototype.visitKeyedRead=function(e,t){this.simple=!1},e.prototype.visitKeyedWrite=function(e,t){this.simple=!1},e.prototype.visitAll=function(e){var t=this;return e.map(function(e){return e.visit(t)})},e.prototype.visitChain=function(e,t){this.simple=!1},e.prototype.visitQuote=function(e,t){this.simple=!1},e}(),ai=function(){function e(e,t,r,n){this.file=e,this.offset=t,this.line=r,this.col=n}return e.prototype.toString=function(){return m(this.offset)?this.file.url+"@"+this.line+":"+this.col:this.file.url},e}(),ui=function(){function e(e,t){this.content=e,this.url=t}return e}(),ci=function(){function e(e,t,r){void 0===r&&(r=null),this.start=e,this.end=t,this.details=r}return e.prototype.toString=function(){return this.start.file.content.substring(this.start.offset,this.end.offset)},e}();e.ParseErrorLevel,function(e){e[e.WARNING=0]="WARNING",e[e.FATAL=1]="FATAL"}(e.ParseErrorLevel||(e.ParseErrorLevel={}));var _i,pi=function(){function t(t,r,n){void 0===n&&(n=e.ParseErrorLevel.FATAL),this.span=t,this.msg=r,this.level=n}return t.prototype.toString=function(){var e=this.span.start.file.content,t=this.span.start.offset,r="",n="";if(m(t)){t>e.length-1&&(t=e.length-1);for(var i=t,o=0,s=0;100>o&&t>0&&(t--,o++,"\n"!=e[t]||3!=++s););for(o=0,s=0;100>o&&i<e.length-1&&(i++,o++,"\n"!=e[i]||3!=++s););var a=e.substring(t,this.span.start.offset)+"[ERROR ->]"+e.substring(this.span.start.offset,i+1);r=' ("'+a+'")'}return this.span.details&&(n=", "+this.span.details),""+this.msg+r+": "+this.span.start+n},t}(),li=function(){function e(e,t){this.value=e,this.sourceSpan=t}return e.prototype.visit=function(e,t){return e.visitText(this,t)},e}(),hi=function(){function e(e,t,r,n,i){this.switchValue=e,this.type=t,this.cases=r,this.sourceSpan=n,this.switchValueSourceSpan=i}return e.prototype.visit=function(e,t){return e.visitExpansion(this,t)},e}(),fi=function(){function e(e,t,r,n,i){this.value=e,this.expression=t,this.sourceSpan=r,this.valueSourceSpan=n,this.expSourceSpan=i}return e.prototype.visit=function(e,t){return e.visitExpansionCase(this,t)},e}(),vi=function(){function e(e,t,r,n){this.name=e,this.value=t,this.sourceSpan=r,this.valueSpan=n}return e.prototype.visit=function(e,t){return e.visitAttribute(this,t)},e}(),di=function(){function e(e,t,r,n,i,o){this.name=e,this.attrs=t,this.children=r,this.sourceSpan=n,this.startSourceSpan=i,this.endSourceSpan=o}return e.prototype.visit=function(e,t){return e.visitElement(this,t)},e}(),mi=function(){function e(e,t){this.value=e,this.sourceSpan=t}return e.prototype.visit=function(e,t){return e.visitComment(this,t)},e}(),gi=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};!function(e){e[e.TAG_OPEN_START=0]="TAG_OPEN_START",e[e.TAG_OPEN_END=1]="TAG_OPEN_END",e[e.TAG_OPEN_END_VOID=2]="TAG_OPEN_END_VOID",e[e.TAG_CLOSE=3]="TAG_CLOSE",e[e.TEXT=4]="TEXT",e[e.ESCAPABLE_RAW_TEXT=5]="ESCAPABLE_RAW_TEXT",e[e.RAW_TEXT=6]="RAW_TEXT",e[e.COMMENT_START=7]="COMMENT_START",e[e.COMMENT_END=8]="COMMENT_END",e[e.CDATA_START=9]="CDATA_START",e[e.CDATA_END=10]="CDATA_END",e[e.ATTR_NAME=11]="ATTR_NAME",e[e.ATTR_VALUE=12]="ATTR_VALUE",e[e.DOC_TYPE=13]="DOC_TYPE",e[e.EXPANSION_FORM_START=14]="EXPANSION_FORM_START",e[e.EXPANSION_CASE_VALUE=15]="EXPANSION_CASE_VALUE",e[e.EXPANSION_CASE_EXP_START=16]="EXPANSION_CASE_EXP_START",e[e.EXPANSION_CASE_EXP_END=17]="EXPANSION_CASE_EXP_END",e[e.EXPANSION_FORM_END=18]="EXPANSION_FORM_END",e[e.EOF=19]="EOF"}(_i||(_i={}));var To,wi=function(){function e(e,t,r){this.type=e,this.parts=t,this.sourceSpan=r}return e}(),Ei=function(e){function t(t,r,n){e.call(this,n,t),this.tokenType=r}return gi(t,e),t}(pi),Ci=function(){function e(e,t){this.tokens=e,this.errors=t}return e}(),xi=/\r\n?/g,Ai=function(){function e(e){this.error=e}return e}(),Pi=function(){function e(e,t,r,n){void 0===n&&(n=Rn),this._file=e,this._getTagDefinition=t,this._tokenizeIcu=r,this._interpolationConfig=n,this._peek=-1,this._nextPeek=-1,this._index=-1,this._line=0,this._column=-1,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this._input=e.content,this._length=e.content.length,this._advance()}return e.prototype._processCarriageReturns=function(e){return e.replace(xi,"\n")},e.prototype.tokenize=function(){for(;this._peek!==br;){var e=this._getLocation();try{this._attemptCharCode(Gr)?this._attemptCharCode(Or)?this._attemptCharCode(an)?this._consumeCdata(e):this._attemptCharCode(zr)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode(Qr)?this._consumeTagClose(e):this._consumeTagOpen(e):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeText()}catch(t){if(!(t instanceof Ai))throw t;this.errors.push(t.error)}}return this._beginToken(_i.EOF),this._endToken([]),new Ci(Fi(this.tokens),this.errors)},e.prototype._tokenizeExpansionForm=function(){if(Di(this._input,this._index,this._interpolationConfig))return this._consumeExpansionFormStart(),!0;if(Ri(this._peek)&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(this._peek===xn){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1},e.prototype._getLocation=function(){return new ai(this._file,this._index,this._line,this._column)},e.prototype._getSpan=function(e,t){return void 0===e&&(e=this._getLocation()),void 0===t&&(t=this._getLocation()),new ci(e,t)},e.prototype._beginToken=function(e,t){void 0===t&&(t=this._getLocation()),this._currentTokenStart=t,this._currentTokenType=e},e.prototype._endToken=function(e,t){void 0===t&&(t=this._getLocation());var r=new wi(this._currentTokenType,e,new ci(this._currentTokenStart,t));return this.tokens.push(r),this._currentTokenStart=null,this._currentTokenType=null,r},e.prototype._createError=function(e,t){this._isInExpansionForm()&&(e+=' (Do you have an unescaped "{" in your template? Use "{{ \'{\' }}") to escape it.)');var r=new Ei(e,this._currentTokenType,t);return this._currentTokenStart=null,this._currentTokenType=null,new Ai(r)},e.prototype._advance=function(){if(this._index>=this._length)throw this._createError(bi(br),this._getSpan());this._peek===Ar?(this._line++,this._column=0):this._peek!==Ar&&this._peek!==kr&&this._column++,this._index++,this._peek=this._index>=this._length?br:this._input.charCodeAt(this._index),this._nextPeek=this._index+1>=this._length?br:this._input.charCodeAt(this._index+1)},e.prototype._attemptCharCode=function(e){return this._peek===e?(this._advance(),!0):!1},e.prototype._attemptCharCodeCaseInsensitive=function(e){return Li(this._peek,e)?(this._advance(),!0):!1},e.prototype._requireCharCode=function(e){var t=this._getLocation();if(!this._attemptCharCode(e))throw this._createError(bi(this._peek),this._getSpan(t,t))},e.prototype._attemptStr=function(e){var t=e.length;if(this._index+t>this._length)return!1;for(var r=this._savePosition(),n=0;t>n;n++)if(!this._attemptCharCode(e.charCodeAt(n)))return this._restorePosition(r),!1;return!0},e.prototype._attemptStrCaseInsensitive=function(e){for(var t=0;t<e.length;t++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(t)))return!1;return!0},e.prototype._requireStr=function(e){var t=this._getLocation();if(!this._attemptStr(e))throw this._createError(bi(this._peek),this._getSpan(t))},e.prototype._attemptCharCodeUntilFn=function(e){for(;!e(this._peek);)this._advance()},e.prototype._requireCharCodeUntilFn=function(e,t){var r=this._getLocation();if(this._attemptCharCodeUntilFn(e),this._index-r.offset<t)throw this._createError(bi(this._peek),this._getSpan(r,r))},e.prototype._attemptUntilChar=function(e){for(;this._peek!==e;)this._advance()},e.prototype._readChar=function(e){if(e&&this._peek===Vr)return this._decodeEntity();var t=this._index;return this._advance(),this._input[t]},e.prototype._decodeEntity=function(){var e=this._getLocation();if(this._advance(),!this._attemptCharCode(Dr)){var a=this._savePosition();if(this._attemptCharCodeUntilFn(Ni),this._peek!=Xr)return this._restorePosition(a),"&";this._advance();var u=this._input.substring(e.offset+1,this._index-1),c=L[u];if(!c)throw this._createError(Ti(u),this._getSpan(e));return c}var t=this._attemptCharCode(wn)||this._attemptCharCode(on),r=this._getLocation().offset;if(this._attemptCharCodeUntilFn(Oi),this._peek!=Xr)throw this._createError(bi(this._peek),this._getSpan());this._advance();var n=this._input.substring(r,this._index-1);try{var i=parseInt(n,t?16:10);return String.fromCharCode(i)}catch(o){var s=this._input.substring(e.offset+1,this._index-1);throw this._createError(Ti(s),this._getSpan(e))}},e.prototype._consumeRawText=function(e,t,r){var n,i=this._getLocation();this._beginToken(e?_i.ESCAPABLE_RAW_TEXT:_i.RAW_TEXT,i);for(var o=[];;){if(n=this._getLocation(),this._attemptCharCode(t)&&r())break;for(this._index>n.offset&&o.push(this._input.substring(n.offset,this._index));this._peek!==t;)o.push(this._readChar(e))}return this._endToken([this._processCarriageReturns(o.join(""))],n)},e.prototype._consumeComment=function(e){var t=this;this._beginToken(_i.COMMENT_START,e),this._requireCharCode(zr),this._endToken([]);var r=this._consumeRawText(!1,zr,function(){return t._attemptStr("->")});this._beginToken(_i.COMMENT_END,r.sourceSpan.end),this._endToken([])},e.prototype._consumeCdata=function(e){var t=this;this._beginToken(_i.CDATA_START,e),this._requireStr("CDATA["),this._endToken([]);var r=this._consumeRawText(!1,cn,function(){return t._attemptStr("]>")});this._beginToken(_i.CDATA_END,r.sourceSpan.end),this._endToken([])},e.prototype._consumeDocType=function(e){this._beginToken(_i.DOC_TYPE,e),this._attemptUntilChar($r),this._advance(),this._endToken([this._input.substring(e.offset+2,this._index-1)])},e.prototype._consumePrefixAndName=function(){for(var e=this._index,t=null;this._peek!==Kr&&!Ii(this._peek);)this._advance();var r;this._peek===Kr?(this._advance(),t=this._input.substring(e,this._index-1),r=this._index):r=e,this._requireCharCodeUntilFn(ki,this._index===r?1:0);var n=this._input.substring(r,this._index);return[t,n]},e.prototype._consumeTagOpen=function(e){var r,n,t=this._savePosition();try{if(!Mn(this._peek))throw this._createError(bi(this._peek),this._getSpan());var i=this._index;for(this._consumeTagOpenStart(e),r=this._input.substring(i,this._index),n=r.toLowerCase(),this._attemptCharCodeUntilFn(Mi);this._peek!==Qr&&this._peek!==$r;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(Mi),this._attemptCharCode(Yr)&&(this._attemptCharCodeUntilFn(Mi),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(Mi);this._consumeTagOpenEnd()}catch(o){if(o instanceof Ai)return this._restorePosition(t),this._beginToken(_i.TEXT,e),void this._endToken(["<"]);throw o}var s=this._getTagDefinition(r).contentType;s===O.RAW_TEXT?this._consumeRawTextWithTagClose(n,!1):s===O.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(n,!0)},e.prototype._consumeRawTextWithTagClose=function(e,t){var r=this,n=this._consumeRawText(t,Gr,function(){return r._attemptCharCode(Qr)?(r._attemptCharCodeUntilFn(Mi),r._attemptStrCaseInsensitive(e)?(r._attemptCharCodeUntilFn(Mi),r._attemptCharCode($r)):!1):!1});this._beginToken(_i.TAG_CLOSE,n.sourceSpan.end),this._endToken([null,e])},e.prototype._consumeTagOpenStart=function(e){this._beginToken(_i.TAG_OPEN_START,e);var t=this._consumePrefixAndName();this._endToken(t)},e.prototype._consumeAttributeName=function(){this._beginToken(_i.ATTR_NAME);var e=this._consumePrefixAndName();this._endToken(e)},e.prototype._consumeAttributeValue=function(){this._beginToken(_i.ATTR_VALUE);var e;if(this._peek===Fr||this._peek===Nr){var t=this._peek;this._advance();for(var r=[];this._peek!==t;)r.push(this._readChar(!0));e=r.join(""),this._advance()}else{var n=this._index;this._requireCharCodeUntilFn(ki,1),e=this._input.substring(n,this._index)}this._endToken([this._processCarriageReturns(e)])},e.prototype._consumeTagOpenEnd=function(){var e=this._attemptCharCode(Qr)?_i.TAG_OPEN_END_VOID:_i.TAG_OPEN_END;this._beginToken(e),this._requireCharCode($r),this._endToken([])},e.prototype._consumeTagClose=function(e){this._beginToken(_i.TAG_CLOSE,e),this._attemptCharCodeUntilFn(Mi);var t=this._consumePrefixAndName();this._attemptCharCodeUntilFn(Mi),this._requireCharCode($r),this._endToken(t)},e.prototype._consumeExpansionFormStart=function(){this._beginToken(_i.EXPANSION_FORM_START,this._getLocation()),this._requireCharCode(Cn),this._endToken([]),this._expansionCaseStack.push(_i.EXPANSION_FORM_START),this._beginToken(_i.RAW_TEXT,this._getLocation());var e=this._readUntil(qr);this._endToken([e],this._getLocation()),this._requireCharCode(qr),this._attemptCharCodeUntilFn(Mi),this._beginToken(_i.RAW_TEXT,this._getLocation());var t=this._readUntil(qr);this._endToken([t],this._getLocation()),this._requireCharCode(qr),this._attemptCharCodeUntilFn(Mi)},e.prototype._consumeExpansionCaseStart=function(){this._beginToken(_i.EXPANSION_CASE_VALUE,this._getLocation());var e=this._readUntil(Cn).trim();this._endToken([e],this._getLocation()),this._attemptCharCodeUntilFn(Mi),this._beginToken(_i.EXPANSION_CASE_EXP_START,this._getLocation()),this._requireCharCode(Cn),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(Mi),this._expansionCaseStack.push(_i.EXPANSION_CASE_EXP_START)},e.prototype._consumeExpansionCaseEnd=function(){this._beginToken(_i.EXPANSION_CASE_EXP_END,this._getLocation()),this._requireCharCode(xn),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(Mi),this._expansionCaseStack.pop()},e.prototype._consumeExpansionFormEnd=function(){this._beginToken(_i.EXPANSION_FORM_END,this._getLocation()),this._requireCharCode(xn),this._endToken([]),this._expansionCaseStack.pop()},e.prototype._consumeText=function(){var e=this._getLocation();this._beginToken(_i.TEXT,e);var t=[];do this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(t.push(this._interpolationConfig.start),this._inInterpolation=!0):this._interpolationConfig&&this._attemptStr(this._interpolationConfig.end)&&this._inInterpolation?(t.push(this._interpolationConfig.end),this._inInterpolation=!1):t.push(this._readChar(!0));while(!this._isTextEnd());this._endToken([this._processCarriageReturns(t.join(""))])},e.prototype._isTextEnd=function(){if(this._peek===Gr||this._peek===br)return!0;if(this._tokenizeIcu&&!this._inInterpolation){if(Di(this._input,this._index,this._interpolationConfig))return!0;if(this._peek===xn&&this._isInExpansionCase())return!0}return!1},e.prototype._savePosition=function(){return[this._peek,this._index,this._column,this._line,this.tokens.length]},e.prototype._readUntil=function(e){var t=this._index;return this._attemptUntilChar(e),this._input.substring(t,this._index)},e.prototype._restorePosition=function(e){this._peek=e[0],this._index=e[1],this._column=e[2],this._line=e[3];var t=e[4];t<this.tokens.length&&(this.tokens=this.tokens.slice(0,t))},e.prototype._isInExpansionCase=function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===_i.EXPANSION_CASE_EXP_START},e.prototype._isInExpansionForm=function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===_i.EXPANSION_FORM_START},e}(),Ui=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ji=function(e){function t(t,r,n){e.call(this,r,n),this.elementName=t}return Ui(t,e),t.create=function(e,r,n){return new t(e,r,n)},t}(pi),Bi=function(){function e(e,t){this.rootNodes=e,this.errors=t}return e}(),Hi=function(){function e(e){this.getTagDefinition=e}return e.prototype.parse=function(e,t,r,n){void 0===r&&(r=!1),void 0===n&&(n=Rn);var i=Si(e,t,this.getTagDefinition,r,n),o=new qi(i.tokens,this.getTagDefinition).build();return new Bi(o.rootNodes,i.errors.concat(o.errors))},e}(),qi=function(){function e(e,t){this.tokens=e,this.getTagDefinition=t,this._index=-1,this._rootNodes=[],this._errors=[],this._elementStack=[],this._advance()}return e.prototype.build=function(){for(;this._peek.type!==_i.EOF;)this._peek.type===_i.TAG_OPEN_START?this._consumeStartTag(this._advance()):this._peek.type===_i.TAG_CLOSE?this._consumeEndTag(this._advance()):this._peek.type===_i.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===_i.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===_i.TEXT||this._peek.type===_i.RAW_TEXT||this._peek.type===_i.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===_i.EXPANSION_FORM_START?this._consumeExpansion(this._advance()):this._advance();return new Bi(this._rootNodes,this._errors)},e.prototype._advance=function(){var e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e},e.prototype._advanceIf=function(e){return this._peek.type===e?this._advance():null},e.prototype._consumeCdata=function(e){this._consumeText(this._advance()),this._advanceIf(_i.CDATA_END)},e.prototype._consumeComment=function(e){var t=this._advanceIf(_i.RAW_TEXT);this._advanceIf(_i.COMMENT_END);var r=m(t)?t.parts[0].trim():null;this._addToParent(new mi(r,e.sourceSpan))},e.prototype._consumeExpansion=function(e){for(var t=this._advance(),r=this._advance(),n=[];this._peek.type===_i.EXPANSION_CASE_VALUE;){var i=this._parseExpansionCase();if(!i)return;n.push(i)}if(this._peek.type!==_i.EXPANSION_FORM_END)return void this._errors.push(ji.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));var o=new ci(e.sourceSpan.start,this._peek.sourceSpan.end);this._addToParent(new hi(t.parts[0],r.parts[0],n,o,t.sourceSpan)),this._advance()},e.prototype._parseExpansionCase=function(){
var t=this._advance();if(this._peek.type!==_i.EXPANSION_CASE_EXP_START)return this._errors.push(ji.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;var r=this._advance(),n=this._collectExpansionExpTokens(r);if(!n)return null;var i=this._advance();n.push(new wi(_i.EOF,[],i.sourceSpan));var o=new e(n,this.getTagDefinition).build();if(o.errors.length>0)return this._errors=this._errors.concat(o.errors),null;var s=new ci(t.sourceSpan.start,i.sourceSpan.end),a=new ci(r.sourceSpan.start,i.sourceSpan.end);return new fi(t.parts[0],o.rootNodes,s,t.sourceSpan,a)},e.prototype._collectExpansionExpTokens=function(e){for(var t=[],r=[_i.EXPANSION_CASE_EXP_START];;){if((this._peek.type===_i.EXPANSION_FORM_START||this._peek.type===_i.EXPANSION_CASE_EXP_START)&&r.push(this._peek.type),this._peek.type===_i.EXPANSION_CASE_EXP_END){if(!zi(r,_i.EXPANSION_CASE_EXP_START))return this._errors.push(ji.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(r.pop(),0==r.length)return t}if(this._peek.type===_i.EXPANSION_FORM_END){if(!zi(r,_i.EXPANSION_FORM_START))return this._errors.push(ji.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;r.pop()}if(this._peek.type===_i.EOF)return this._errors.push(ji.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;t.push(this._advance())}},e.prototype._consumeText=function(e){var t=e.parts[0];if(t.length>0&&"\n"==t[0]){var r=this._getParentElement();m(r)&&0==r.children.length&&this.getTagDefinition(r.name).ignoreFirstLf&&(t=t.substring(1))}t.length>0&&this._addToParent(new li(t,e.sourceSpan))},e.prototype._closeVoidElement=function(){if(this._elementStack.length>0){var e=k.last(this._elementStack);this.getTagDefinition(e.name).isVoid&&this._elementStack.pop()}},e.prototype._consumeStartTag=function(e){for(var t=e.parts[0],r=e.parts[1],n=[];this._peek.type===_i.ATTR_NAME;)n.push(this._consumeAttr(this._advance()));var i=this._getElementFullName(t,r,this._getParentElement()),o=!1;if(this._peek.type===_i.TAG_OPEN_END_VOID){this._advance(),o=!0;var s=this.getTagDefinition(i);s.canSelfClose||null!==D(i)||s.isVoid||this._errors.push(ji.create(i,e.sourceSpan,'Only void and foreign elements can be self closed "'+e.parts[1]+'"'))}else this._peek.type===_i.TAG_OPEN_END&&(this._advance(),o=!1);var a=this._peek.sourceSpan.start,u=new ci(e.sourceSpan.start,a),c=new di(i,n,[],u,u,null);this._pushElement(c),o&&(this._popElement(i),c.endSourceSpan=u)},e.prototype._pushElement=function(e){if(this._elementStack.length>0){var t=k.last(this._elementStack);this.getTagDefinition(t.name).isClosedByChild(e.name)&&this._elementStack.pop()}var r=this.getTagDefinition(e.name),n=this._getParentElementSkippingContainers(),i=n.parent,o=n.container;if(m(i)&&r.requireExtraParent(i.name)){var s=new di(r.parentToAdd,[],[],e.sourceSpan,e.startSourceSpan,e.endSourceSpan);this._insertBeforeContainer(i,o,s)}this._addToParent(e),this._elementStack.push(e)},e.prototype._consumeEndTag=function(e){var t=this._getElementFullName(e.parts[0],e.parts[1],this._getParentElement());this._getParentElement()&&(this._getParentElement().endSourceSpan=e.sourceSpan),this.getTagDefinition(t).isVoid?this._errors.push(ji.create(t,e.sourceSpan,'Void elements do not have end tags "'+e.parts[1]+'"')):this._popElement(t)||this._errors.push(ji.create(t,e.sourceSpan,'Unexpected closing tag "'+e.parts[1]+'"'))},e.prototype._popElement=function(e){for(var t=this._elementStack.length-1;t>=0;t--){var r=this._elementStack[t];if(r.name==e)return k.splice(this._elementStack,t,this._elementStack.length-t),!0;if(!this.getTagDefinition(r.name).closedByParent)return!1}return!1},e.prototype._consumeAttr=function(e){var i,t=R(e.parts[0],e.parts[1]),r=e.sourceSpan.end,n="";if(this._peek.type===_i.ATTR_VALUE){var o=this._advance();n=o.parts[0],r=o.sourceSpan.end,i=o.sourceSpan}return new vi(t,n,new ci(e.sourceSpan.start,r),i)},e.prototype._getParentElement=function(){return this._elementStack.length>0?k.last(this._elementStack):null},e.prototype._getParentElementSkippingContainers=function(){for(var e=null,t=this._elementStack.length-1;t>=0;t--){if("ng-container"!==this._elementStack[t].name)return{parent:this._elementStack[t],container:e};e=this._elementStack[t]}return{parent:k.last(this._elementStack),container:e}},e.prototype._addToParent=function(e){var t=this._getParentElement();m(t)?t.children.push(e):this._rootNodes.push(e)},e.prototype._insertBeforeContainer=function(e,t,r){if(t){if(e){var n=e.children.indexOf(t);e.children[n]=r}else this._rootNodes.push(r);r.children.push(t),this._elementStack.splice(this._elementStack.indexOf(t),0,r)}else this._addToParent(r),this._elementStack.push(r)},e.prototype._getElementFullName=function(e,t,r){return y(e)&&(e=this.getTagDefinition(t).implicitNamespacePrefix,y(e)&&m(r)&&(e=D(r.name))),R(e,t)},e}(),Qi=function(){function e(){}return e.prototype.visitText=function(e,t){return e.value},e.prototype.visitContainer=function(e,t){var r=this;return"["+e.children.map(function(e){return e.visit(r)}).join(", ")+"]"},e.prototype.visitIcu=function(e,t){var r=this,n=Object.keys(e.cases).map(function(t){return t+" {"+e.cases[t].visit(r)+"}"});return"{"+e.expression+", "+e.type+", "+n.join(", ")+"}"},e.prototype.visitTagPlaceholder=function(e,t){var r=this;return e.isVoid?'<ph tag name="'+e.startName+'"/>':'<ph tag name="'+e.startName+'">'+e.children.map(function(e){return e.visit(r)}).join(", ")+'</ph name="'+e.closeName+'">'},e.prototype.visitPlaceholder=function(e,t){return'<ph name="'+e.name+'">'+e.value+"</ph>"},e.prototype.visitIcuPlaceholder=function(e,t){return'<ph icu name="'+e.name+'">'+e.value.visit(this)+"</ph>"},e}(),Ki=new Qi,no=function(){function e(e,t,r,n,i){this.nodes=e,this.placeholders=t,this.placeholderToMsgIds=r,this.meaning=n,this.description=i}return e}(),io=function(){function e(e,t){this.value=e,this.sourceSpan=t}return e.prototype.visit=function(e,t){return e.visitText(this,t)},e}(),oo=function(){function e(e,t){this.children=e,this.sourceSpan=t}return e.prototype.visit=function(e,t){return e.visitContainer(this,t)},e}(),so=function(){function e(e,t,r,n){this.expression=e,this.type=t,this.cases=r,this.sourceSpan=n}return e.prototype.visit=function(e,t){return e.visitIcu(this,t)},e}(),ao=function(){function e(e,t,r,n,i,o,s){this.tag=e,this.attrs=t,this.startName=r,this.closeName=n,this.children=i,this.isVoid=o,this.sourceSpan=s}return e.prototype.visit=function(e,t){return e.visitTagPlaceholder(this,t)},e}(),uo=function(){function e(e,t,r){void 0===t&&(t=""),this.value=e,this.name=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitPlaceholder(this,t)},e}(),co=function(){function e(e,t,r){void 0===t&&(t=""),this.value=e,this.name=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitIcuPlaceholder(this,t)},e}(),po={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},lo=function(){function e(){this._placeHolderNameCounts={},this._signatureToName={}}return e.prototype.getStartTagPlaceholderName=function(e,t,r){var n=this._hashTag(e,t,r);if(this._signatureToName[n])return this._signatureToName[n];var i=e.toUpperCase(),o=po[i]||"TAG_"+i,s=this._generateUniqueName(r?o:"START_"+o);return this._signatureToName[n]=s,s},e.prototype.getCloseTagPlaceholderName=function(e){var t=this._hashClosingTag(e);if(this._signatureToName[t])return this._signatureToName[t];var r=e.toUpperCase(),n=po[r]||"TAG_"+r,i=this._generateUniqueName("CLOSE_"+n);return this._signatureToName[t]=i,i},e.prototype.getPlaceholderName=function(e,t){var r=e.toUpperCase(),n="PH: "+r+"="+t;if(this._signatureToName[n])return this._signatureToName[n];var i=this._generateUniqueName(r);return this._signatureToName[n]=i,i},e.prototype._hashTag=function(e,t,r){var n="<"+e,i=Object.keys(t).sort().map(function(e){return" "+e+"="+t[e]}).join(""),o=r?"/>":"></"+e+">";return n+i+o},e.prototype._hashClosingTag=function(e){return this._hashTag("/"+e,{},!1)},e.prototype._generateUniqueName=function(e){var t=e,r=this._placeHolderNameCounts[t];return r?(t+="_"+r,r++):r=1,this._placeHolderNameCounts[e]=r,t},e}(),ho=new ii(new Vn),vo=function(){function e(e,t){this._expressionParser=e,this._interpolationConfig=t}return e.prototype.toI18nMessage=function(e,t,r){this._isIcu=1==e.length&&e[0]instanceof hi,this._icuDepth=0,this._placeholderRegistry=new lo,this._placeholderToContent={},this._placeholderToIds={};var n=yi(this,e,{});return new no(n,this._placeholderToContent,this._placeholderToIds,t,r)},e.prototype.visitElement=function(e,t){var r=yi(this,e.children),n={};e.attrs.forEach(function(e){n[e.name]=e.value});var i=j(e.name).isVoid,o=this._placeholderRegistry.getStartTagPlaceholderName(e.name,n,i);this._placeholderToContent[o]=e.sourceSpan.toString();var s="";return i||(s=this._placeholderRegistry.getCloseTagPlaceholderName(e.name),this._placeholderToContent[s]="</"+e.name+">"),new ao(e.name,n,o,s,r,i,e.sourceSpan)},e.prototype.visitAttribute=function(e,t){return this._visitTextWithInterpolation(e.value,e.sourceSpan)},e.prototype.visitText=function(e,t){return this._visitTextWithInterpolation(e.value,e.sourceSpan)},e.prototype.visitComment=function(e,t){return null},e.prototype.visitExpansion=function(t,r){var n=this;this._icuDepth++;var i={},o=new so(t.switchValue,t.type,i,t.sourceSpan);if(t.cases.forEach(function(e){i[e.value]=new oo(e.expression.map(function(e){return e.visit(n,{})}),e.expSourceSpan)}),this._icuDepth--,this._isIcu||this._icuDepth>0)return o;var s=this._placeholderRegistry.getPlaceholderName("ICU",t.sourceSpan.toString()),a=new e(this._expressionParser,this._interpolationConfig);return this._placeholderToIds[s]=Wi(a.toI18nMessage([t],"","")),new co(o,s,t.sourceSpan)},e.prototype.visitExpansionCase=function(e,t){throw new Error("Unreachable code")},e.prototype._visitTextWithInterpolation=function(e,t){var r=this._expressionParser.splitInterpolation(e,t.start.toString(),this._interpolationConfig);if(!r)return new io(e,t);for(var n=[],i=new oo(n,t),o=this._interpolationConfig,s=o.start,a=o.end,u=0;u<r.strings.length-1;u++){var c=r.expressions[u],p=yo(c)||"INTERPOLATION",l=this._placeholderRegistry.getPlaceholderName(p,c);r.strings[u].length&&n.push(new io(r.strings[u],t)),n.push(new uo(c,l,t)),this._placeholderToContent[l]=s+c+a}var h=r.strings.length-1;return r.strings[h].length&&n.push(new io(r.strings[h],t)),i},e}(),mo=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*"([\s\S]*?)"[\s\S]*\)/g,go=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},_o=function(e){function t(t,r){e.call(this,t,r)}return go(t,e),t}(pi),wo="i18n",Eo="i18n-",Co=/^i18n:?/,bo=function(){function e(e,t){this.messages=e,this.errors=t}return e}();!function(e){e[e.Extract=0]="Extract",e[e.Merge=1]="Merge"}(To||(To={}));var ru,Ao=function(){function e(e,t){this._implicitTags=e,this._implicitAttrs=t}return e.prototype.extract=function(e,t){var r=this;return this._init(To.Extract,t),e.forEach(function(e){return e.visit(r,null)}),this._inI18nBlock&&this._reportError(e[e.length-1],"Unclosed block"),new bo(this._messages,this._errors)},e.prototype.merge=function(e,t,r){this._init(To.Merge,r),this._translations=t;var n=new di("wrapper",[],e,null,null,null),i=n.visit(this,null);return this._inI18nBlock&&this._reportError(e[e.length-1],"Unclosed block"),new Bi(i.children,this._errors)},e.prototype.visitExpansionCase=function(e,t){var r=yi(this,e.expression,t);return this._mode===To.Merge?new fi(e.value,r,e.sourceSpan,e.valueSourceSpan,e.expSourceSpan):void 0},e.prototype.visitExpansion=function(e,t){this._mayBeAddBlockChildren(e);var r=this._inIcu;this._inIcu||(this._isInTranslatableSection&&this._addMessage([e]),this._inIcu=!0);var n=yi(this,e.cases,t);return this._mode===To.Merge&&(e=new hi(e.switchValue,e.type,n,e.sourceSpan,e.switchValueSourceSpan)),this._inIcu=r,e},e.prototype.visitComment=function(e,t){var r=Po(e);if(r&&this._isInTranslatableSection)return void this._reportError(e,"Could not start a block inside a translatable section");var n=Mo(e);if(n&&!this._inI18nBlock)return void this._reportError(e,"Trying to close an unopened block");if(!this._inI18nNode&&!this._inIcu)if(this._inI18nBlock){if(n){if(this._depth==this._blockStartDepth){this._closeTranslatableSection(e,this._blockChildren),this._inI18nBlock=!1;var i=this._addMessage(this._blockChildren,this._blockMeaningAndDesc),o=this._translateMessage(e,i);return yi(this,o)}return void this._reportError(e,"I18N blocks should not cross element boundaries")}}else r&&(this._inI18nBlock=!0,this._blockStartDepth=this._depth,this._blockChildren=[],this._blockMeaningAndDesc=e.value.replace(Co,"").trim(),this._openTranslatableSection(e))},e.prototype.visitText=function(e,t){return this._isInTranslatableSection&&this._mayBeAddBlockChildren(e),e},e.prototype.visitElement=function(e,t){var r=this;this._mayBeAddBlockChildren(e),this._depth++;var o,n=this._inI18nNode,i=this._inImplicitNode,s=ko(e),a=this._implicitTags.some(function(t){return e.name===t})&&!this._inIcu&&!this._isInTranslatableSection,u=!i&&a;if(this._inImplicitNode=this._inImplicitNode||a,this._isInTranslatableSection||this._inIcu)(s||u)&&this._reportError(e,"Could not mark an element as translatable inside a translatable section"),this._mode==To.Extract&&yi(this,e.children),this._mode==To.Merge&&(o=[],e.children.forEach(function(e){var n=e.visit(r,t);n&&!r._isInTranslatableSection&&(o=o.concat(n))}));else{if(s){this._inI18nNode=!0;var c=this._addMessage(e.children,s.value);o=this._translateMessage(e,c)}else if(u){this._inI18nNode=!0;var c=this._addMessage(e.children);o=this._translateMessage(e,c)}if(this._mode==To.Extract){var p=s||u;p&&this._openTranslatableSection(e),yi(this,e.children),p&&this._closeTranslatableSection(e,e.children)}this._mode!==To.Merge||s||u||(o=[],e.children.forEach(function(e){var n=e.visit(r,t);n&&!r._isInTranslatableSection&&(o=o.concat(n))}))}if(this._visitAttributesOf(e),this._depth--,this._inI18nNode=n,this._inImplicitNode=i,this._mode===To.Merge){var l=this._translateAttributes(e);return new di(e.name,l,o,e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}},e.prototype.visitAttribute=function(e,t){throw new Error("unreachable code")},e.prototype._init=function(e,t){this._mode=e,this._inI18nBlock=!1,this._inI18nNode=!1,this._depth=0,this._inIcu=!1,this._msgCountAtSectionStart=void 0,this._errors=[],this._messages=[],this._inImplicitNode=!1,this._createI18nMessage=fo(t)},e.prototype._visitAttributesOf=function(e){var t=this,r={},n=this._implicitAttrs[e.name]||[];e.attrs.filter(function(e){return e.name.startsWith(Eo)}).forEach(function(e){return r[e.name.slice(Eo.length)]=e.value}),e.attrs.forEach(function(e){e.name in r?t._addMessage([e],r[e.name]):n.some(function(t){return e.name===t})&&t._addMessage([e])})},e.prototype._addMessage=function(e,t){if(!(0==e.length||1==e.length&&e[0]instanceof vi&&!e[0].value)){var r=Io(t),n=r[0],i=r[1],o=this._createI18nMessage(e,n,i);return this._messages.push(o),o}},e.prototype._translateMessage=function(e,t){if(t&&this._mode===To.Merge){var r=Wi(t),n=this._translations.get(r);if(n)return n;this._reportError(e,'Translation unavailable for message id="'+r+'"')}return[]},e.prototype._translateAttributes=function(e){var t=this,r=e.attrs,n={};r.forEach(function(e){e.name.startsWith(Eo)&&(n[e.name.slice(Eo.length)]=Io(e.value)[0])});var i=[];return r.forEach(function(r){if(r.name!==wo&&!r.name.startsWith(Eo))if(r.value&&""!=r.value&&n.hasOwnProperty(r.name)){var o=n[r.name],s=t._createI18nMessage([r],o,""),a=Wi(s),u=t._translations.get(a);if(u)if(u[0]instanceof li){var c=u[0].value;i.push(new vi(r.name,c,r.sourceSpan))}else t._reportError(e,'Unexpected translation for attribute "'+r.name+'" (id="'+a+'")');else t._reportError(e,'Translation unavailable for attribute "'+r.name+'" (id="'+a+'")')}else i.push(r)}),i},e.prototype._mayBeAddBlockChildren=function(e){this._inI18nBlock&&!this._inIcu&&this._depth==this._blockStartDepth&&this._blockChildren.push(e)},e.prototype._openTranslatableSection=function(e){this._isInTranslatableSection?this._reportError(e,"Unexpected section start"):this._msgCountAtSectionStart=this._messages.length},Object.defineProperty(e.prototype,"_isInTranslatableSection",{get:function(){return void 0!==this._msgCountAtSectionStart},enumerable:!0,configurable:!0}),e.prototype._closeTranslatableSection=function(e,t){if(!this._isInTranslatableSection)return void this._reportError(e,"Unexpected section end");var r=this._msgCountAtSectionStart,n=t.reduce(function(e,t){return e+(t instanceof mi?0:1)},0);if(1==n)for(var i=this._messages.length-1;i>=r;i--){var o=this._messages[i].nodes;if(!(1==o.length&&o[0]instanceof io)){this._messages.splice(i,1);break}}this._msgCountAtSectionStart=void 0},e.prototype._reportError=function(e,t){this._errors.push(new _o(e.sourceSpan,t))},e}(),Oo=function(){function e(e,t,r){this._htmlParser=e,this._implicitTags=t,this._implicitAttrs=r,this._messageMap={}}return e.prototype.updateFromTemplate=function(e,t,r){var n=this,i=this._htmlParser.parse(e,t,!0,r);if(i.errors.length)return i.errors;var o=So(i.rootNodes,r,this._implicitTags,this._implicitAttrs);return o.errors.length?o.errors:void o.messages.forEach(function(e){n._messageMap[Wi(e)]=e})},e.prototype.getMessageMap=function(){return this._messageMap},e.prototype.write=function(e){return e.write(this._messageMap)},e}(),No=function(){function e(){this.closedByParent=!1,this.contentType=O.PARSABLE_DATA,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0}return e.prototype.requireExtraParent=function(e){return!1},e.prototype.isClosedByChild=function(e){return!1},e}(),Do=new No,Lo=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Vo=function(e){function t(){e.call(this,Ro)}return Lo(t,e),t.prototype.parse=function(t,r,n){return void 0===n&&(n=!1),e.prototype.parse.call(this,t,r,n,null)},t}(Hi),jo=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Bo=function(){function e(){}return e.prototype.visitTag=function(e){var t=this,r=this._serializeAttributes(e.attrs);if(0==e.children.length)return"<"+e.name+r+"/>";var n=e.children.map(function(e){return e.visit(t)});return"<"+e.name+r+">"+n.join("")+"</"+e.name+">"},e.prototype.visitText=function(e){return e.value},e.prototype.visitDeclaration=function(e){return"<?xml"+this._serializeAttributes(e.attrs)+" ?>"},e.prototype._serializeAttributes=function(e){var t=Object.keys(e).map(function(t){return t+'="'+e[t]+'"'}).join(" ");return t.length>0?" "+t:""},e.prototype.visitDoctype=function(e){return"<!DOCTYPE "+e.rootTag+" [\n"+e.dtd+"\n]>"},e}(),Ho=new Bo,zo=function(){function e(e){var t=this;this.attrs={},Object.keys(e).forEach(function(r){t.attrs[r]=Yo(e[r])})}return e.prototype.visit=function(e){return e.visitDeclaration(this)},e}(),Wo=function(){function e(e,t){this.rootTag=e,this.dtd=t}return e.prototype.visit=function(e){return e.visitDoctype(this)},e}(),Qo=function(){function e(e,t,r){var n=this;void 0===t&&(t={}),void 0===r&&(r=[]),this.name=e,this.children=r,this.attrs={},Object.keys(t).forEach(function(e){n.attrs[e]=Yo(t[e])})}return e.prototype.visit=function(e){return e.visitTag(this)},e}(),Ko=function(){function e(e){this.value=Yo(e)}return e.prototype.visit=function(e){return e.visitText(this)},e}(),Xo=function(e){function t(t){void 0===t&&(t=0),e.call(this,"\n"+new Array(t+1).join(" "))}return jo(t,e),t}(Ko),Go=[[/&/g,"&amp;"],[/"/g,"&quot;"],[/'/g,"&apos;"],[/</g,"&lt;"],[/>/g,"&gt;"]],$o="1.2",Zo="urn:oasis:names:tc:xliff:document:1.2",Jo="en",es="x",ts="source",rs="target",ns="trans-unit",is=function(){function e(e,t){this._htmlParser=e,this._interpolationConfig=t}return e.prototype.write=function(e){var t=new os,r=[];Object.keys(e).forEach(function(n){var i=e[n],o=new Qo(ns,{id:n,datatype:"html"});o.children.push(new Xo(8),new Qo(ts,{},t.serialize(i.nodes)),new Xo(8),new Qo(rs)),i.description&&o.children.push(new Xo(8),new Qo("note",{priority:"1",from:"description"},[new Ko(i.description)])),i.meaning&&o.children.push(new Xo(8),new Qo("note",{priority:"1",from:"meaning"},[new Ko(i.meaning)])),o.children.push(new Xo(6)),r.push(new Xo(6),o)});var n=new Qo("body",{},r.concat([new Xo(4)])),i=new Qo("file",{"source-language":Jo,datatype:"plaintext",original:"ng2.template"},[new Xo(4),n,new Xo(2)]),o=new Qo("xliff",{version:$o,xmlns:Zo},[new Xo(2),i,new Xo]);return qo([new zo({version:"1.0",encoding:"UTF-8"}),new Xo,o,new Xo])},e.prototype.load=function(e,t,r){var n=this,i=(new Vo).parse(e,t);if(i.errors.length)throw new Error("xtb parse errors:\n"+i.errors.join("\n"));var o=(new ss).parse(i.rootNodes,r),s=o.messages,a=o.errors;if(a.length)throw new Error("xtb parse errors:\n"+a.join("\n"));var u={},c=[];if(Object.keys(s).forEach(function(e){var r=n._htmlParser.parse(s[e],t,!0,n._interpolationConfig);c.push.apply(c,r.errors),u[e]=r.rootNodes}),c.length)throw new Error("xtb parse errors:\n"+c.join("\n"));return u},e}(),os=function(){function e(){}return e.prototype.visitText=function(e,t){return[new Ko(e.value)]},e.prototype.visitContainer=function(e,t){var r=this,n=[];return e.children.forEach(function(e){return n.push.apply(n,e.visit(r))}),n},e.prototype.visitIcu=function(e,t){if(this._isInIcu)throw new Error("xliff does not support nested ICU messages");this._isInIcu=!0;var r=[];return this._isInIcu=!1,r},e.prototype.visitTagPlaceholder=function(e,t){var r=as(e.tag),n=new Qo(es,{id:e.startName,ctype:r});if(e.isVoid)return[n];var i=new Qo(es,{id:e.closeName,ctype:r});return[n].concat(this.serialize(e.children),[i])},e.prototype.visitPlaceholder=function(e,t){return[new Qo(es,{id:e.name})]},e.prototype.visitIcuPlaceholder=function(e,t){return[new Qo(es,{id:e.name})]},e.prototype.serialize=function(e){var t=this;return this._isInIcu=!1,k.flatten(e.map(function(e){return e.visit(t)}))},e}(),ss=function(){function e(){}return e.prototype.parse=function(e,t){var r=this;this._messageNodes=[],this._translatedMessages={},this._msgId="",this._target=[],this._errors=[],yi(this,e,null);var n=t.getMessageMap(),i=Fo(t),o=Uo(t);return this._messageNodes.filter(function(e){return n.hasOwnProperty(e[0])}).sort(function(e,t){return 0==Object.keys(n[e[0]].placeholderToMsgIds).length?-1:0==Object.keys(n[t[0]].placeholderToMsgIds).length?1:0}).forEach(function(e){var t=e[0];r._placeholders=i[t]||{},r._placeholderToIds=o[t]||{},r._translatedMessages[t]=yi(r,e[1]).join("")}),{messages:this._translatedMessages,errors:this._errors}},e.prototype.visitElement=function(e,t){switch(e.name){case ns:this._target=null;var r=e.attrs.find(function(e){return"id"===e.name});r?this._msgId=r.value:this._addError(e,"<"+ns+'> misses the "id" attribute'),yi(this,e.children,null),null!==this._msgId&&this._messageNodes.push([this._msgId,this._target]);break;case ts:break;case rs:this._target=e.children;break;case es:var n=e.attrs.find(function(e){return"id"===e.name});if(n){var i=n.value;if(this._placeholders.hasOwnProperty(i))return this._placeholders[i];if(this._placeholderToIds.hasOwnProperty(i)&&this._translatedMessages.hasOwnProperty(this._placeholderToIds[i]))return this._translatedMessages[this._placeholderToIds[i]];this._addError(e,'The placeholder "'+i+'" does not exists in the source message')}else this._addError(e,"<"+es+'> misses the "id" attribute');break;default:yi(this,e.children,null)}},e.prototype.visitAttribute=function(e,t){throw new Error("unreachable code")},e.prototype.visitText=function(e,t){return e.value},e.prototype.visitComment=function(e,t){return""},e.prototype.visitExpansion=function(e,t){throw new Error("unreachable code")},e.prototype.visitExpansionCase=function(e,t){throw new Error("unreachable code")},e.prototype._addError=function(e,t){this._errors.push(new _o(e.sourceSpan,t))},e}(),us="messagebundle",cs="msg",ps="ph",ls="ex",hs='<!ELEMENT messagebundle (msg)*>\n<!ATTLIST messagebundle class CDATA #IMPLIED>\n\n<!ELEMENT msg (#PCDATA|ph|source)*>\n<!ATTLIST msg id CDATA #IMPLIED>\n<!ATTLIST msg seq CDATA #IMPLIED>\n<!ATTLIST msg name CDATA #IMPLIED>\n<!ATTLIST msg desc CDATA #IMPLIED>\n<!ATTLIST msg meaning CDATA #IMPLIED>\n<!ATTLIST msg obsolete (obsolete) #IMPLIED>\n<!ATTLIST msg xml:space (default|preserve) "default">\n<!ATTLIST msg is_hidden CDATA #IMPLIED>\n\n<!ELEMENT source (#PCDATA)>\n\n<!ELEMENT ph (#PCDATA|ex)*>\n<!ATTLIST ph name CDATA #REQUIRED>\n\n<!ELEMENT ex (#PCDATA)>',fs=function(){function e(){}return e.prototype.write=function(e){var t=new vs,r=new Qo(us);return Object.keys(e).forEach(function(n){var i=e[n],o={id:n};i.description&&(o.desc=i.description),i.meaning&&(o.meaning=i.meaning),r.children.push(new Xo(2),new Qo(cs,o,t.serialize(i.nodes)))}),r.children.push(new Xo),qo([new zo({version:"1.0",encoding:"UTF-8"}),new Xo,new Wo(us,hs),new Xo,r,new Xo])},e.prototype.load=function(e,t,r){throw new Error("Unsupported")},e}(),vs=function(){function e(){}return e.prototype.visitText=function(e,t){return[new Ko(e.value)]},e.prototype.visitContainer=function(e,t){var r=this,n=[];return e.children.forEach(function(e){return n.push.apply(n,e.visit(r))}),n},e.prototype.visitIcu=function(e,t){var r=this,n=[new Ko("{"+e.expression+", "+e.type+", ")];return Object.keys(e.cases).forEach(function(t){n.push.apply(n,[new Ko(t+" {")].concat(e.cases[t].visit(r),[new Ko("} ")]))}),n.push(new Ko("}")),n},e.prototype.visitTagPlaceholder=function(e,t){var r=new Qo(ls,{},[new Ko("<"+e.tag+">")]),n=new Qo(ps,{name:e.startName},[r]);if(e.isVoid)return[n];var i=new Qo(ls,{},[new Ko("</"+e.tag+">")]),o=new Qo(ps,{name:e.closeName},[i]);return[n].concat(this.serialize(e.children),[o])},e.prototype.visitPlaceholder=function(e,t){return[new Qo(ps,{name:e.name})]},e.prototype.visitIcuPlaceholder=function(e,t){return[new Qo(ps,{name:e.name})]},e.prototype.serialize=function(e){var t=this;return k.flatten(e.map(function(e){return e.visit(t)}))},e}(),ds="translationbundle",ms="translation",ys="ph",gs=function(){function e(e,t){this._htmlParser=e,this._interpolationConfig=t}return e.prototype.write=function(e){throw new Error("Unsupported")},e.prototype.load=function(e,t,r){var n=this,i=(new Vo).parse(e,t);if(i.errors.length)throw new Error("xtb parse errors:\n"+i.errors.join("\n"));var o=(new _s).parse(i.rootNodes,r),s=o.messages,a=o.errors;if(a.length)throw new Error("xtb parse errors:\n"+a.join("\n"));var u={},c=[];if(Object.keys(s).forEach(function(e){var r=n._htmlParser.parse(s[e],t,!0,n._interpolationConfig);c.push.apply(c,r.errors),u[e]=r.rootNodes}),c.length)throw new Error("xtb parse errors:\n"+c.join("\n"));return u},e}(),_s=function(){function e(){}return e.prototype.parse=function(e,t){var r=this;this._messageNodes=[],this._translatedMessages={},this._bundleDepth=0,this._translationDepth=0,this._errors=[],yi(this,e,null);var n=t.getMessageMap(),i=Fo(t),o=Uo(t);return this._messageNodes.filter(function(e){return n.hasOwnProperty(e[0])}).sort(function(e,t){return 0==Object.keys(n[e[0]].placeholderToMsgIds).length?-1:0==Object.keys(n[t[0]].placeholderToMsgIds).length?1:0}).forEach(function(e){var t=e[0];r._placeholders=i[t]||{},r._placeholderToIds=o[t]||{},r._translatedMessages[t]=yi(r,e[1]).join("")}),{messages:this._translatedMessages,errors:this._errors}},e.prototype.visitElement=function(e,t){switch(e.name){case ds:this._bundleDepth++,this._bundleDepth>1&&this._addError(e,"<"+ds+"> elements can not be nested"),yi(this,e.children,null),this._bundleDepth--;break;case ms:this._translationDepth++,this._translationDepth>1&&this._addError(e,"<"+ms+"> elements can not be nested");var r=e.attrs.find(function(e){return"id"===e.name});r?this._messageNodes.push([r.value,e.children]):this._addError(e,"<"+ms+'> misses the "id" attribute'),this._translationDepth--;break;case ys:var n=e.attrs.find(function(e){return"name"===e.name});if(n){var i=n.value;if(this._placeholders.hasOwnProperty(i))return this._placeholders[i];if(this._placeholderToIds.hasOwnProperty(i)&&this._translatedMessages.hasOwnProperty(this._placeholderToIds[i]))return this._translatedMessages[this._placeholderToIds[i]];this._addError(e,'The placeholder "'+i+'" does not exists in the source message')}else this._addError(e,"<"+ys+'> misses the "name" attribute');break;default:this._addError(e,"Unexpected tag")}},e.prototype.visitAttribute=function(e,t){throw new Error("unreachable code")},e.prototype.visitText=function(e,t){return e.value},e.prototype.visitComment=function(e,t){return""},e.prototype.visitExpansion=function(e,t){var r=this;e.cases.map(function(e){return e.visit(r,null)});return"{"+e.switchValue+", "+e.type+", strCases.join(' ')}"},e.prototype.visitExpansionCase=function(e,t){return e.value+" {"+yi(this,e.expression,null)+"}"},e.prototype._addError=function(e,t){this._errors.push(new _o(e.sourceSpan,t))},e}(),ws=function(){function e(e){void 0===e&&(e={}),this._messageMap=e}return e.load=function(t,r,n,i){return new e(i.load(t,r,n))},e.prototype.get=function(e){return this._messageMap[e]},e.prototype.has=function(e){return e in this._messageMap},e}(),Es=function(){function e(e,t,r){this._htmlParser=e,this._translations=t,this._translationsFormat=r}return e.prototype.parse=function(e,t,r,n){void 0===r&&(r=!1),void 0===n&&(n=Rn);var i=this._htmlParser.parse(e,t,r,n);if(!this._translations||""===this._translations)return i;var o=new Oo(this._htmlParser,[],{}),s=o.updateFromTemplate(e,t,n);if(s&&s.length)return new Bi(i.rootNodes,i.errors.concat(s));var a=this._createSerializer(n),u=ws.load(this._translations,t,o,a);return xo(i.rootNodes,u,n,[],{})},e.prototype._createSerializer=function(e){var t=(this._translationsFormat||"xlf").toLowerCase();switch(t){case"xmb":return new fs;case"xtb":return new gs(this._htmlParser,e);case"xliff":case"xlf":default:return new is(this._htmlParser,e)}},e}(),Cs=t.__core_private__.isDefaultChangeDetectionStrategy,Ss=t.__core_private__.ChangeDetectorStatus,xs=t.__core_private__.LifecycleHooks,bs=t.__core_private__.LIFECYCLE_HOOKS_VALUES,Ts=t.__core_private__.ReflectorReader,As=t.__core_private__.AppElement,Ps=t.__core_private__.CodegenComponentFactoryResolver,Ms=t.__core_private__.AppView,ks=t.__core_private__.DebugAppView,Is=t.__core_private__.NgModuleInjector,Os=t.__core_private__.registerModuleFactory,Ns=t.__core_private__.ViewType,Ds=t.__core_private__.view_utils,Rs=t.__core_private__.DebugContext,Ls=t.__core_private__.StaticNodeDebugInfo,Vs=t.__core_private__.devModeEqual,Fs=t.__core_private__.UNINITIALIZED,Us=t.__core_private__.ValueUnwrapper,js=t.__core_private__.TemplateRef_,Bs=t.__core_private__.Console,Hs=t.__core_private__.reflector,qs=t.__core_private__.Reflector,zs=t.__core_private__.ReflectionCapabilities,Ws=t.__core_private__.NoOpAnimationPlayer,Qs=t.__core_private__.AnimationSequencePlayer,Ks=t.__core_private__.AnimationGroupPlayer,Xs=t.__core_private__.AnimationKeyframe,Gs=t.__core_private__.AnimationStyles,Ys=t.__core_private__.ANY_STATE,$s=t.__core_private__.DEFAULT_STATE,Zs=t.__core_private__.EMPTY_STATE,Js=t.__core_private__.FILL_STYLE_FLAG,ea=t.__core_private__.prepareFinalAnimationStyles,ta=t.__core_private__.balanceAnimationKeyframes,ra=t.__core_private__.clearStyles,na=t.__core_private__.collectAndResolveStyles,ia=t.__core_private__.renderStyles,oa=t.__core_private__.ComponentStillLoadingError,sa=t.__core_private__.AnimationTransition,aa=mt("core","linker/view"),ua=mt("core","linker/view_utils"),ca=mt("core","change_detection/change_detection"),pa=mt("core","animation/animation_style_util"),la=function(){
function e(){}return e.ANALYZE_FOR_ENTRY_COMPONENTS={name:"ANALYZE_FOR_ENTRY_COMPONENTS",moduleUrl:mt("core","metadata/di"),runtime:t.ANALYZE_FOR_ENTRY_COMPONENTS},e.ViewUtils={name:"ViewUtils",moduleUrl:mt("core","linker/view_utils"),runtime:Ds.ViewUtils},e.AppView={name:"AppView",moduleUrl:aa,runtime:Ms},e.DebugAppView={name:"DebugAppView",moduleUrl:aa,runtime:ks},e.AppElement={name:"AppElement",moduleUrl:mt("core","linker/element"),runtime:As},e.ElementRef={name:"ElementRef",moduleUrl:mt("core","linker/element_ref"),runtime:t.ElementRef},e.ViewContainerRef={name:"ViewContainerRef",moduleUrl:mt("core","linker/view_container_ref"),runtime:t.ViewContainerRef},e.ChangeDetectorRef={name:"ChangeDetectorRef",moduleUrl:mt("core","change_detection/change_detector_ref"),runtime:t.ChangeDetectorRef},e.RenderComponentType={name:"RenderComponentType",moduleUrl:mt("core","render/api"),runtime:t.RenderComponentType},e.QueryList={name:"QueryList",moduleUrl:mt("core","linker/query_list"),runtime:t.QueryList},e.TemplateRef={name:"TemplateRef",moduleUrl:mt("core","linker/template_ref"),runtime:t.TemplateRef},e.TemplateRef_={name:"TemplateRef_",moduleUrl:mt("core","linker/template_ref"),runtime:js},e.CodegenComponentFactoryResolver={name:"CodegenComponentFactoryResolver",moduleUrl:mt("core","linker/component_factory_resolver"),runtime:Ps},e.ComponentFactoryResolver={name:"ComponentFactoryResolver",moduleUrl:mt("core","linker/component_factory_resolver"),runtime:t.ComponentFactoryResolver},e.ComponentFactory={name:"ComponentFactory",runtime:t.ComponentFactory,moduleUrl:mt("core","linker/component_factory")},e.NgModuleFactory={name:"NgModuleFactory",runtime:t.NgModuleFactory,moduleUrl:mt("core","linker/ng_module_factory")},e.NgModuleInjector={name:"NgModuleInjector",runtime:Is,moduleUrl:mt("core","linker/ng_module_factory")},e.RegisterModuleFactoryFn={name:"registerModuleFactory",runtime:Os,moduleUrl:mt("core","linker/ng_module_factory_loader")},e.ValueUnwrapper={name:"ValueUnwrapper",moduleUrl:ca,runtime:Us},e.Injector={name:"Injector",moduleUrl:mt("core","di/injector"),runtime:t.Injector},e.ViewEncapsulation={name:"ViewEncapsulation",moduleUrl:mt("core","metadata/view"),runtime:t.ViewEncapsulation},e.ViewType={name:"ViewType",moduleUrl:mt("core","linker/view_type"),runtime:Ns},e.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleUrl:ca,runtime:t.ChangeDetectionStrategy},e.StaticNodeDebugInfo={name:"StaticNodeDebugInfo",moduleUrl:mt("core","linker/debug_context"),runtime:Ls},e.DebugContext={name:"DebugContext",moduleUrl:mt("core","linker/debug_context"),runtime:Rs},e.Renderer={name:"Renderer",moduleUrl:mt("core","render/api"),runtime:t.Renderer},e.SimpleChange={name:"SimpleChange",moduleUrl:ca,runtime:t.SimpleChange},e.UNINITIALIZED={name:"UNINITIALIZED",moduleUrl:ca,runtime:Fs},e.ChangeDetectorStatus={name:"ChangeDetectorStatus",moduleUrl:ca,runtime:Ss},e.checkBinding={name:"checkBinding",moduleUrl:ua,runtime:Ds.checkBinding},e.flattenNestedViewRenderNodes={name:"flattenNestedViewRenderNodes",moduleUrl:ua,runtime:Ds.flattenNestedViewRenderNodes},e.devModeEqual={name:"devModeEqual",moduleUrl:ca,runtime:Vs},e.interpolate={name:"interpolate",moduleUrl:ua,runtime:Ds.interpolate},e.castByValue={name:"castByValue",moduleUrl:ua,runtime:Ds.castByValue},e.EMPTY_ARRAY={name:"EMPTY_ARRAY",moduleUrl:ua,runtime:Ds.EMPTY_ARRAY},e.EMPTY_MAP={name:"EMPTY_MAP",moduleUrl:ua,runtime:Ds.EMPTY_MAP},e.pureProxies=[null,{name:"pureProxy1",moduleUrl:ua,runtime:Ds.pureProxy1},{name:"pureProxy2",moduleUrl:ua,runtime:Ds.pureProxy2},{name:"pureProxy3",moduleUrl:ua,runtime:Ds.pureProxy3},{name:"pureProxy4",moduleUrl:ua,runtime:Ds.pureProxy4},{name:"pureProxy5",moduleUrl:ua,runtime:Ds.pureProxy5},{name:"pureProxy6",moduleUrl:ua,runtime:Ds.pureProxy6},{name:"pureProxy7",moduleUrl:ua,runtime:Ds.pureProxy7},{name:"pureProxy8",moduleUrl:ua,runtime:Ds.pureProxy8},{name:"pureProxy9",moduleUrl:ua,runtime:Ds.pureProxy9},{name:"pureProxy10",moduleUrl:ua,runtime:Ds.pureProxy10}],e.SecurityContext={name:"SecurityContext",moduleUrl:mt("core","security"),runtime:t.SecurityContext},e.AnimationKeyframe={name:"AnimationKeyframe",moduleUrl:mt("core","animation/animation_keyframe"),runtime:Xs},e.AnimationStyles={name:"AnimationStyles",moduleUrl:mt("core","animation/animation_styles"),runtime:Gs},e.NoOpAnimationPlayer={name:"NoOpAnimationPlayer",moduleUrl:mt("core","animation/animation_player"),runtime:Ws},e.AnimationGroupPlayer={name:"AnimationGroupPlayer",moduleUrl:mt("core","animation/animation_group_player"),runtime:Ks},e.AnimationSequencePlayer={name:"AnimationSequencePlayer",moduleUrl:mt("core","animation/animation_sequence_player"),runtime:Qs},e.prepareFinalAnimationStyles={name:"prepareFinalAnimationStyles",moduleUrl:pa,runtime:ea},e.balanceAnimationKeyframes={name:"balanceAnimationKeyframes",moduleUrl:pa,runtime:ta},e.clearStyles={name:"clearStyles",moduleUrl:pa,runtime:ra},e.renderStyles={name:"renderStyles",moduleUrl:pa,runtime:ia},e.collectAndResolveStyles={name:"collectAndResolveStyles",moduleUrl:pa,runtime:na},e.LOCALE_ID={name:"LOCALE_ID",moduleUrl:mt("core","i18n/tokens"),runtime:t.LOCALE_ID},e.TRANSLATIONS_FORMAT={name:"TRANSLATIONS_FORMAT",moduleUrl:mt("core","i18n/tokens"),runtime:t.TRANSLATIONS_FORMAT},e.setBindingDebugInfo={name:"setBindingDebugInfo",moduleUrl:ua,runtime:Ds.setBindingDebugInfo},e.setBindingDebugInfoForChanges={name:"setBindingDebugInfoForChanges",moduleUrl:ua,runtime:Ds.setBindingDebugInfoForChanges},e.AnimationTransition={name:"AnimationTransition",moduleUrl:mt("core","animation/animation_transition"),runtime:sa},e}(),ma=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ya=function(e){function r(){e.call(this,j)}return ma(r,e),r.prototype.parse=function(t,r,n,i){return void 0===n&&(n=!1),void 0===i&&(i=Rn),e.prototype.parse.call(this,t,r,n,i)},r.decorators=[{type:t.Injectable}],r.ctorParameters=[],r}(Hi),ga=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},_a=["zero","one","two","few","many","other"],Ea=function(){function e(e,t,r){this.nodes=e,this.expanded=t,this.errors=r}return e}(),Ca=function(e){function t(t,r){e.call(this,t,r)}return ga(t,e),t}(pi),Sa=function(){function e(){this.isExpanded=!1,this.errors=[]}return e.prototype.visitElement=function(e,t){return new di(e.name,e.attrs,yi(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan)},e.prototype.visitAttribute=function(e,t){return e},e.prototype.visitText=function(e,t){return e},e.prototype.visitComment=function(e,t){return e},e.prototype.visitExpansion=function(e,t){return this.isExpanded=!0,"plural"==e.type?xa(e,this.errors):ba(e,this.errors)},e.prototype.visitExpansionCase=function(e,t){throw new Error("Should not be reached")},e}(),Ta=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Aa=function(e){function t(t,r){e.call(this,r,t)}return Ta(t,e),t}(pi),Pa=function(){function e(e,t){var r=this;this.component=e,this.sourceSpan=t,this.errors=[],this.viewQueries=La(e),this.viewProviders=new Map,Na(e.viewProviders,t,this.errors).forEach(function(e){y(r.viewProviders.get(e.token.reference))&&r.viewProviders.set(e.token.reference,!0)})}return e}(),Ma=function(){function t(e,t,r,n,i,o,s){var a=this;this.viewContext=e,this._parent=t,this._isViewRoot=r,this._directiveAsts=n,this._sourceSpan=s,this._transformedProviders=new Map,this._seenProviders=new Map,this._hasViewContainer=!1,this._attrs={},i.forEach(function(e){return a._attrs[e.name]=e.value});var u=n.map(function(e){return e.directive});this._allProviders=Da(u,s,e.errors),this._contentQueries=Va(u);var c=new Map;P.values(this._allProviders).forEach(function(e){a._addQueryReadsTo(e.token,c)}),o.forEach(function(e){a._addQueryReadsTo(new Ft({value:e.name}),c)}),m(c.get(va(la.ViewContainerRef).reference))&&(this._hasViewContainer=!0),P.values(this._allProviders).forEach(function(e){var t=e.eager||m(c.get(e.token.reference));t&&a._getOrCreateLocalProvider(e.providerType,e.token,!0)})}return t.prototype.afterElement=function(){var e=this;P.values(this._allProviders).forEach(function(t){e._getOrCreateLocalProvider(t.providerType,t.token,!1)})},Object.defineProperty(t.prototype,"transformProviders",{get:function(){return P.values(this._transformedProviders)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transformedDirectiveAsts",{get:function(){var e=this.transformProviders.map(function(e){return e.token.identifier}),t=k.clone(this._directiveAsts);return k.sort(t,function(t,r){return e.indexOf(t.directive.type)-e.indexOf(r.directive.type)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transformedHasViewContainer",{get:function(){return this._hasViewContainer},enumerable:!0,configurable:!0}),t.prototype._addQueryReadsTo=function(e,t){this._getQueriesFor(e).forEach(function(r){var n=r.read||e;y(t.get(n.reference))&&t.set(n.reference,!0)})},t.prototype._getQueriesFor=function(e){for(var i,t=[],r=this,n=0;null!==r;)i=r._contentQueries.get(e.reference),m(i)&&k.addAll(t,i.filter(function(e){return e.descendants||1>=n})),r._directiveAsts.length>0&&n++,r=r._parent;return i=this.viewContext.viewQueries.get(e.reference),m(i)&&k.addAll(t,i),t},t.prototype._getOrCreateLocalProvider=function(t,r,n){var i=this,o=this._allProviders.get(r.reference);if(!o||(t===e.ProviderAstType.Directive||t===e.ProviderAstType.PublicService)&&o.providerType===e.ProviderAstType.PrivateService||(t===e.ProviderAstType.PrivateService||t===e.ProviderAstType.PublicService)&&o.providerType===e.ProviderAstType.Builtin)return null;var s=this._transformedProviders.get(r.reference);if(m(s))return s;if(m(this._seenProviders.get(r.reference)))return this.viewContext.errors.push(new Aa("Cannot instantiate cyclic dependency! "+r.name,this._sourceSpan)),null;this._seenProviders.set(r.reference,!0);var a=o.providers.map(function(e){var s,t=e.useValue,r=e.useExisting;if(m(e.useExisting)){var a=i._getDependency(o.providerType,new Rt({token:e.useExisting}),n);m(a.token)?r=a.token:(r=null,t=a.value)}else if(m(e.useFactory)){var u=e.deps||e.useFactory.diDeps;s=u.map(function(e){return i._getDependency(o.providerType,e,n)})}else if(m(e.useClass)){var u=e.deps||e.useClass.diDeps;s=u.map(function(e){return i._getDependency(o.providerType,e,n)})}return Ia(e,{useExisting:r,useValue:t,deps:s})});return s=Oa(o,{eager:n,providers:a}),this._transformedProviders.set(r.reference,s),s},t.prototype._getLocalDependency=function(t,r,n){if(void 0===n&&(n=null),r.isAttribute){var i=this._attrs[r.token.value];return new Rt({isValue:!0,value:C(i)})}if(m(r.query)||m(r.viewQuery))return r;if(m(r.token)){if(t===e.ProviderAstType.Directive||t===e.ProviderAstType.Component){if(r.token.reference===va(la.Renderer).reference||r.token.reference===va(la.ElementRef).reference||r.token.reference===va(la.ChangeDetectorRef).reference||r.token.reference===va(la.TemplateRef).reference)return r;r.token.reference===va(la.ViewContainerRef).reference&&(this._hasViewContainer=!0)}if(r.token.reference===va(la.Injector).reference)return r;if(m(this._getOrCreateLocalProvider(t,r.token,n)))return r}return null},t.prototype._getDependency=function(t,r,n){void 0===n&&(n=null);var i=this,o=n,s=null;if(r.isSkipSelf||(s=this._getLocalDependency(t,r,n)),r.isSelf)!s&&r.isOptional&&(s=new Rt({isValue:!0,value:null}));else{for(;!s&&m(i._parent);){var a=i;i=i._parent,a._isViewRoot&&(o=!1),s=i._getLocalDependency(e.ProviderAstType.PublicService,r,o)}s||(s=!r.isHost||this.viewContext.component.type.isHost||this.viewContext.component.type.reference===r.token.reference||m(this.viewContext.viewProviders.get(r.token.reference))?r:r.isOptional?s=new Rt({isValue:!0,value:null}):null)}return s||this.viewContext.errors.push(new Aa("No provider for "+r.token.name,this._sourceSpan)),s},t}(),ka=function(){function t(t,r,n){var i=this;this._transformedProviders=new Map,this._seenProviders=new Map,this._errors=[],this._allProviders=new Map;var o=t.transitiveModule.modules.map(function(e){return e.type});o.forEach(function(t){var r=new Lt({token:new Ft({identifier:t}),useClass:t});Ra([r],e.ProviderAstType.PublicService,!0,n,i._errors,i._allProviders)}),Ra(Na(t.transitiveModule.providers.concat(r),n,this._errors),e.ProviderAstType.PublicService,!1,n,this._errors,this._allProviders)}return t.prototype.parse=function(){var e=this;if(P.values(this._allProviders).forEach(function(t){e._getOrCreateLocalProvider(t.token,t.eager)}),this._errors.length>0){var t=this._errors.join("\n");throw new Error("Provider parse errors:\n"+t)}return P.values(this._transformedProviders)},t.prototype._getOrCreateLocalProvider=function(e,t){var r=this,n=this._allProviders.get(e.reference);if(!n)return null;var i=this._transformedProviders.get(e.reference);if(m(i))return i;if(m(this._seenProviders.get(e.reference)))return this._errors.push(new Aa("Cannot instantiate cyclic dependency! "+e.name,n.sourceSpan)),null;this._seenProviders.set(e.reference,!0);var o=n.providers.map(function(e){var s,i=e.useValue,o=e.useExisting;if(m(e.useExisting)){var a=r._getDependency(new Rt({token:e.useExisting}),t,n.sourceSpan);m(a.token)?o=a.token:(o=null,i=a.value)}else if(m(e.useFactory)){var u=e.deps||e.useFactory.diDeps;s=u.map(function(e){return r._getDependency(e,t,n.sourceSpan)})}else if(m(e.useClass)){var u=e.deps||e.useClass.diDeps;s=u.map(function(e){return r._getDependency(e,t,n.sourceSpan)})}return Ia(e,{useExisting:o,useValue:i,deps:s})});return i=Oa(n,{eager:t,providers:o}),this._transformedProviders.set(e.reference,i),i},t.prototype._getDependency=function(e,t,r){void 0===t&&(t=null);var n=!1;!e.isSkipSelf&&m(e.token)&&(e.token.reference===va(la.Injector).reference||e.token.reference===va(la.ComponentFactoryResolver).reference?n=!0:m(this._getOrCreateLocalProvider(e.token,t))&&(n=!0));var i=e;return e.isSelf&&!n&&(e.isOptional?i=new Rt({isValue:!0,value:null}):this._errors.push(new Aa("No provider for "+e.token.name,r))),i},t}(),Ua=function(){function e(){}return e}(),ja=function(){function e(e,t){this.style=e,this.styleUrls=t}return e}(),qa=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,za=/^([^:\/?#]+):/,Wa="select",Qa="ng-content",Ka="link",Xa="rel",Ga="href",Ya="stylesheet",$a="style",Za="script",Ja="ngNonBindable",eu="ngProjectAs";!function(e){e[e.NG_CONTENT=0]="NG_CONTENT",e[e.STYLE=1]="STYLE",e[e.STYLESHEET=2]="STYLESHEET",e[e.SCRIPT=3]="SCRIPT",e[e.OTHER=4]="OTHER"}(ru||(ru={}));var il,nu=function(){function e(e,t,r,n,i){this.type=e,this.selectAttr=t,this.hrefAttr=r,this.nonBindable=n,this.projectAs=i}return e}(),ou=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},su=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/,au=1,uu=2,cu=3,pu=4,lu=5,hu=6,fu=7,vu=8,du=9,mu=10,yu="animate-",gu="template",_u="template",wu="*",Eu="class",Cu=".",Su="attr",xu="class",bu="style",Tu=H.parse("*")[0],Au=new t.OpaqueToken("TemplateTransforms"),Pu=function(e){function t(t,r,n){e.call(this,r,t,n)}return ou(t,e),t}(pi),Mu=function(){function e(e,t){this.templateAst=e,this.errors=t}return e}(),ku=function(){function r(e,t,r,n,i){this._exprParser=e,this._schemaRegistry=t,this._htmlParser=r,this._console=n,this.transforms=i}return r.prototype.parse=function(t,r,n,i,o,s){var a=this.tryParse(t,r,n,i,o,s),u=a.errors.filter(function(t){return t.level===e.ParseErrorLevel.WARNING}),c=a.errors.filter(function(t){return t.level===e.ParseErrorLevel.FATAL});if(u.length>0&&this._console.warn("Template parse warnings:\n"+u.join("\n")),c.length>0){var p=c.join("\n");throw new Error("Template parse errors:\n"+p)}return a.templateAst},r.prototype.tryParse=function(e,t,r,n,i,o){return this.tryParseHtml(this.expandHtml(this._htmlParser.parse(t,o,!0,this.getInterpolationConfig(e))),e,t,r,n,i,o)},r.prototype.tryParseHtml=function(e,t,r,n,i,o,s){var a,u=e.errors;if(e.rootNodes.length>0){var c=Xt(n),p=Xt(i),l=new Pa(t,e.rootNodes[0].sourceSpan),h=new Iu(l,c,p,o,this._exprParser,this._schemaRegistry);a=yi(h,e.rootNodes,Fu),u.push.apply(u,h.errors.concat(l.errors))}else a=[];return this._assertNoReferenceDuplicationOnTemplate(a,u),u.length>0?new Mu(a,u):(m(this.transforms)&&this.transforms.forEach(function(e){a=d(e,a)}),new Mu(a,u))},r.prototype.expandHtml=function(e,t){void 0===t&&(t=!1);var r=e.errors;if(0==r.length||t){var n=wa(e.rootNodes);r.push.apply(r,n.errors),e=new Bi(n.nodes,r)}return e},r.prototype.getInterpolationConfig=function(e){return e.template?Dn.fromArray(e.template.interpolation):void 0},r.prototype._assertNoReferenceDuplicationOnTemplate=function(t,r){var n=[];t.filter(function(e){return!!e.references}).forEach(function(t){return t.references.forEach(function(t){var i=t.name;if(n.indexOf(i)<0)n.push(i);else{var o=new Pu('Reference "#'+i+'" is defined several times',t.sourceSpan,e.ParseErrorLevel.FATAL);r.push(o)}})})},r.decorators=[{type:t.Injectable}],r.ctorParameters=[{type:ii},{type:Ua},{type:Es},{type:Bs},{type:Array,decorators:[{type:t.Optional},{type:t.Inject,args:[Au]}]}],r}(),Iu=function(){function f(e,t,r,n,i,o){var s=this;this.providerViewContext=e,this._schemas=n,this._exprParser=i,this._schemaRegistry=o,this.selectorMatcher=new q,this.errors=[],this.directivesIndex=new Map,this.ngContentCount=0,this.pipesByName=new Map;var a=e.component.template;a&&a.interpolation&&(this._interpolationConfig={start:a.interpolation[0],end:a.interpolation[1]}),t.forEach(function(e,t){var r=H.parse(e.selector);s.selectorMatcher.addSelectables(r,e),s.directivesIndex.set(e,t)}),r.forEach(function(e){return s.pipesByName.set(e.name,e)})}return f.prototype._reportError=function(t,r,n){void 0===n&&(n=e.ParseErrorLevel.FATAL),this.errors.push(new Pu(t,r,n))},f.prototype._reportParserErrors=function(e,t){for(var r=0,n=e;r<n.length;r++){var i=n[r];this._reportError(i.message,t)}},f.prototype._parseInterpolation=function(e,t){var r=t.start.toString();try{var n=this._exprParser.parseInterpolation(e,r,this._interpolationConfig);if(n&&this._reportParserErrors(n.errors,t),this._checkPipes(n,t),m(n)&&n.ast.expressions.length>Ds.MAX_INTERPOLATION_VALUES)throw new Error("Only support at most "+Ds.MAX_INTERPOLATION_VALUES+" interpolation values!");return n}catch(i){return this._reportError(""+i,t),this._exprParser.wrapLiteralPrimitive("ERROR",r)}},f.prototype._parseAction=function(e,t){var r=t.start.toString();try{var n=this._exprParser.parseAction(e,r,this._interpolationConfig);return n&&this._reportParserErrors(n.errors,t),!n||n.ast instanceof nr?(this._reportError("Empty expressions are not allowed",t),this._exprParser.wrapLiteralPrimitive("ERROR",r)):(this._checkPipes(n,t),n)}catch(i){return this._reportError(""+i,t),this._exprParser.wrapLiteralPrimitive("ERROR",r)}},f.prototype._parseBinding=function(e,t){var r=t.start.toString();try{var n=this._exprParser.parseBinding(e,r,this._interpolationConfig);return n&&this._reportParserErrors(n.errors,t),this._checkPipes(n,t),n}catch(i){return this._reportError(""+i,t),this._exprParser.wrapLiteralPrimitive("ERROR",r)}},f.prototype._parseTemplateBindings=function(t,r){var n=this,i=r.start.toString();try{var o=this._exprParser.parseTemplateBindings(t,i);return this._reportParserErrors(o.errors,r),o.templateBindings.forEach(function(e){m(e.expression)&&n._checkPipes(e.expression,r)}),o.warnings.forEach(function(t){n._reportError(t,r,e.ParseErrorLevel.WARNING)}),o.templateBindings}catch(s){return this._reportError(""+s,r),[]}},f.prototype._checkPipes=function(e,t){var r=this;if(m(e)){var n=new ju;e.visit(n),n.pipes.forEach(function(e){r.pipesByName.has(e)||r._reportError("The pipe '"+e+"' could not be found",t)})}},f.prototype.visitExpansion=function(e,t){return null},f.prototype.visitExpansionCase=function(e,t){return null},f.prototype.visitText=function(e,t){var i=t.findNgContentIndex(Tu),o=this._parseInterpolation(e.value,e.sourceSpan);return m(o)?new n(o,i,e.sourceSpan):new r(e.value,i,e.sourceSpan)},f.prototype.visitAttribute=function(e,t){return new i(e.name,e.value,e.sourceSpan)},f.prototype.visitComment=function(e,t){return null},f.prototype.visitElement=function(e,t){var r=this,n=e.name,i=tu(e);if(i.type===ru.SCRIPT||i.type===ru.STYLE)return null;if(i.type===ru.STYLESHEET&&Ba(i.hrefAttr))return null;var o=[],s=[],a=[],u=[],l=[],h=[],f=[],d=[],y=[],g=!1,_=[],w=N(n.toLowerCase())[1],E=w==gu;e.attrs.forEach(function(e){var t=r._parseAttr(E,e,o,s,l,h,a,u),n=r._parseInlineTemplateBinding(e,d,f,y);n&&g&&r._reportError("Can't have multiple template bindings on one element. Use only one attribute named 'template' or prefixed with *",e.sourceSpan),t||n||(_.push(r.visitAttribute(e,null)),o.push([e.name,e.value])),n&&(g=!0)});var C=Vu(n,o),S=this._parseDirectives(this.selectorMatcher,C),x=S.directives,b=S.matchElement,T=[],A=this._createDirectiveAsts(E,e.name,x,s,a,e.sourceSpan,T),P=this._createElementPropertyAsts(e.name,s,A).concat(l),M=t.isTemplateElement||g,k=new Ma(this.providerViewContext,t.providerContext,M,A,_,T,e.sourceSpan),I=yi(i.nonBindable?Uu:this,e.children,Lu.create(E,A,E?t.providerContext:k));k.afterElement();var R,O=m(i.projectAs)?H.parse(i.projectAs)[0]:C,D=t.findNgContentIndex(O);if(i.type===ru.NG_CONTENT)e.children&&!e.children.every(Hu)&&this._reportError("<ng-content> element cannot have content.",e.sourceSpan),R=new v(this.ngContentCount++,g?null:D,e.sourceSpan);else if(E)this._assertAllEventsPublishedByDirectives(A,h),this._assertNoComponentsNorElementBindingsOnTemplate(A,P,e.sourceSpan),R=new p(_,h,T,u,k.transformedDirectiveAsts,k.transformProviders,k.transformedHasViewContainer,I,g?null:D,e.sourceSpan);else{this._assertElementExists(b,e),this._assertOnlyOneComponent(A,e.sourceSpan);var L=g?null:t.findNgContentIndex(O);R=new c(n,_,P,h,T,k.transformedDirectiveAsts,k.transformProviders,k.transformedHasViewContainer,I,g?null:L,e.sourceSpan,e.endSourceSpan),this._findComponentDirectives(A).forEach(function(e){return r._validateElementAnimationInputOutputs(e.hostProperties,e.hostEvents,e.directive.template)});var V=k.viewContext.component.template;this._validateElementAnimationInputOutputs(P,h,V)}if(g){var F=Vu(gu,d),U=this._parseDirectives(this.selectorMatcher,F).directives,j=this._createDirectiveAsts(!0,e.name,U,f,[],e.sourceSpan,[]),B=this._createElementPropertyAsts(e.name,f,j);this._assertNoComponentsNorElementBindingsOnTemplate(j,B,e.sourceSpan);var q=new Ma(this.providerViewContext,t.providerContext,t.isTemplateElement,j,[],[],e.sourceSpan);q.afterElement(),R=new p([],[],[],y,q.transformedDirectiveAsts,q.transformProviders,q.transformedHasViewContainer,[R],D,e.sourceSpan)}return R},f.prototype._validateElementAnimationInputOutputs=function(e,t,r){var n=this,i=new Set;r.animations.forEach(function(e){i.add(e.name)});var o=e.filter(function(e){return e.isAnimation});o.forEach(function(e){var t=e.name;i.has(t)||n._reportError("Couldn't find an animation entry for \""+t+'"',e.sourceSpan)}),t.forEach(function(e){if(e.isAnimation){var t=o.find(function(t){return t.name==e.name});t||n._reportError("Unable to listen on (@"+e.name+"."+e.phase+") because the animation trigger [@"+e.name+"] isn't being used on the same element",e.sourceSpan)}})},f.prototype._parseInlineTemplateBinding=function(e,t,r,n){var i=null;if(this._normalizeAttributeName(e.name)==_u)i=e.value;else if(e.name.startsWith(wu)){var o=e.name.substring(wu.length);i=0==e.value.length?o:o+" "+e.value}if(m(i)){for(var s=this._parseTemplateBindings(i,e.sourceSpan),a=0;a<s.length;a++){var c=s[a];c.keyIsVar?n.push(new u(c.key,c.name,e.sourceSpan)):m(c.expression)?this._parsePropertyAst(c.key,c.expression,e.sourceSpan,t,r):(t.push([c.key,""]),this._parseLiteralAttr(c.key,null,e.sourceSpan,r))}return!0}return!1},f.prototype._parseAttr=function(t,r,n,i,o,s,a,u){var c=this._normalizeAttributeName(r.name),p=r.value,l=r.sourceSpan,h=c.match(su),f=!1;if(null!==h)if(f=!0,m(h[au]))this._parsePropertyOrAnimation(h[fu],p,l,n,i,o);else if(h[uu])if(t){var v=h[fu];this._parseVariable(v,p,l,u)}else this._reportError('"let-" is only supported on template elements.',l);else if(h[cu]){var v=h[fu];this._parseReference(v,p,l,a)}else h[pu]?this._parseEventOrAnimationEvent(h[fu],p,l,n,s):h[lu]?(this._parsePropertyOrAnimation(h[fu],p,l,n,i,o),this._parseAssignmentEvent(h[fu],p,l,n,s)):h[hu]?(Bu(c)&&m(p)&&p.length>0&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',l,e.ParseErrorLevel.FATAL),this._parseAnimation(h[fu],p,l,n,o)):h[vu]?(this._parsePropertyOrAnimation(h[vu],p,l,n,i,o),this._parseAssignmentEvent(h[vu],p,l,n,s)):h[du]?this._parsePropertyOrAnimation(h[du],p,l,n,i,o):h[mu]&&this._parseEventOrAnimationEvent(h[mu],p,l,n,s);else f=this._parsePropertyInterpolation(c,p,l,n,i);return f||this._parseLiteralAttr(c,p,l,i),f},f.prototype._normalizeAttributeName=function(e){return/^data-/i.test(e)?e.substring(5):e},f.prototype._parseVariable=function(e,t,r,n){e.indexOf("-")>-1&&this._reportError('"-" is not allowed in variable names',r),n.push(new u(e,t,r))},f.prototype._parseReference=function(e,t,r,n){e.indexOf("-")>-1&&this._reportError('"-" is not allowed in reference names',r),n.push(new Du(e,t,r))},f.prototype._parsePropertyOrAnimation=function(e,t,r,n,i,o){var s=yu.length,a=Bu(e),u=1;e.substring(0,s)==yu&&(a=!0,u=s),a?this._parseAnimation(e.substr(u),t,r,n,o):this._parsePropertyAst(e,this._parseBinding(t,r),r,n,i)},f.prototype._parseAnimation=function(r,n,i,s,a){m(n)&&0!=n.length||(n="null");var u=this._parseBinding(n,i);s.push([r,u.source]),a.push(new o(r,e.PropertyBindingType.Animation,t.SecurityContext.NONE,u,null,i))},f.prototype._parsePropertyInterpolation=function(e,t,r,n,i){var o=this._parseInterpolation(t,r);return m(o)?(this._parsePropertyAst(e,o,r,n,i),!0):!1},f.prototype._parsePropertyAst=function(e,t,r,n,i){n.push([e,t.source]),i.push(new Nu(e,t,!1,r))},f.prototype._parseAssignmentEvent=function(e,t,r,n,i){this._parseEventOrAnimationEvent(e+"Change",t+"=$event",r,n,i)},f.prototype._parseEventOrAnimationEvent=function(e,t,r,n,i){Bu(e)?(e=e.substr(1),this._parseAnimationEvent(e,t,r,i)):this._parseEvent(e,t,r,n,i)},f.prototype._parseAnimationEvent=function(e,t,r,n){var i=lt(e,[e,""]),o=i[0],a=i[1].toLowerCase();if(a)switch(a){case"start":case"done":var u=this._parseAction(t,r);n.push(new s(o,null,a,u,r));break;default:this._reportError('The provided animation output phase value "'+a+'" for "@'+o+'" is not supported (use start or done)',r)}else this._reportError("The animation trigger output event (@"+o+") is missing its phase value name (start or done are currently supported)",r)},f.prototype._parseEvent=function(e,t,r,n,i){var o=pt(e,[null,e]),a=o[0],u=o[1],c=this._parseAction(t,r);n.push([e,c.source]),i.push(new s(u,a,null,c,r))},f.prototype._parseLiteralAttr=function(e,t,r,n){n.push(new Nu(e,this._exprParser.wrapLiteralPrimitive(t,""),!0,r))},f.prototype._parseDirectives=function(e,t){var r=this,n=new Array(this.directivesIndex.size),i=!1;return e.match(t,function(e,t){n[r.directivesIndex.get(t)]=t,i=i||e.hasElementSelector()}),{directives:n.filter(function(e){return!!e}),matchElement:i}},f.prototype._createDirectiveAsts=function(e,t,r,n,i,o,s){var u=this,c=new Set,p=null,l=r.map(function(e){var r=new ci(o.start,o.end,"Directive "+e.type.name);e.isComponent&&(p=e);var l=[],f=[],v=[];return u._createDirectiveHostPropertyAsts(t,e.hostProperties,r,l),u._createDirectiveHostEventAsts(e.hostListeners,r,f),u._createDirectivePropertyAsts(e.inputs,n,v),i.forEach(function(t){(0===t.value.length&&e.isComponent||e.exportAs==t.value)&&(s.push(new a(t.name,fa(e.type),t.sourceSpan)),c.add(t.name))}),new h(e,v,l,f,r)});return i.forEach(function(t){if(t.value.length>0)c.has(t.name)||u._reportError('There is no directive with "exportAs" set to "'+t.value+'"',t.sourceSpan);else if(!p){var r=null;e&&(r=va(la.TemplateRef)),s.push(new a(t.name,r,t.sourceSpan))}}),l},f.prototype._createDirectiveHostPropertyAsts=function(e,t,r,n){var i=this;t&&Object.keys(t).forEach(function(o){var s=t[o];if("string"==typeof s){var a=i._parseBinding(s,r);n.push(i._createElementPropertyAst(e,o,a,r))}else i._reportError('Value of the host property binding "'+o+'" needs to be a string representing an expression but got "'+s+'" ('+typeof s+")",r)})},f.prototype._createDirectiveHostEventAsts=function(e,t,r){var n=this;e&&Object.keys(e).forEach(function(i){var o=e[i];"string"==typeof o?n._parseEventOrAnimationEvent(i,o,t,[],r):n._reportError('Value of the host listener "'+i+'" needs to be a string representing an expression but got "'+o+'" ('+typeof o+")",t)})},f.prototype._createDirectivePropertyAsts=function(e,t,r){if(e){var n=new Map;t.forEach(function(e){var t=n.get(e.name);(!t||t.isLiteral)&&n.set(e.name,e)}),Object.keys(e).forEach(function(t){var i=e[t],o=n.get(i);o&&r.push(new l(t,o.name,o.expression,o.sourceSpan))})}},f.prototype._createElementPropertyAsts=function(e,t,r){var n=this,i=[],o=new Map;return r.forEach(function(e){e.inputs.forEach(function(e){o.set(e.templateName,e)})}),t.forEach(function(t){t.isLiteral||o.get(t.name)||i.push(n._createElementPropertyAst(e,t.name,t.expression,t.sourceSpan))}),i},f.prototype._createElementPropertyAst=function(r,n,i,s){var u,c,l,a=null,p=n.split(Cu);if(1===p.length){var h=p[0];if(Bu(h))c=h.substr(1),u=e.PropertyBindingType.Animation,l=t.SecurityContext.NONE;else if(c=this._schemaRegistry.getMappedPropName(h),l=this._schemaRegistry.securityContext(r,c),u=e.PropertyBindingType.Property,this._validatePropertyOrAttributeName(c,s,!1),!this._schemaRegistry.hasProperty(r,c,this._schemas)){var f="Can't bind to '"+c+"' since it isn't a known property of '"+r+"'.";r.indexOf("-")>-1&&(f+="\n1. If '"+r+"' is an Angular component and it has '"+c+"' input, then verify that it is part of this module."+("\n2. If '"+r+"' is a Web Component then add \"CUSTOM_ELEMENTS_SCHEMA\" to the '@NgModule.schemas' of this component to suppress this message.\n")),this._reportError(f,s)}}else if(p[0]==Su){c=p[1],this._validatePropertyOrAttributeName(c,s,!0);var v=this._schemaRegistry.getMappedPropName(c);l=this._schemaRegistry.securityContext(r,v);var d=c.indexOf(":");if(d>-1){var m=c.substring(0,d),y=c.substring(d+1);c=R(m,y)}u=e.PropertyBindingType.Attribute}else p[0]==xu?(c=p[1],u=e.PropertyBindingType.Class,l=t.SecurityContext.NONE):p[0]==bu?(a=p.length>2?p[2]:null,c=p[1],u=e.PropertyBindingType.Style,l=t.SecurityContext.STYLE):(this._reportError("Invalid property name '"+n+"'",s),u=null,l=null);return new o(c,u,l,i,a,s)},f.prototype._validatePropertyOrAttributeName=function(t,r,n){var i=n?this._schemaRegistry.validateAttribute(t):this._schemaRegistry.validateProperty(t);i.error&&this._reportError(i.msg,r,e.ParseErrorLevel.FATAL)},f.prototype._findComponentDirectives=function(e){return e.filter(function(e){return e.directive.isComponent})},f.prototype._findComponentDirectiveNames=function(e){return this._findComponentDirectives(e).map(function(e){return e.directive.type.name})},f.prototype._assertOnlyOneComponent=function(e,t){var r=this._findComponentDirectiveNames(e);r.length>1&&this._reportError("More than one component: "+r.join(","),t)},f.prototype._assertElementExists=function(e,t){var r=t.name.replace(/^:xhtml:/,"");if(!e&&!this._schemaRegistry.hasElement(r,this._schemas)){var n="'"+r+"' is not a known element:\n"+("1. If '"+r+"' is an Angular component, then verify that it is part of this module.\n")+("2. If '"+r+"' is a Web Component then add \"CUSTOM_ELEMENTS_SCHEMA\" to the '@NgModule.schemas' of this component to suppress this message.");
this._reportError(n,t.sourceSpan)}},f.prototype._assertNoComponentsNorElementBindingsOnTemplate=function(e,t,r){var n=this,i=this._findComponentDirectiveNames(e);i.length>0&&this._reportError("Components on an embedded template: "+i.join(","),r),t.forEach(function(e){n._reportError("Property binding "+e.name+' not used by any directive on an embedded template. Make sure that the property name is spelled correctly and all directives are listed in the "directives" section.',r)})},f.prototype._assertAllEventsPublishedByDirectives=function(e,t){var r=this,n=new Set;e.forEach(function(e){Object.keys(e.directive.outputs).forEach(function(t){var r=e.directive.outputs[t];n.add(r)})}),t.forEach(function(e){(m(e.target)||!n.has(e.name))&&r._reportError("Event binding "+e.fullName+' not emitted by any directive on an embedded template. Make sure that the event name is spelled correctly and all directives are listed in the "directives" section.',e.sourceSpan)})},f}(),Ou=function(){function e(){}return e.prototype.visitElement=function(e,t){var r=tu(e);if(r.type===ru.SCRIPT||r.type===ru.STYLE||r.type===ru.STYLESHEET)return null;var n=e.attrs.map(function(e){return[e.name,e.value]}),i=Vu(e.name,n),o=t.findNgContentIndex(i),s=yi(this,e.children,Fu);return new c(e.name,yi(this,e.attrs),[],[],[],[],[],!1,s,o,e.sourceSpan,e.endSourceSpan)},e.prototype.visitComment=function(e,t){return null},e.prototype.visitAttribute=function(e,t){return new i(e.name,e.value,e.sourceSpan)},e.prototype.visitText=function(e,t){var n=t.findNgContentIndex(Tu);return new r(e.value,n,e.sourceSpan)},e.prototype.visitExpansion=function(e,t){return e},e.prototype.visitExpansionCase=function(e,t){return e},e}(),Nu=function(){function e(e,t,r,n){this.name=e,this.expression=t,this.isLiteral=r,this.sourceSpan=n}return e}(),Du=function(){function e(e,t,r){this.name=e,this.value=t,this.sourceSpan=r}return e}(),Lu=function(){function e(e,t,r,n){this.isTemplateElement=e,this._ngContentIndexMatcher=t,this._wildcardNgContentIndex=r,this.providerContext=n}return e.create=function(t,r,n){var i=new q,o=null,s=r.find(function(e){return e.directive.isComponent});if(s)for(var a=s.directive.template.ngContentSelectors,u=0;u<a.length;u++){var c=a[u];"*"===c?o=u:i.addSelectables(H.parse(a[u]),u)}return new e(t,i,o,n)},e.prototype.findNgContentIndex=function(e){var t=[];return this._ngContentIndexMatcher.match(e,function(e,r){t.push(r)}),t.sort(),m(this._wildcardNgContentIndex)&&t.push(this._wildcardNgContentIndex),t.length>0?t[0]:null},e}(),Fu=new Lu(!0,new q,null,null),Uu=new Ou,ju=function(e){function t(){e.apply(this,arguments),this.pipes=new Set}return ou(t,e),t.prototype.visitPipe=function(e,t){return this.pipes.add(e.name),e.exp.visit(this),this.visitAll(e.args,t),null},t}(xr),zu=function(){function e(e){var r=void 0===e?{}:e,n=r.renderTypes,i=void 0===n?new Qu:n,o=r.defaultEncapsulation,s=void 0===o?t.ViewEncapsulation.Emulated:o,a=r.genDebugInfo,u=r.logBindingUpdate,c=r.useJit,p=void 0===c?!0:c;this.renderTypes=i,this.defaultEncapsulation=s,this._genDebugInfo=a,this._logBindingUpdate=u,this.useJit=p}return Object.defineProperty(e.prototype,"genDebugInfo",{get:function(){return void 0===this._genDebugInfo?t.isDevMode():this._genDebugInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logBindingUpdate",{get:function(){return void 0===this._logBindingUpdate?t.isDevMode():this._logBindingUpdate},enumerable:!0,configurable:!0}),e}(),Wu=function(){function e(){}return Object.defineProperty(e.prototype,"renderer",{get:function(){return qu()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderText",{get:function(){return qu()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderElement",{get:function(){return qu()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderComment",{get:function(){return qu()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderNode",{get:function(){return qu()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderEvent",{get:function(){return qu()},enumerable:!0,configurable:!0}),e}(),Qu=function(){function e(){this.renderText=null,this.renderElement=null,this.renderComment=null,this.renderNode=null,this.renderEvent=null}return Object.defineProperty(e.prototype,"renderer",{get:function(){return ha(la.Renderer)},enumerable:!0,configurable:!0}),e}(),Ku=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Xu=function(){function e(){this.startTime=0,this.playTime=0}return e}(),Gu=function(e){function t(){e.apply(this,arguments)}return Ku(t,e),t}(Xu),Yu=function(e){function t(t,r,n){e.call(this),this.name=t,this.stateDeclarations=r,this.stateTransitions=n}return Ku(t,e),t.prototype.visit=function(e,t){return e.visitAnimationEntry(this,t)},t}(Xu),$u=function(e){function t(t,r){e.call(this),this.stateName=t,this.styles=r}return Ku(t,e),t.prototype.visit=function(e,t){return e.visitAnimationStateDeclaration(this,t)},t}(Gu),Zu=function(){function e(e,t){this.fromState=e,this.toState=t}return e}(),Ju=function(e){function t(t,r){e.call(this),this.stateChanges=t,this.animation=r}return Ku(t,e),t.prototype.visit=function(e,t){return e.visitAnimationStateTransition(this,t)},t}(Gu),ec=function(e){function t(t,r,n,i,o){e.call(this),this.startingStyles=t,this.keyframes=r,this.duration=n,this.delay=i,this.easing=o}return Ku(t,e),t.prototype.visit=function(e,t){return e.visitAnimationStep(this,t)},t}(Xu),tc=function(e){function t(t){e.call(this),this.styles=t}return Ku(t,e),t.prototype.visit=function(e,t){return e.visitAnimationStyles(this,t)},t}(Xu),rc=function(e){function t(t,r){e.call(this),this.offset=t,this.styles=r}return Ku(t,e),t.prototype.visit=function(e,t){return e.visitAnimationKeyframe(this,t)},t}(Xu),nc=function(e){function t(t){e.call(this),this.steps=t}return Ku(t,e),t}(Xu),ic=function(e){function t(t){e.call(this,t)}return Ku(t,e),t.prototype.visit=function(e,t){return e.visitAnimationGroup(this,t)},t}(nc),oc=function(e){function t(t){e.call(this,t)}return Ku(t,e),t.prototype.visit=function(e,t){return e.visitAnimationSequence(this,t)},t}(nc),sc=function(){function e(e,t,r){this.name=e,this.statements=t,this.fnExp=r}return e}(),ac=function(){function e(){}return e.prototype.compile=function(e,t){return t.map(function(t){var r=e+"_"+t.name,n=new Ec(t.name,r);return n.build(t)})},e}(),uc=tt("element"),cc=tt("defaultStateStyles"),pc=tt("view"),lc=pc.prop("animationContext"),hc=pc.prop("renderer"),fc=tt("currentState"),vc=tt("nextState"),dc=tt("player"),mc=tt("totalTime"),yc=tt("startStateStyles"),gc=tt("endStateStyles"),_c=tt("collectedStyles"),wc=ot([]),Ec=function(){function e(e,t){this.animationName=e,this._fnVarName=t+"_factory",this._statesMapVarName=t+"_states",this._statesMapVar=tt(this._statesMapVarName)}return e.prototype.visitAnimationStyles=function(e,t){var r=[];return t.isExpectingFirstStyleStep&&(r.push(yc),t.isExpectingFirstStyleStep=!1),e.styles.forEach(function(e){var t=Object.keys(e).map(function(t){return[t,ut(e[t])]});r.push(ot(t))}),rt(ha(la.AnimationStyles)).instantiate([rt(ha(la.collectAndResolveStyles)).callFn([_c,it(r)])])},e.prototype.visitAnimationKeyframe=function(e,t){return rt(ha(la.AnimationKeyframe)).instantiate([ut(e.offset),e.styles.visit(this,t)])},e.prototype.visitAnimationStep=function(e,t){var r=this;if(t.endStateAnimateStep===e)return this._visitEndStateAnimation(e,t);var n=e.startingStyles.visit(this,t),i=e.keyframes.map(function(e){return e.visit(r,t)});return this._callAnimateMethod(e,n,it(i),t)},e.prototype._visitEndStateAnimation=function(e,t){var r=this,n=e.startingStyles.visit(this,t),i=e.keyframes.map(function(e){return e.visit(r,t)}),o=rt(ha(la.balanceAnimationKeyframes)).callFn([_c,gc,it(i)]);return this._callAnimateMethod(e,n,o,t)},e.prototype._callAnimateMethod=function(e,t,r,n){return n.totalTransitionTime+=e.duration+e.delay,hc.callMethod("animate",[uc,t,r,ut(e.duration),ut(e.delay),ut(e.easing)])},e.prototype.visitAnimationSequence=function(e,t){var r=this,n=e.steps.map(function(e){return e.visit(r,t)});return rt(ha(la.AnimationSequencePlayer)).instantiate([it(n)])},e.prototype.visitAnimationGroup=function(e,t){var r=this,n=e.steps.map(function(e){return e.visit(r,t)});return rt(ha(la.AnimationGroupPlayer)).instantiate([it(n)])},e.prototype.visitAnimationStateDeclaration=function(e,t){var r={};Tc(e).forEach(function(e){Object.keys(e).forEach(function(t){r[t]=e[t]})}),t.stateMap.registerState(e.stateName,r)},e.prototype.visitAnimationStateTransition=function(e,t){var r=e.animation.steps,n=r[r.length-1];bc(n)&&(t.endStateAnimateStep=n),t.totalTransitionTime=0,t.isExpectingFirstStyleStep=!0;var i=[];e.stateChanges.forEach(function(e){i.push(xc(fc,e.fromState).and(xc(vc,e.toState))),e.fromState!=Ys&&t.stateMap.registerState(e.fromState),e.toState!=Ys&&t.stateMap.registerState(e.toState)});var o=e.animation.visit(this,t),s=i.reduce(function(e,t){return e.or(t)}),a=dc.equals(Ne).and(s),u=dc.set(o).toStmt(),c=mc.set(ut(t.totalTransitionTime)).toStmt();return new We(a,[u,c])},e.prototype.visitAnimationEntry=function(e,t){var r=this;e.stateDeclarations.forEach(function(e){return e.visit(r,t)}),t.stateMap.registerState($s,{});var n=[];n.push(lc.callMethod("cancelActiveAnimation",[uc,ut(this.animationName),vc.equals(ut(Zs))]).toStmt()),n.push(_c.set(wc).toDeclStmt()),n.push(dc.set(Ne).toDeclStmt()),n.push(mc.set(ut(0)).toDeclStmt()),n.push(cc.set(this._statesMapVar.key(ut($s))).toDeclStmt()),n.push(yc.set(this._statesMapVar.key(fc)).toDeclStmt()),n.push(new We(yc.equals(Ne),[yc.set(cc).toStmt()])),n.push(gc.set(this._statesMapVar.key(vc)).toDeclStmt()),n.push(new We(gc.equals(Ne),[gc.set(cc).toStmt()]));var i=rt(ha(la.renderStyles));return n.push(i.callFn([uc,hc,rt(ha(la.clearStyles)).callFn([yc])]).toStmt()),e.stateTransitions.forEach(function(e){return n.push(e.visit(r,t))}),n.push(new We(dc.equals(Ne),[dc.set(rt(ha(la.NoOpAnimationPlayer)).instantiate([])).toStmt()])),n.push(dc.callMethod("onDone",[at([],[i.callFn([uc,hc,rt(ha(la.prepareFinalAnimationStyles)).callFn([yc,gc])]).toStmt()])]).toStmt()),n.push(lc.callMethod("queueAnimation",[uc,ut(this.animationName),dc]).toStmt()),n.push(new Ue(rt(ha(la.AnimationTransition)).instantiate([dc,fc,vc,mc]))),at([new Ce(pc.name,nt(ha(la.AppView),[ee])),new Ce(uc.name,ee),new Ce(fc.name,ee),new Ce(vc.name,ee)],n,nt(ha(la.AnimationTransition)))},e.prototype.build=function(e){var t=new Cc,r=e.visit(this,t).toDeclStmt(this._fnVarName),n=tt(this._fnVarName),i=[];Object.keys(t.stateMap.states).forEach(function(e){var r=t.stateMap.states[e],n=wc;if(m(r)){var o=[];Object.keys(r).forEach(function(e){o.push([e,ut(r[e])])}),n=ot(o)}i.push([e,n])});var o=this._statesMapVar.set(ot(i)).toDeclStmt(),s=[o,r];return new sc(this.animationName,s,n)},e}(),Cc=function(){function e(){this.stateMap=new Sc,this.endStateAnimateStep=null,this.isExpectingFirstStyleStep=!1,this.totalTransitionTime=0}return e}(),Sc=function(){function e(){this._states={}}return Object.defineProperty(e.prototype,"states",{get:function(){return this._states},enumerable:!0,configurable:!0}),e.prototype.registerState=function(e,t){void 0===t&&(t=null);var r=this._states[e];r||(this._states[e]=t)},e}(),Ac=function(){function e(e,t){this.time=e,this.value=t}return e.prototype.matches=function(e,t){return e==this.time&&t==this.value},e}(),Pc=function(){function e(){this.styles={}}return e.prototype.insertAtTime=function(e,t,r){var n=new Ac(t,r),i=this.styles[e];m(i)||(i=this.styles[e]=[]);for(var o=0,s=i.length-1;s>=0;s--)if(i[s].time<=t){o=s+1;break}k.insert(i,o,n)},e.prototype.getByIndex=function(e,t){var r=this.styles[e];return m(r)?t>=r.length?null:r[t]:null},e.prototype.indexOfAtOrBeforeTime=function(e,t){var r=this.styles[e];if(m(r))for(var n=r.length-1;n>=0;n--)if(r[n].time<=t)return n;return null},e}(),Mc=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},kc=0,Ic=1,Oc=1e3,Nc=function(e){function t(t){e.call(this,null,t)}return Mc(t,e),t.prototype.toString=function(){return""+this.msg},t}(pi),Dc=function(){function e(e,t){this.ast=e,this.errors=t}return e}(),Rc=function(){function e(){}return e.prototype.parseComponent=function(e){var t=this,r=[],n=e.type.name,i=new Set,o=e.template.animations.map(function(e){var o=t.parseEntry(e),s=o.ast,a=s.name;if(i.has(a)?o.errors.push(new Nc('The animation trigger "'+a+'" has already been registered for the '+n+" component")):i.add(a),o.errors.length>0){var u='- Unable to parse the animation sequence for "'+a+'" on the '+n+" component due to the following errors:";o.errors.forEach(function(e){u+="\n-- "+e.msg}),r.push(u)}return s});if(r.length>0){var s=r.join("\n");throw new Error("Animation parse errors:\n"+s)}return o},e.prototype.parseEntry=function(e){var t=[],r={},n=[],i=[];e.definitions.forEach(function(e){e instanceof bt?Lc(e,t).forEach(function(e){i.push(e),r[e.stateName]=e.styles}):n.push(e)});var o=n.map(function(e){return Vc(e,r,t)}),s=new Yu(e.name,i,o);return new Dc(s,t)},e}(),Qc=function(){function e(e,t,r){this.duration=e,this.delay=t,this.easing=r}return e}(),Zc=function(){function e(e,t){this.statements=e,this.dirWrapperClassVar=t}return e}(),Jc="context",ep="changes",tp="changed",rp=tt("currValue"),np=tt("throwOnChange"),ip=tt("forceUpdate"),op=tt("view"),sp=tt("el"),ap=Me.prop(ep).set(ot([])).toStmt(),up=function(){function e(e){this.compilerConfig=e}return e.dirWrapperClassName=function(e){return"Wrapper_"+e.name},e.prototype.compile=function(t){for(var r=[],n=0;n<t.type.diDeps.length;n++)r.push("p"+n);var i=t.type.lifecycleHooks,o={genChanges:-1!==i.indexOf(xs.OnChanges)||this.compilerConfig.logBindingUpdate,ngOnChanges:-1!==i.indexOf(xs.OnChanges),ngOnInit:-1!==i.indexOf(xs.OnInit),ngDoCheck:-1!==i.indexOf(xs.DoCheck)},s=[new Be(Jc,nt(t.type)),new Be(tp,te)],a=[Me.prop(tp).set(ut(!1)).toStmt()];o.genChanges&&(s.push(new Be(ep,new J(ee))),a.push(ap));var u=[];Object.keys(t.inputs).forEach(function(e,t){var r="_"+e;s.push(new Be(r,null,[De.Private])),a.push(Me.prop(r).set(rt(ha(la.UNINITIALIZED))).toStmt()),u.push(pp(e,Me.prop(r),o))}),u.push(cp(o,this.compilerConfig.genDebugInfo)),a.push(Me.prop(Jc).set(rt(t.type).instantiate(r.map(function(e){return tt(e)}))).toStmt());var c=new He(null,r.map(function(e){return new Ce(e,ee)}),a),p=e.dirWrapperClassName(t.type),l=new ze(p,null,s,[],c,u);return new Zc([l],p)},e.decorators=[{type:t.Injectable}],e.ctorParameters=[{type:zu}],e}(),hp=function(){function e(){}return e.prototype.visitArray=function(e,t){var r=this;return it(e.map(function(e){return vt(e,r,null)}),t)},e.prototype.visitStringMap=function(e,t){var r=this,n=[];return Object.keys(e).forEach(function(t){n.push([t,vt(e[t],r,null)])}),ot(n,t)},e.prototype.visitPrimitive=function(e,t){return ut(e,t)},e.prototype.visitOther=function(e,t){if(e instanceof Dt)return rt(e);if(e instanceof ae)return e;throw new Error("Illegal state: Don't now how to compile value "+e)},e}(),fp=function(){function e(e,t){this.nodeIndex=e,this.sourceAst=t}return e}(),vp=new fp(null,null),dp=function(){function e(e){this._view=e,this._newState=vp,this._currState=vp,this._bodyStatements=[],this._debugEnabled=this._view.genConfig.genDebugInfo}return e.prototype._updateDebugContextIfNeeded=function(){if(this._newState.nodeIndex!==this._currState.nodeIndex||this._newState.sourceAst!==this._currState.sourceAst){var e=this._updateDebugContext(this._newState);m(e)&&this._bodyStatements.push(e.toStmt())}},e.prototype._updateDebugContext=function(e){if(this._currState=this._newState=e,this._debugEnabled){var t=m(e.sourceAst)?e.sourceAst.sourceSpan.start:null;return Me.callMethod("debug",[ut(e.nodeIndex),m(t)?ut(t.line):Ne,m(t)?ut(t.col):Ne])}return null},e.prototype.resetDebugInfoExpr=function(e,t){var r=this._updateDebugContext(new fp(e,t));return r||Ne},e.prototype.resetDebugInfo=function(e,t){this._newState=new fp(e,t)},e.prototype.addStmt=function(e){this._updateDebugContextIfNeeded(),this._bodyStatements.push(e)},e.prototype.addStmts=function(e){this._updateDebugContextIfNeeded(),k.addAll(this._bodyStatements,e)},e.prototype.finish=function(){return this._bodyStatements},e.prototype.isEmpty=function(){return 0===this._bodyStatements.length},e}(),mp=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},gp=function(e){function t(t,r){e.call(this),this._viewExpr=t,this._view=r}return mp(t,e),t.prototype._isThis=function(e){return e instanceof ce&&e.builtin===ue.This},t.prototype.visitReadVarExpr=function(e,t){return this._isThis(e)?this._viewExpr:e},t.prototype.visitReadPropExpr=function(t,r){return this._isThis(t.receiver)&&(this._view.fields.some(function(e){return e.name==t.name})||this._view.getters.some(function(e){return e.name==t.name}))?this._viewExpr.cast(this._view.classType).prop(t.name):e.prototype.visitReadPropExpr.call(this,t,r)},t}(Ge),Sp=function(){function e(e,t){this.view=e,this.values=t}return e}(),xp=function(){function e(e,t,r,n){this.meta=e,this.queryList=t,this.ownerDirectiveExpression=r,this.view=n,this._values=new Sp(n,[])}return e.prototype.addValue=function(e,t){for(var r=t,n=[];m(r)&&r!==this.view;){var i=r.declarationElement;n.unshift(i),r=i.view}var o=yp(this.queryList,t,this.view),s=this._values;n.forEach(function(e){var t=s.values.length>0?s.values[s.values.length-1]:null;if(t instanceof Sp&&t.view===e.embeddedView)s=t;else{var r=new Sp(e.embeddedView,[]);s.values.push(r),s=r}}),s.values.push(e),n.length>0&&t.dirtyParentQueriesMethod.addStmt(o.callMethod("setDirty",[]).toStmt())},e.prototype._isStatic=function(){return!this._values.values.some(function(e){return e instanceof Sp})},e.prototype.afterChildren=function(e,t){var r=bp(this._values),n=[this.queryList.callMethod("reset",[it(r)]).toStmt()];if(m(this.ownerDirectiveExpression)){var i=this.meta.first?this.queryList.prop("first"):this.queryList;n.push(this.ownerDirectiveExpression.prop(this.meta.propertyName).set(i).toStmt())}this.meta.first||n.push(this.queryList.callMethod("notifyOnChanges",[]).toStmt()),this.meta.first&&this._isStatic()?e.addStmts(n):t.addStmt(new We(this.queryList.prop("dirty"),n))},e}(),kp=function(){function e(){}return e.fromValue=function(e){var t=ha(la.ViewType);switch(e){case Ns.HOST:return Mp(t,"HOST");case Ns.COMPONENT:return Mp(t,"COMPONENT");case Ns.EMBEDDED:return Mp(t,"EMBEDDED");default:throw Error("Inavlid ViewType value: "+e)}},e}(),Ip=function(){function e(){}return e.fromValue=function(e){var r=ha(la.ViewEncapsulation);switch(e){case t.ViewEncapsulation.Emulated:return Mp(r,"Emulated");case t.ViewEncapsulation.Native:return Mp(r,"Native");case t.ViewEncapsulation.None:return Mp(r,"None");default:throw Error("Inavlid ViewEncapsulation value: "+e)}},e}(),Op=function(){function e(){}return e.fromValue=function(e){var t=ha(la.ChangeDetectorStatus);switch(e){case Ss.CheckOnce:return Mp(t,"CheckOnce");case Ss.Checked:return Mp(t,"Checked");case Ss.CheckAlways:return Mp(t,"CheckAlways");case Ss.Detached:return Mp(t,"Detached");case Ss.Errored:return Mp(t,"Errored");case Ss.Destroyed:return Mp(t,"Destroyed");default:throw Error("Inavlid ChangeDetectorStatus value: "+e)}},e}(),Np=function(){function e(){}return e.viewUtils=tt("viewUtils"),e.parentInjector=tt("parentInjector"),e.declarationEl=tt("declarationEl"),e}(),Dp=function(){function e(){}return e.renderer=Me.prop("renderer"),e.projectableNodes=Me.prop("projectableNodes"),e.viewUtils=Me.prop("viewUtils"),e}(),Rp=function(){function e(){}return e.event=tt("$event"),e}(),Lp=function(){function e(){}return e.token=tt("token"),e.requestNodeIndex=tt("requestNodeIndex"),e.notFoundResult=tt("notFoundResult"),e}(),Vp=function(){function e(){}return e.throwOnChange=tt("throwOnChange"),e.changes=tt("changes"),e.changed=tt("changed"),e.valUnwrapper=tt("valUnwrapper"),e}(),Fp=function(){function e(e,t){this.comp=e,this.placeholder=t}return e}(),Up=function(){function e(e,t){this.comp=e,this.placeholder=t}return e}(),jp=function(){function e(e,t){this.dir=e,this.placeholder=t}return e}(),Bp=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Hp=function(){function e(e,t,r,n,i){this.parent=e,this.view=t,this.nodeIndex=r,this.renderNode=n,this.sourceAst=i}return e.prototype.isNull=function(){return!this.renderNode},e.prototype.isRootElement=function(){return this.view!=this.parent.view},e}(),qp=function(t){function r(e,r,n,i,o,s,a,u,c,p,l,h){var f=this;t.call(this,e,r,n,i,o),this.component=s,this._directives=a,this._resolvedProvidersArray=u,this.hasViewContainer=c,this.hasEmbeddedView=p,this._targetDependencies=h,this._compViewExpr=null,this.instances=new Map,this.directiveWrapperInstance=new Map,this._queryCount=0,this._queries=new Map,this._componentConstructorViewQueryLists=[],this.contentNodesByNgContentIndex=null,this.referenceTokens={},l.forEach(function(e){return f.referenceTokens[e.name]=e.value}),this.elementRef=rt(ha(la.ElementRef)).instantiate([this.renderNode]),this.instances.set(va(la.ElementRef).reference,this.elementRef),this.injector=Me.callMethod("injector",[ut(this.nodeIndex)]),this.instances.set(va(la.Injector).reference,this.injector),this.instances.set(va(la.Renderer).reference,Me.prop("renderer")),(this.hasViewContainer||this.hasEmbeddedView||m(this.component))&&this._createAppElement(),this.component&&this._createComponentFactoryResolver()}return Bp(r,t),r.createNull=function(){return new r(null,null,null,null,null,null,[],[],!1,!1,[],[])},r.prototype._createAppElement=function(){var e="_appEl_"+this.nodeIndex,t=this.isRootElement()?null:this.parent.nodeIndex;this.view.fields.push(new Be(e,nt(ha(la.AppElement)),[De.Private]));var r=Me.prop(e).set(rt(ha(la.AppElement)).instantiate([ut(this.nodeIndex),ut(t),Me,this.renderNode])).toStmt();this.view.createMethod.addStmt(r),this.appElement=Me.prop(e),this.instances.set(va(la.AppElement).reference,this.appElement)},r.prototype._createComponentFactoryResolver=function(){var t=this,r=this.component.entryComponents.map(function(e){var r=new Dt({name:e.name});return t._targetDependencies.push(new Up(e,r)),r});if(r&&0!==r.length){var n=rt(ha(la.CodegenComponentFactoryResolver)).instantiate([it(r.map(function(e){return rt(e)})),_p(va(la.ComponentFactoryResolver),!1)]),i=new Lt({token:va(la.ComponentFactoryResolver),useValue:n});this._resolvedProvidersArray.unshift(new f(i.token,!1,!0,[i],e.ProviderAstType.PrivateService,[],this.sourceAst.sourceSpan))}},r.prototype.setComponentView=function(e){this._compViewExpr=e,this.contentNodesByNgContentIndex=new Array(this.component.template.ngContentSelectors.length);for(var t=0;t<this.contentNodesByNgContentIndex.length;t++)this.contentNodesByNgContentIndex[t]=[]},r.prototype.setEmbeddedView=function(t){if(this.embeddedView=t,m(t)){var r=rt(ha(la.TemplateRef_)).instantiate([this.appElement,this.embeddedView.viewFactory]),n=new Lt({token:va(la.TemplateRef),useValue:r});this._resolvedProvidersArray.unshift(new f(n.token,!1,!0,[n],e.ProviderAstType.Builtin,[],this.sourceAst.sourceSpan))}},r.prototype.beforeChildren=function(){var t=this;this.hasViewContainer&&this.instances.set(va(la.ViewContainerRef).reference,this.appElement.prop("vcRef")),this._resolvedProviders=new Map,this._resolvedProvidersArray.forEach(function(e){return t._resolvedProviders.set(e.token.reference,e)}),P.values(this._resolvedProviders).forEach(function(r){var n=r.providerType===e.ProviderAstType.Component||r.providerType===e.ProviderAstType.Directive,i=r.providers.map(function(e){if(m(e.useExisting))return t._getDependency(r.providerType,new Rt({token:e.useExisting}));if(m(e.useFactory)){var i=e.deps||e.useFactory.diDeps,o=i.map(function(e){return t._getDependency(r.providerType,e)});return rt(e.useFactory).callFn(o)}if(m(e.useClass)){var i=e.deps||e.useClass.diDeps,o=i.map(function(e){return t._getDependency(r.providerType,e)});if(n){var s=new Dt({name:up.dirWrapperClassName(e.useClass)});return t._targetDependencies.push(new jp(e.useClass,s)),rt(s).instantiate(o,nt(s))}return rt(e.useClass).instantiate(o,nt(e.useClass))}return lp(e.useValue)}),o="_"+r.token.name+"_"+t.nodeIndex+"_"+t.instances.size,s=Wp(o,r,i,r.multiProvider,r.eager,t);n?(t.directiveWrapperInstance.set(r.token.reference,s),t.instances.set(r.token.reference,s.prop("context"))):t.instances.set(r.token.reference,s)});for(var r=0;r<this._directives.length;r++){var n=this._directives[r],i=this.instances.get(fa(n.type).reference);n.queries.forEach(function(e){t._addQuery(e,i)})}var o=[];if(P.values(this._resolvedProviders).forEach(function(e){var r=t._getQueriesFor(e.token);k.addAll(o,r.map(function(t){return new Qp(t,e.token)}))}),Object.keys(this.referenceTokens).forEach(function(e){var n,r=t.referenceTokens[e];n=m(r)?t.instances.get(r.reference):t.renderNode,t.view.locals.set(e,n);var i=new Ft({value:e});k.addAll(o,t._getQueriesFor(i).map(function(e){return new Qp(e,i)}))}),o.forEach(function(e){var r;if(m(e.read.identifier))r=t.instances.get(e.read.reference);else{var n=t.referenceTokens[e.read.value];r=m(n)?t.instances.get(n.reference):t.elementRef}m(r)&&e.query.addValue(r,t.view)}),m(this.component)){var s=m(this.component)?it(this._componentConstructorViewQueryLists):Ne,a=m(this.getComponent())?this.getComponent():Ne;this.view.createMethod.addStmt(this.appElement.callMethod("initComponent",[a,s,this._compViewExpr]).toStmt())}},r.prototype.afterChildren=function(t){var r=this;P.values(this._resolvedProviders).forEach(function(n){var i=r.instances.get(n.token.reference),o=n.providerType===e.ProviderAstType.PrivateService?0:t;r.view.injectorGetMethod.addStmt(zp(r.nodeIndex,o,n,i))}),P.values(this._queries).forEach(function(e){return e.forEach(function(e){return e.afterChildren(r.view.createMethod,r.view.updateContentQueriesMethod)})})},r.prototype.addContentNode=function(e,t){this.contentNodesByNgContentIndex[e].push(t)},r.prototype.getComponent=function(){return m(this.component)?this.instances.get(fa(this.component.type).reference):null},r.prototype.getProviderTokens=function(){return P.values(this._resolvedProviders).map(function(e){return yt(e.token)})},r.prototype._getQueriesFor=function(e){for(var i,t=[],r=this,n=0;!r.isNull();)i=r._queries.get(e.reference),m(i)&&k.addAll(t,i.filter(function(e){return e.meta.descendants||1>=n})),r._directives.length>0&&n++,r=r.parent;return i=this.view.componentView.viewQueries.get(e.reference),m(i)&&k.addAll(t,i),t},r.prototype._addQuery=function(e,t){var r="_query_"+e.selectors[0].name+"_"+this.nodeIndex+"_"+this._queryCount++,n=Ap(e,t,r,this.view),i=new xp(e,n,t,this.view);return Pp(this._queries,i),i},r.prototype._getLocalDependency=function(t,r){var n=null;if(!n&&m(r.query)&&(n=this._addQuery(r.query,null).queryList),!n&&m(r.viewQuery)&&(n=Ap(r.viewQuery,null,"_viewQuery_"+r.viewQuery.selectors[0].name+"_"+this.nodeIndex+"_"+this._componentConstructorViewQueryLists.length,this.view),this._componentConstructorViewQueryLists.push(n)),m(r.token)){if(!n&&r.token.reference===va(la.ChangeDetectorRef).reference)return t===e.ProviderAstType.Component?this._compViewExpr.prop("ref"):yp(Me.prop("ref"),this.view,this.view.componentView);if(!n){var i=this._resolvedProviders.get(r.token.reference);if(i&&(t===e.ProviderAstType.Directive||t===e.ProviderAstType.PublicService)&&i.providerType===e.ProviderAstType.PrivateService)return null;n=this.instances.get(r.token.reference)}}return n},r.prototype._getDependency=function(t,r){var n=this,i=null;for(r.isValue&&(i=ut(r.value)),i||r.isSkipSelf||(i=this._getLocalDependency(t,r));!i&&!n.parent.isNull();)n=n.parent,i=n._getLocalDependency(e.ProviderAstType.PublicService,new Rt({token:r.token}));return i||(i=_p(r.token,r.isOptional)),i||(i=Ne),yp(i,this.view,n.view)},r}(Hp),Qp=function(){function e(e,t){this.query=e,this.read=e.meta.read||t}return e}(),Kp=function(){function e(e,t){var r=this;this.view=e,this.meta=t,this._purePipeProxyCount=0,this.instance=Me.prop("_pipe_"+t.name+"_"+e.pipeCount++);var n=this.meta.type.diDeps.map(function(e){return e.token.reference===va(la.ChangeDetectorRef).reference?yp(Me.prop("ref"),r.view,r.view.componentView):_p(e.token,!1)});this.view.fields.push(new Be(this.instance.name,nt(this.meta.type))),this.view.createMethod.resetDebugInfo(null,null),this.view.createMethod.addStmt(Me.prop(this.instance.name).set(rt(this.meta.type).instantiate(n)).toStmt())}return e.call=function(t,r,n){var s,i=t.componentView,o=Xp(i,r);return o.pure?(s=i.purePipes.get(r),s||(s=new e(i,o),i.purePipes.set(r,s),i.pipes.push(s))):(s=new e(t,o),t.pipes.push(s)),s._call(t,n)},Object.defineProperty(e.prototype,"pure",{get:function(){return this.meta.pure},enumerable:!0,configurable:!0}),e.prototype._call=function(e,t){if(this.meta.pure){var r=Me.prop(this.instance.name+"_"+this._purePipeProxyCount++),n=yp(this.instance,e,this.view);return Cp(n.prop("transform").callMethod(fe.Bind,[n]),t.length,r,e),rt(ha(la.castByValue)).callFn([r,n.prop("transform")]).callFn(t)}return yp(this.instance,e,this.view).callMethod("transform",t)},e}(),Gp=function(){function e(e,t,r,n,i,o,s,a){var u=this;this.component=e,this.genConfig=t,this.pipeMetas=r,this.styles=n,this.animations=i,this.viewIndex=o,this.declarationElement=s,this.templateVariableBindings=a,this.nodes=[],this.rootNodesOrAppElements=[],this.bindings=[],this.classStatements=[],this.eventHandlerMethods=[],this.fields=[],this.getters=[],this.disposables=[],this.subscriptions=[],this.purePipes=new Map,this.pipes=[],this.locals=new Map,this.literalArrayCount=0,this.literalMapCount=0,this.pipeCount=0,this.createMethod=new dp(this),this.animationBindingsMethod=new dp(this),this.injectorGetMethod=new dp(this),this.updateContentQueriesMethod=new dp(this),this.dirtyParentQueriesMethod=new dp(this),this.updateViewQueriesMethod=new dp(this),this.detectChangesInInputsMethod=new dp(this),this.detectChangesRenderPropertiesMethod=new dp(this),this.afterContentLifecycleCallbacksMethod=new dp(this),this.afterViewLifecycleCallbacksMethod=new dp(this),this.destroyMethod=new dp(this),this.detachMethod=new dp(this),this.viewType=Yp(e,o),this.className="_View_"+e.type.name+o,this.classType=nt(new Dt({name:this.className})),this.viewFactory=tt(wp(e,o)),this.viewType===Ns.COMPONENT||this.viewType===Ns.HOST?this.componentView=this:this.componentView=this.declarationElement.view.componentView,this.componentContext=yp(Me.prop("context"),this,this.componentView);var c=new Map;if(this.viewType===Ns.COMPONENT){var p=Me.prop("context");k.forEachWithIndex(this.component.viewQueries,function(e,t){var r="_viewQuery_"+e.selectors[0].name+"_"+t,n=Ap(e,p,r,u),i=new xp(e,n,p,u);Pp(c,i)});var l=0;this.component.type.diDeps.forEach(function(e){if(m(e.viewQuery)){var t=Me.prop("declarationAppElement").prop("componentConstructorViewQueries").key(ut(l++)),r=new xp(e.viewQuery,t,null,u);Pp(c,r)}})}this.viewQueries=c,a.forEach(function(e){u.locals.set(e[1],Me.prop("context").prop(e[0]))}),this.declarationElement.isNull()||this.declarationElement.setEmbeddedView(this)}return e.prototype.callPipe=function(e,t,r){return Kp.call(this,e,[t].concat(r))},e.prototype.getLocal=function(e){if(e==Rp.event.name)return Rp.event;for(var t=this,r=t.locals.get(e);!r&&m(t.declarationElement.view);)t=t.declarationElement.view,r=t.locals.get(e);return m(r)?yp(r,this,t):null},e.prototype.createLiteralArray=function(e){if(0===e.length)return rt(ha(la.EMPTY_ARRAY));for(var t=Me.prop("_arr_"+this.literalArrayCount++),r=[],n=[],i=0;i<e.length;i++){var o="p"+i;r.push(new Ce(o)),n.push(tt(o))}return Cp(at(r,[new Ue(it(n))],new Z(ee)),e.length,t,this),t.callFn(e);
},e.prototype.createLiteralMap=function(e){if(0===e.length)return rt(ha(la.EMPTY_MAP));for(var t=Me.prop("_map_"+this.literalMapCount++),r=[],n=[],i=[],o=0;o<e.length;o++){var s="p"+o;r.push(new Ce(s)),n.push([e[o][0],tt(s)]),i.push(e[o][1])}return Cp(at(r,[new Ue(ot(n))],new J(ee)),e.length,t,this),t.callFn(i)},e.prototype.afterNodes=function(){var e=this;P.values(this.viewQueries).forEach(function(t){return t.forEach(function(t){return t.afterChildren(e.createMethod,e.updateViewQueriesMethod)})})},e}(),$p=function(){function e(e,t){this.node=e,this.sourceAst=t}return e}(),Zp=function(){function e(e,t,r){this.expression=e,this.needsValueUnwrapper=t,this.temporaryCount=r}return e}();!function(e){e[e.Statement=0]="Statement",e[e.Expression=1]="Expression"}(il||(il={}));var Mh,ul=function(){function e(e,t,r,n){this._nameResolver=e,this._implicitReceiver=t,this._valueUnwrapper=r,this.bindingIndex=n,this._nodeMap=new Map,this._resultMap=new Map,this._currentTemporary=0,this.needsValueUnwrapper=!1,this.temporaryCount=0}return e.prototype.visitBinary=function(e,t){var r;switch(e.operation){case"+":r=se.Plus;break;case"-":r=se.Minus;break;case"*":r=se.Multiply;break;case"/":r=se.Divide;break;case"%":r=se.Modulo;break;case"&&":r=se.And;break;case"||":r=se.Or;break;case"==":r=se.Equals;break;case"!=":r=se.NotEquals;break;case"===":r=se.Identical;break;case"!==":r=se.NotIdentical;break;case"<":r=se.Lower;break;case">":r=se.Bigger;break;case"<=":r=se.LowerEquals;break;case">=":r=se.BiggerEquals;break;default:throw new Error("Unsupported operation "+e.operation)}return al(t,new xe(r,this.visit(e.left,il.Expression),this.visit(e.right,il.Expression)))},e.prototype.visitChain=function(e,t){return ol(t,e),this.visitAll(e.expressions,t)},e.prototype.visitConditional=function(e,t){var r=this.visit(e.condition,il.Expression);return al(t,r.conditional(this.visit(e.trueExp,il.Expression),this.visit(e.falseExp,il.Expression)))},e.prototype.visitPipe=function(e,t){var r=this.visit(e.exp,il.Expression),n=this.visitAll(e.args,il.Expression),i=this._nameResolver.callPipe(e.name,r,n);return this.needsValueUnwrapper=!0,al(t,this._valueUnwrapper.callMethod("unwrap",[i]))},e.prototype.visitFunctionCall=function(e,t){return al(t,this.visit(e.target,il.Expression).callFn(this.visitAll(e.args,il.Expression)))},e.prototype.visitImplicitReceiver=function(e,t){return sl(t,e),this._implicitReceiver},e.prototype.visitInterpolation=function(e,t){sl(t,e);for(var r=[ut(e.expressions.length)],n=0;n<e.strings.length-1;n++)r.push(ut(e.strings[n])),r.push(this.visit(e.expressions[n],il.Expression));return r.push(ut(e.strings[e.strings.length-1])),rt(ha(la.interpolate)).callFn(r)},e.prototype.visitKeyedRead=function(e,t){return al(t,this.visit(e.obj,il.Expression).key(this.visit(e.key,il.Expression)))},e.prototype.visitKeyedWrite=function(e,t){var r=this.visit(e.obj,il.Expression),n=this.visit(e.key,il.Expression),i=this.visit(e.value,il.Expression);return al(t,r.key(n).set(i))},e.prototype.visitLiteralArray=function(e,t){return al(t,this._nameResolver.createLiteralArray(this.visitAll(e.expressions,t)))},e.prototype.visitLiteralMap=function(e,t){for(var r=[],n=0;n<e.keys.length;n++)r.push([e.keys[n],this.visit(e.values[n],il.Expression)]);return al(t,this._nameResolver.createLiteralMap(r))},e.prototype.visitLiteralPrimitive=function(e,t){return al(t,ut(e.value))},e.prototype.visitMethodCall=function(e,t){var r=this.leftMostSafeNode(e);if(r)return this.convertSafeAccess(e,r,t);var n=this.visitAll(e.args,il.Expression),i=null,o=this.visit(e.receiver,il.Expression);if(o===this._implicitReceiver){var s=this._nameResolver.getLocal(e.name);m(s)&&(i=s.callFn(n))}return y(i)&&(i=o.callMethod(e.name,n)),al(t,i)},e.prototype.visitPrefixNot=function(e,t){return al(t,st(this.visit(e.expression,il.Expression)))},e.prototype.visitPropertyRead=function(e,t){var r=this.leftMostSafeNode(e);if(r)return this.convertSafeAccess(e,r,t);var n=null,i=this.visit(e.receiver,il.Expression);return i===this._implicitReceiver&&(n=this._nameResolver.getLocal(e.name)),y(n)&&(n=i.prop(e.name)),al(t,n)},e.prototype.visitPropertyWrite=function(e,t){var r=this.visit(e.receiver,il.Expression);if(r===this._implicitReceiver){var n=this._nameResolver.getLocal(e.name);if(m(n))throw new Error("Cannot assign to a reference or variable!")}return al(t,r.prop(e.name).set(this.visit(e.value,il.Expression)))},e.prototype.visitSafePropertyRead=function(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)},e.prototype.visitSafeMethodCall=function(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)},e.prototype.visitAll=function(e,t){var r=this;return e.map(function(e){return r.visit(e,t)})},e.prototype.visitQuote=function(e,t){throw new Error("Quotes are not supported for evaluation!")},e.prototype.visit=function(e,t){var r=this._resultMap.get(e);return r?r:(this._nodeMap.get(e)||e).visit(this,t)},e.prototype.convertSafeAccess=function(e,t,r){var i,n=this.visit(t.receiver,il.Expression);this.needsTemporary(t.receiver)&&(i=this.allocateTemporary(),n=i.set(n),this._resultMap.set(t.receiver,i));var o=n.isBlank();t instanceof wr?this._nodeMap.set(t,new _r(t.span,t.receiver,t.name,t.args)):this._nodeMap.set(t,new ar(t.span,t.receiver,t.name));var s=this.visit(e,il.Expression);return this._nodeMap["delete"](t),i&&this.releaseTemporary(i),al(r,o.conditional(ut(null),s))},e.prototype.leftMostSafeNode=function(e){var t=this,r=function(e,r){return(t._nodeMap.get(r)||r).visit(e)};return e.visit({visitBinary:function(e){return null},visitChain:function(e){return null},visitConditional:function(e){return null},visitFunctionCall:function(e){return null},visitImplicitReceiver:function(e){return null},visitInterpolation:function(e){return null},visitKeyedRead:function(e){return r(this,e.obj)},visitKeyedWrite:function(e){return null},visitLiteralArray:function(e){return null},visitLiteralMap:function(e){return null},visitLiteralPrimitive:function(e){return null},visitMethodCall:function(e){return r(this,e.receiver)},visitPipe:function(e){return null},visitPrefixNot:function(e){return null},visitPropertyRead:function(e){return r(this,e.receiver)},visitPropertyWrite:function(e){return null},visitQuote:function(e){return null},visitSafeMethodCall:function(e){return r(this,e.receiver)||e},visitSafePropertyRead:function(e){return r(this,e.receiver)||e}})},e.prototype.needsTemporary=function(e){var t=this,r=function(e,r){return r&&(t._nodeMap.get(r)||r).visit(e)},n=function(e,t){return t.some(function(t){return r(e,t)})};return e.visit({visitBinary:function(e){return r(this,e.left)||r(this,e.right)},visitChain:function(e){return!1},visitConditional:function(e){return r(this,e.condition)||r(this,e.trueExp)||r(this,e.falseExp)},visitFunctionCall:function(e){return!0},visitImplicitReceiver:function(e){return!1},visitInterpolation:function(e){return n(this,e.expressions)},visitKeyedRead:function(e){return!1},visitKeyedWrite:function(e){return!1},visitLiteralArray:function(e){return!0},visitLiteralMap:function(e){return!0},visitLiteralPrimitive:function(e){return!1},visitMethodCall:function(e){return!0},visitPipe:function(e){return!0},visitPrefixNot:function(e){return r(this,e.expression)},visitPropertyRead:function(e){return!1},visitPropertyWrite:function(e){return!1},visitQuote:function(e){return!1},visitSafeMethodCall:function(e){return!0},visitSafePropertyRead:function(e){return!1}})},e.prototype.allocateTemporary=function(){var e=this._currentTemporary++;return this.temporaryCount=Math.max(this._currentTemporary,this.temporaryCount),new ce(tl(this.bindingIndex,e))},e.prototype.releaseTemporary=function(e){if(this._currentTemporary--,e.name!=tl(this.bindingIndex,this._currentTemporary))throw new Error("Temporary "+e.name+" released out of order")},e}(),pl=function(){function e(e,t,r,n,i){this.compileElement=e,this.eventTarget=t,this.eventName=r,this.eventPhase=n,this._hasComponentHostListener=!1,this._actionResultExprs=[],this._method=new dp(e.view),this._methodName="_handle_"+dl(r)+"_"+e.nodeIndex+"_"+i,this._eventParam=new Ce(Rp.event.name,nt(this.compileElement.view.genConfig.renderTypes.renderEvent))}return e.getOrCreate=function(t,r,n,i,o){var s=o.find(function(e){return e.eventTarget==r&&e.eventName==n&&e.eventPhase==i});return s||(s=new e(t,r,n,i,o.length),o.push(s)),s},Object.defineProperty(e.prototype,"methodName",{get:function(){return this._methodName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAnimation",{get:function(){return!!this.eventPhase},enumerable:!0,configurable:!0}),e.prototype.addAction=function(e,t,r){m(t)&&t.isComponent&&(this._hasComponentHostListener=!0),this._method.resetDebugInfo(this.compileElement.nodeIndex,e);var n=r||this.compileElement.view.componentContext,i=el(this.compileElement.view,n,e.handler,this.compileElement.nodeIndex),o=i.length-1;if(o>=0){var s=i[o],a=vl(s),u=tt("pd_"+this._actionResultExprs.length);this._actionResultExprs.push(u),m(a)&&(i[o]=u.set(a.cast(ee).notIdentical(ut(!1))).toDeclStmt(null,[De.Final]))}this._method.addStmts(i)},e.prototype.finishMethod=function(){var e=this._hasComponentHostListener?this.compileElement.appElement.prop("componentView"):Me,t=ut(!0);this._actionResultExprs.forEach(function(e){t=t.and(e)});var r=[e.callMethod("markPathToRootAsCheckOnce",[]).toStmt()].concat(this._method.finish()).concat([new Ue(t)]);this.compileElement.view.eventHandlerMethods.push(new He(this._methodName,[this._eventParam],r,te,[De.Private]))},e.prototype.listenToRenderer=function(){var e,t=Me.callMethod("eventHandler",[Me.prop(this._methodName).callMethod(fe.Bind,[Me])]);e=m(this.eventTarget)?Dp.renderer.callMethod("listenGlobal",[ut(this.eventTarget),ut(this.eventName),t]):Dp.renderer.callMethod("listen",[this.compileElement.renderNode,ut(this.eventName),t]);var r=tt("disposable_"+this.compileElement.view.disposables.length);this.compileElement.view.disposables.push(r),this.compileElement.view.createMethod.addStmt(r.set(e).toDeclStmt(oe,[De.Private]))},e.prototype.listenToAnimation=function(e){var t="start"==this.eventPhase?"onStart":"onDone";return e.callMethod(t,[Me.prop(this.methodName).callMethod(fe.Bind,[Me])]).toStmt()},e.prototype.listenToDirective=function(e,t){var r=tt("subscription_"+this.compileElement.view.subscriptions.length);this.compileElement.view.subscriptions.push(r);var n=Me.callMethod("eventHandler",[Me.prop(this._methodName).callMethod(fe.Bind,[Me])]);this.compileElement.view.createMethod.addStmt(r.set(e.prop(t).callMethod(fe.SubscribeObservable,[n])).toDeclStmt(null,[De.Final]))},e}(),ml=Me.prop("numberOfChecks").identical(new ye(0)),xl=(st(Vp.throwOnChange),function(){function e(e){this.forceUpdate=e}return e}()),Rl=function(){function e(e){this.view=e,this._nodeIndex=0}return e.prototype.visitBoundText=function(e,t){var r=this.view.nodes[this._nodeIndex++];return Al(e,r,this.view),null},e.prototype.visitText=function(e,t){return this._nodeIndex++,null},e.prototype.visitNgContent=function(e,t){return null},e.prototype.visitElement=function(e,t){var r=this.view.nodes[this._nodeIndex++],n=[];return ll(e.outputs,e.directives,r).forEach(function(e){n.push(e)}),kl(e.inputs,r,n),fl(n),e.directives.forEach(function(e){var t=r.instances.get(e.directive.type.reference),i=r.directiveWrapperInstance.get(e.directive.type.reference);Ol(e,i,r),Il(e,t,r,n),hl(e,t,n)}),d(this,e.children,r),e.directives.forEach(function(e){var t=r.instances.get(e.directive.type.reference);gl(e.directive,t,r),_l(e.directive,t,r)}),e.providers.forEach(function(e){var t=r.instances.get(e.token.reference);wl(e,t,r)}),null},e.prototype.visitEmbeddedTemplate=function(e,t){var r=this.view.nodes[this._nodeIndex++],n=ll(e.outputs,e.directives,r);return e.directives.forEach(function(e){var t=r.instances.get(e.directive.type.reference),i=r.directiveWrapperInstance.get(e.directive.type.reference);Ol(e,i,r),hl(e,t,n),gl(e.directive,t,r),_l(e.directive,t,r)}),e.providers.forEach(function(e){var t=r.instances.get(e.token.reference);wl(e,t,r)}),Dl(r.embeddedView,e.children),null},e.prototype.visitAttr=function(e,t){return null},e.prototype.visitDirective=function(e,t){return null},e.prototype.visitEvent=function(e,t){return null},e.prototype.visitReference=function(e,t){return null},e.prototype.visitVariable=function(e,t){return null},e.prototype.visitDirectiveProperty=function(e,t){return null},e.prototype.visitElementProperty=function(e,t){return null},e}(),Ll="$implicit",Vl="class",Fl="style",Ul="ng-container",jl=tt("parentRenderNode"),Bl=tt("rootSelector"),zl=function(){function e(e,t){this.view=e,this.targetDependencies=t,this.nestedViewCount=0}return e.prototype._isRootNode=function(e){return e.view!==this.view},e.prototype._addRootNodeAndProject=function(e){var t=Wl(e),r=t.parent,n=t.sourceAst.ngContentIndex,i=e instanceof qp&&e.hasViewContainer?e.appElement:null;this._isRootNode(r)?this.view.viewType!==Ns.COMPONENT&&this.view.rootNodesOrAppElements.push(i||e.renderNode):m(r.component)&&m(n)&&r.addContentNode(n,i||e.renderNode)},e.prototype._getParentRenderNode=function(e){return e=Ql(e),this._isRootNode(e)?this.view.viewType===Ns.COMPONENT?jl:Ne:m(e.component)&&e.component.template.encapsulation!==t.ViewEncapsulation.Native?Ne:e.renderNode},e.prototype.visitBoundText=function(e,t){return this._visitText(e,"",t)},e.prototype.visitText=function(e,t){return this._visitText(e,e.value,t)},e.prototype._visitText=function(e,t,r){var n="_text_"+this.view.nodes.length;this.view.fields.push(new Be(n,nt(this.view.genConfig.renderTypes.renderText)));var i=Me.prop(n),o=new Hp(r,this.view,this.view.nodes.length,i,e),s=Me.prop(n).set(Dp.renderer.callMethod("createText",[this._getParentRenderNode(r),ut(t),this.view.createMethod.resetDebugInfoExpr(this.view.nodes.length,e)])).toStmt();return this.view.nodes.push(o),this.view.createMethod.addStmt(s),this._addRootNodeAndProject(o),i},e.prototype.visitNgContent=function(e,t){this.view.createMethod.resetDebugInfo(null,e);var r=this._getParentRenderNode(t),n=Dp.projectableNodes.key(ut(e.index),new Z(nt(this.view.genConfig.renderTypes.renderNode)));return r!==Ne?this.view.createMethod.addStmt(Dp.renderer.callMethod("projectNodes",[r,rt(ha(la.flattenNestedViewRenderNodes)).callFn([n])]).toStmt()):this._isRootNode(t)?this.view.viewType!==Ns.COMPONENT&&this.view.rootNodesOrAppElements.push(n):m(t.component)&&m(e.ngContentIndex)&&t.addContentNode(e.ngContentIndex,n),null},e.prototype.visitElement=function(e,t){var n,r=this.view.nodes.length,i=this.view.createMethod.resetDebugInfoExpr(r,e);n=0===r&&this.view.viewType===Ns.HOST?Me.callMethod("selectOrCreateHostElement",[ut(e.name),Bl,i]):e.name===Ul?Dp.renderer.callMethod("createTemplateAnchor",[this._getParentRenderNode(t),i]):Dp.renderer.callMethod("createElement",[this._getParentRenderNode(t),ut(e.name),i]);var o="_el_"+r;this.view.fields.push(new Be(o,nt(this.view.genConfig.renderTypes.renderElement))),this.view.createMethod.addStmt(Me.prop(o).set(n).toStmt());for(var s=Me.prop(o),a=e.directives.map(function(e){return e.directive}),u=a.find(function(e){return e.isComponent}),c=Gl(e.attrs),p=Xl(c,a),l=0;l<p.length;l++){var h=p[l][0];if(e.name!==Ul){var f=p[l][1];this.view.createMethod.addStmt(Dp.renderer.callMethod("setElementAttribute",[s,ut(h),ut(f)]).toStmt())}}var v=new qp(t,this.view,r,s,e,u,a,e.providers,e.hasViewContainer,!1,e.references,this.targetDependencies);this.view.nodes.push(v);var y=null;if(m(u)){var g=new Dt({name:wp(u,0)});this.targetDependencies.push(new Fp(u.type,g)),y=tt("compView_"+r),v.setComponentView(y),this.view.createMethod.addStmt(y.set(rt(g).callFn([Dp.viewUtils,v.injector,v.appElement])).toDeclStmt())}if(v.beforeChildren(),this._addRootNodeAndProject(v),d(this,e.children,v),v.afterChildren(this.view.nodes.length-r-1),m(y)){var _;_=this.view.component.type.isHost?Dp.projectableNodes:it(v.contentNodesByNgContentIndex.map(function(e){return Ep(e)})),this.view.createMethod.addStmt(y.callMethod("create",[v.getComponent(),_,Ne]).toStmt())}return null},e.prototype.visitEmbeddedTemplate=function(e,t){var r=this.view.nodes.length,n="_anchor_"+r;this.view.fields.push(new Be(n,nt(this.view.genConfig.renderTypes.renderComment))),this.view.createMethod.addStmt(Me.prop(n).set(Dp.renderer.callMethod("createTemplateAnchor",[this._getParentRenderNode(t),this.view.createMethod.resetDebugInfoExpr(r,e)])).toStmt());var i=Me.prop(n),o=e.variables.map(function(e){return[e.value.length>0?e.value:Ll,e.name]}),s=e.directives.map(function(e){return e.directive}),a=new qp(t,this.view,r,i,e,null,s,e.providers,e.hasViewContainer,!0,e.references,this.targetDependencies);this.view.nodes.push(a),this.nestedViewCount++;var u=new Gp(this.view.component,this.view.genConfig,this.view.pipeMetas,Ne,this.view.animations,this.view.viewIndex+this.nestedViewCount,a,o);return this.nestedViewCount+=Hl(u,e.children,this.targetDependencies),a.beforeChildren(),this._addRootNodeAndProject(a),a.afterChildren(0),null},e.prototype.visitAttr=function(e,t){return null},e.prototype.visitDirective=function(e,t){return null},e.prototype.visitEvent=function(e,t){return null},e.prototype.visitReference=function(e,t){return null},e.prototype.visitVariable=function(e,t){return null},e.prototype.visitDirectiveProperty=function(e,t){return null},e.prototype.visitElementProperty=function(e,t){return null},e}(),ah=function(){function e(e,t,r){this.statements=e,this.viewFactoryVar=t,this.dependencies=r}return e}(),uh=function(){function e(e){this._genConfig=e}return e.prototype.compileComponent=function(e,t,r,n,i){var o=[],s=new Gp(e,this._genConfig,n,r,i,0,qp.createNull(),[]),a=[];return Hl(s,t,o),Dl(s,t),ql(s,a),new ah(a,s.viewFactory.name,o)},e.decorators=[{type:t.Injectable}],e.ctorParameters=[{type:zu}],e}(),ch=function(){function e(e,t){this.moduleUrl=e,this.source=t}return e}(),ph=function(){function e(e,t){this.ngModuleByDirective=e,this.ngModules=t}return e}(),hh=function(){function e(e,t,r,n,i,o,s,a,u,c){this._metadataResolver=e,this._directiveNormalizer=t,this._templateParser=r,this._styleCompiler=n,this._viewCompiler=i,this._dirWrapperCompiler=o,this._ngModuleCompiler=s,this._outputEmitter=a,this._localeId=u,this._translationFormat=c,this._animationParser=new Rc,this._animationCompiler=new ac}return e.prototype.analyzeModules=function(e){return lh(e,this._metadataResolver)},e.prototype.clearCache=function(){this._directiveNormalizer.clearCache(),this._metadataResolver.clearCache()},e.prototype.compile=function(e,t,r,n){var i=this,o=_h(e)[1],s=[],a=[],u=[];return a.push.apply(a,n.map(function(e){return i._compileModule(e,s)})),a.push.apply(a,r.map(function(e){return i._compileDirectiveWrapper(e,s)})),Promise.all(r.map(function(e){var r=i._metadataResolver.getDirectiveMetadata(e);if(!r.isComponent)return Promise.resolve(null);var n=t.ngModuleByDirective.get(e);if(!n)throw new Error("Cannot determine the module for component "+r.type.name+"!");return Promise.all([r].concat(n.transitiveModule.directives).map(function(e){return i._directiveNormalizer.normalizeDirective(e).asyncResult})).then(function(e){var t=e[0],r=e.slice(1);gh(t);var c=i._styleCompiler.compileComponent(t);c.externalStylesheets.forEach(function(e){u.push(i._codgenStyles(e,o))}),a.push(i._compileComponentFactory(t,o,s),i._compileComponent(t,r,n.transitiveModule.pipes,n.schemas,c.componentStylesheet,o,s))})})).then(function(){return s.length>0&&u.unshift(i._codegenSourceModule(dh(e),s,a)),u})},e.prototype._compileModule=function(e,t){var r=this._metadataResolver.getNgModuleMetadata(e),n=[];this._localeId&&n.push(new Lt({token:va(la.LOCALE_ID),useValue:this._localeId})),this._translationFormat&&n.push(new Lt({token:va(la.TRANSLATIONS_FORMAT),useValue:this._translationFormat}));var i=this._ngModuleCompiler.compile(r,n);return i.dependencies.forEach(function(e){e.placeholder.name=mh(e.comp),e.placeholder.moduleUrl=dh(e.comp.moduleUrl)}),t.push.apply(t,i.statements),i.ngModuleFactoryVar},e.prototype._compileDirectiveWrapper=function(e,t){var r=this._metadataResolver.getDirectiveMetadata(e),n=this._dirWrapperCompiler.compile(r);return t.push.apply(t,n.statements),n.dirWrapperClassVar},e.prototype._compileComponentFactory=function(e,t,r){var n=zt(e),i=this._compileComponent(n,[e],[],[],null,t,r),o=mh(e.type);return r.push(tt(o).set(rt(ha(la.ComponentFactory),[nt(e.type)]).instantiate([ut(e.selector),tt(i),rt(e.type)],nt(ha(la.ComponentFactory),[nt(e.type)],[K.Const]))).toDeclStmt(null,[De.Final])),o},e.prototype._compileComponent=function(e,t,r,n,i,o,s){var a=this._animationParser.parseComponent(e),u=this._templateParser.parse(e,e.template.template,t,r,n,e.type.name),c=i?tt(i.stylesVar):it([]),p=this._animationCompiler.compile(e.type.name,a),l=this._viewCompiler.compileComponent(e,u,c,r,p);return i&&s.push.apply(s,vh(i,o)),p.forEach(function(e){e.statements.forEach(function(e){s.push(e)})}),s.push.apply(s,fh(l)),l.viewFactoryVar},e.prototype._codgenStyles=function(e,t){return vh(e,t),this._codegenSourceModule(yh(e.meta.moduleUrl,e.isShimmed,t),e.statements,[e.stylesVar])},e.prototype._codegenSourceModule=function(e,t,r){return new ch(e,this._outputEmitter.emitStatements(e,t,r))},e}(),wh=function(){function e(){}return e.prototype.get=function(e){return null},e}(),Eh="asset:",xh={provide:t.PACKAGE_ROOT_URL,useValue:"/"},bh=function(){function e(e){void 0===e&&(e=null),this._packagePrefix=e}return e.prototype.resolve=function(e,t){var r=t;m(e)&&e.length>0&&(r=Nh(e,r));var n=kh(r),i=this._packagePrefix;if(m(i)&&m(n)&&"package"==n[Mh.Scheme]){var o=n[Mh.Path];if(this._packagePrefix!==Eh)return i=i.replace(/\/+$/,""),o=o.replace(/^\/+/,""),i+"/"+o;var s=o.split(/\//);r="asset:"+s[0]+"/lib/"+s.slice(1).join("/")}return r},e.decorators=[{type:t.Injectable}],e.ctorParameters=[{type:void 0,decorators:[{type:t.Inject,args:[t.PACKAGE_ROOT_URL]}]}],e}(),Ph=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");!function(e){e[e.Scheme=1]="Scheme",e[e.UserInfo=2]="UserInfo",e[e.Domain=3]="Domain",e[e.Port=4]="Port",e[e.Path=5]="Path",e[e.QueryData=6]="QueryData",e[e.Fragment=7]="Fragment"}(Mh||(Mh={}));var Dh=function(){function e(e,t,r,n){this._resourceLoader=e,this._urlResolver=t,this._htmlParser=r,this._config=n,this._resourceLoaderCache=new Map}return e.prototype.clearCache=function(){this._resourceLoaderCache.clear()},e.prototype.clearCacheFor=function(e){var t=this;e.isComponent&&(this._resourceLoaderCache["delete"](e.template.templateUrl),e.template.externalStylesheets.forEach(function(e){t._resourceLoaderCache["delete"](e.moduleUrl)}))},e.prototype._fetch=function(e){var t=this._resourceLoaderCache.get(e);return t||(t=this._resourceLoader.get(e),this._resourceLoaderCache.set(e,t)),t},e.prototype.normalizeDirective=function(e){var t=this;if(!e.isComponent)return new gt(e,Promise.resolve(e));var n,r=null;if(m(e.template.template))r=this.normalizeTemplateSync(e.type,e.template),n=Promise.resolve(r);else{if(!e.template.templateUrl)throw new Error("No template specified for component "+e.type.name);n=this.normalizeTemplateAsync(e.type,e.template)}if(r&&0===r.styleUrls.length){var i=Lh(e,r);return new gt(i,Promise.resolve(i))}return new gt(null,n.then(function(e){return t.normalizeExternalStylesheets(e)}).then(function(t){return Lh(e,t)}))},e.prototype.normalizeTemplateSync=function(e,t){return this.normalizeLoadedTemplate(e,t,t.template,e.moduleUrl)},e.prototype.normalizeTemplateAsync=function(e,t){var r=this,n=this._urlResolver.resolve(e.moduleUrl,t.templateUrl);return this._fetch(n).then(function(i){return r.normalizeLoadedTemplate(e,t,i,n)})},e.prototype.normalizeLoadedTemplate=function(e,r,n,i){var o=Dn.fromArray(r.interpolation),s=this._htmlParser.parse(n,e.name,!1,o);if(s.errors.length>0){var a=s.errors.join("\n");throw new Error("Template parse errors:\n"+a)}var u=this.normalizeStylesheet(new Bt({styles:r.styles,styleUrls:r.styleUrls,moduleUrl:e.moduleUrl})),c=new Rh;yi(c,s.rootNodes);var p=this.normalizeStylesheet(new Bt({styles:c.styles,styleUrls:c.styleUrls,moduleUrl:i})),l=r.encapsulation;y(l)&&(l=this._config.defaultEncapsulation);var h=u.styles.concat(p.styles),f=u.styleUrls.concat(p.styleUrls);return l===t.ViewEncapsulation.Emulated&&0===h.length&&0===f.length&&(l=t.ViewEncapsulation.None),new Ht({encapsulation:l,template:n,templateUrl:i,styles:h,styleUrls:f,externalStylesheets:r.externalStylesheets,ngContentSelectors:c.ngContentSelectors,animations:r.animations,interpolation:r.interpolation})},e.prototype.normalizeExternalStylesheets=function(e){return this._loadMissingExternalStylesheets(e.styleUrls).then(function(t){return new Ht({encapsulation:e.encapsulation,template:e.template,templateUrl:e.templateUrl,styles:e.styles,styleUrls:e.styleUrls,externalStylesheets:t,ngContentSelectors:e.ngContentSelectors,animations:e.animations,interpolation:e.interpolation})})},e.prototype._loadMissingExternalStylesheets=function(e,t){var r=this;return void 0===t&&(t=new Map),Promise.all(e.filter(function(e){return!t.has(e)}).map(function(e){return r._fetch(e).then(function(n){var i=r.normalizeStylesheet(new Bt({styles:[n],moduleUrl:e}));return t.set(e,i),r._loadMissingExternalStylesheets(i.styleUrls,t)})})).then(function(e){return P.values(t)})},e.prototype.normalizeStylesheet=function(e){var t=this,r=e.styleUrls.filter(Ba).map(function(r){return t._urlResolver.resolve(e.moduleUrl,r)}),n=e.styles.map(function(n){var i=Ha(t._urlResolver,e.moduleUrl,n);return r.push.apply(r,i.styleUrls),i.style});return new Bt({styles:n,styleUrls:r,moduleUrl:e.moduleUrl})},e.decorators=[{type:t.Injectable}],e.ctorParameters=[{type:wh},{type:bh},{type:ya},{type:zu}],e}(),Rh=function(){function e(){this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}return e.prototype.visitElement=function(e,t){var r=tu(e);switch(r.type){case ru.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(r.selectAttr);break;case ru.STYLE:var n="";e.children.forEach(function(e){e instanceof li&&(n+=e.value)}),this.styles.push(n);break;case ru.STYLESHEET:this.styleUrls.push(r.hrefAttr)}return r.nonBindable&&this.ngNonBindableStackCount++,yi(this,e.children),r.nonBindable&&this.ngNonBindableStackCount--,null},e.prototype.visitComment=function(e,t){return null},e.prototype.visitAttribute=function(e,t){return null},e.prototype.visitText=function(e,t){return null},e.prototype.visitExpansion=function(e,t){return null},e.prototype.visitExpansionCase=function(e,t){return null},e}(),Vh=function(){function e(e){void 0===e&&(e=Hs),this._reflector=e}return e.prototype.resolve=function(e,r){void 0===r&&(r=!0);var n=this._reflector.annotations(t.resolveForwardRef(e));if(n){var i=n.find(Fh);if(i){var o=this._reflector.propMetadata(e);return this._mergeWithPropertyMetadata(i,o,e)}}if(r)throw new Error("No Directive annotation found on "+w(e));return null},e.prototype._mergeWithPropertyMetadata=function(e,r,n){var i=[],o=[],s={},a={};return Object.keys(r).forEach(function(e){r[e].forEach(function(r){if(r instanceof t.Input)r.bindingPropertyName?i.push(e+": "+r.bindingPropertyName):i.push(e);else if(r instanceof t.Output){var n=r;n.bindingPropertyName?o.push(e+": "+n.bindingPropertyName):o.push(e)}else if(r instanceof t.HostBinding){var u=r;if(u.hostPropertyName){var c=u.hostPropertyName[0];if("("===c)throw new Error("@HostBinding can not bind to events. Use @HostListener instead.");if("["===c)throw new Error("@HostBinding parameter should be a property name, 'class.<name>', or 'attr.<name>'.");s["["+u.hostPropertyName+"]"]=e}else s["["+e+"]"]=e}else if(r instanceof t.HostListener){var p=r,l=p.args||[];s["("+p.eventName+")"]=e+"("+l.join(",")+")"}else r instanceof t.Query&&(a[e]=r)})}),this._merge(e,i,o,s,a,n)},e.prototype._extractPublicName=function(e){return pt(e,[null,e])[1].trim()},e.prototype._merge=function(e,r,n,i,o,s){var a=this,u=r;if(e.inputs){var c=e.inputs.map(function(e){return a._extractPublicName(e)});r.forEach(function(e){var t=a._extractPublicName(e);if(c.indexOf(t)>-1)throw new Error("Input '"+t+"' defined multiple times in '"+w(s)+"'")}),u.unshift.apply(u,e.inputs)}var p=n;if(e.outputs){var l=e.outputs.map(function(e){return a._extractPublicName(e)});n.forEach(function(e){var t=a._extractPublicName(e);if(l.indexOf(t)>-1)throw new Error("Output event '"+t+"' defined multiple times in '"+w(s)+"'")}),p.unshift.apply(p,e.outputs)}var h=e.host?M.merge(e.host,i):i,f=e.queries?M.merge(e.queries,o):o;return e instanceof t.Component?new t.Component({selector:e.selector,inputs:u,outputs:p,host:h,exportAs:e.exportAs,moduleId:e.moduleId,queries:f,changeDetection:e.changeDetection,providers:e.providers,viewProviders:e.viewProviders,entryComponents:e.entryComponents,template:e.template,templateUrl:e.templateUrl,styles:e.styles,styleUrls:e.styleUrls,encapsulation:e.encapsulation,animations:e.animations,interpolation:e.interpolation}):new t.Directive({selector:e.selector,inputs:u,outputs:p,host:h,exportAs:e.exportAs,queries:f,providers:e.providers})},e.decorators=[{type:t.Injectable}],e.ctorParameters=[{type:Ts}],e}(),Hh=function(){function e(e){void 0===e&&(e=Hs),this._reflector=e}return e.prototype.resolve=function(e,t){void 0===t&&(t=!0);var r=this._reflector.annotations(e).find(Bh);if(m(r))return r;if(t)throw new Error("No NgModule metadata found for '"+w(e)+"'.");return null},e.decorators=[{type:t.Injectable}],e.ctorParameters=[{type:Ts}],e}(),zh=function(){function e(e){void 0===e&&(e=Hs),this._reflector=e}return e.prototype.resolve=function(e,r){void 0===r&&(r=!0);var n=this._reflector.annotations(t.resolveForwardRef(e));if(m(n)){var i=n.find(qh);if(m(i))return i}if(r)throw new Error("No Pipe decorator found on "+w(e));return null},e.decorators=[{type:t.Injectable}],e.ctorParameters=[{type:Ts}],e}(),Wh=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Qh=function(){function e(e,t,r,n,i){void 0===i&&(i=Hs),this._ngModuleResolver=e,this._directiveResolver=t,this._pipeResolver=r,this._schemaRegistry=n,this._reflector=i,this._directiveCache=new Map,this._pipeCache=new Map,this._ngModuleCache=new Map,this._ngModuleOfTypes=new Map,this._anonymousTypes=new Map,this._anonymousTypeIndex=0}return e.prototype.sanitizeTokenName=function(e){var t=w(e);if(t.indexOf("(")>=0){var r=this._anonymousTypes.get(e);r||(this._anonymousTypes.set(e,this._anonymousTypeIndex++),r=this._anonymousTypes.get(e)),t="anonymous_token_"+r+"_"}return ft(t)},e.prototype.clearCacheFor=function(e){this._directiveCache["delete"](e),this._pipeCache["delete"](e),this._ngModuleOfTypes["delete"](e),this._ngModuleCache.clear()},e.prototype.clearCache=function(){this._directiveCache.clear(),this._pipeCache.clear(),this._ngModuleCache.clear(),this._ngModuleOfTypes.clear()},e.prototype.getAnimationEntryMetadata=function(e){var t=this,r=e.definitions.map(function(e){return t.getAnimationStateMetadata(e)});return new St(e.name,r)},e.prototype.getAnimationStateMetadata=function(e){if(e instanceof t.AnimationStateDeclarationMetadata){var r=this.getAnimationStyleMetadata(e.styles);return new bt(e.stateNameExpr,r)}return e instanceof t.AnimationStateTransitionMetadata?new Tt(e.stateChangeExpr,this.getAnimationMetadata(e.steps)):null},e.prototype.getAnimationStyleMetadata=function(e){return new Mt(e.offset,e.styles)},e.prototype.getAnimationMetadata=function(e){var r=this;if(e instanceof t.AnimationStyleMetadata)return this.getAnimationStyleMetadata(e);if(e instanceof t.AnimationKeyframesSequenceMetadata)return new Pt(e.steps.map(function(e){return r.getAnimationStyleMetadata(e)}));if(e instanceof t.AnimationAnimateMetadata){var n=this.getAnimationMetadata(e.styles);return new kt(e.timings,n)}if(e instanceof t.AnimationWithStepsMetadata){var i=e.steps.map(function(e){return r.getAnimationMetadata(e)});return e instanceof t.AnimationGroupMetadata?new Nt(i):new Ot(i);
}return null},e.prototype.getDirectiveMetadata=function(e,r){var n=this;void 0===r&&(r=!0),e=t.resolveForwardRef(e);var i=this._directiveCache.get(e);if(!i){var o=this._directiveResolver.resolve(e,r);if(!o)return null;var s=null,a=null,u=[],c=Yh(e),p=[],l=o.selector;if(o instanceof t.Component){In("styles",o.styles),In("styleUrls",o.styleUrls),Nn("interpolation",o.interpolation);var h=o.animations?o.animations.map(function(e){return n.getAnimationEntryMetadata(e)}):null;s=new Ht({encapsulation:o.encapsulation,template:o.template,templateUrl:o.templateUrl,styles:o.styles,styleUrls:o.styleUrls,animations:h,interpolation:o.interpolation}),a=o.changeDetection,o.viewProviders&&(u=this.getProvidersMetadata(o.viewProviders,p,'viewProviders for "'+w(e)+'"')),c=$h(this._reflector,e,o),o.entryComponents&&(p=Xh(o.entryComponents).map(function(e){return n.getTypeMetadata(e,Yh(e))}).concat(p)),l||(l=this._schemaRegistry.getDefaultComponentElementName())}else if(!l)throw new Error("Directive "+w(e)+" has no selector, please add it!");var f=[];m(o.providers)&&(f=this.getProvidersMetadata(o.providers,p,'providers for "'+w(e)+'"'));var v=[],d=[];m(o.queries)&&(v=this.getQueriesMetadata(o.queries,!1,e),d=this.getQueriesMetadata(o.queries,!0,e)),i=qt.create({selector:l,exportAs:o.exportAs,isComponent:!!s,type:this.getTypeMetadata(e,c),template:s,changeDetection:a,inputs:o.inputs,outputs:o.outputs,host:o.host,providers:f,viewProviders:u,queries:v,viewQueries:d,entryComponents:p}),this._directiveCache.set(e,i)}return i},e.prototype.getNgModuleMetadata=function(e,r){var n=this;void 0===r&&(r=!0),e=t.resolveForwardRef(e);var i=this._ngModuleCache.get(e);if(!i){var o=this._ngModuleResolver.resolve(e,r);if(!o)return null;var s=[],a=[],u=[],c=[],p=[],l=[],h=[],f=[],v=[],d=[];o.imports&&Xh(o.imports).forEach(function(t){var r;if(Gh(t))r=t;else if(t&&t.ngModule){var i=t;r=i.ngModule,i.providers&&h.push.apply(h,n.getProvidersMetadata(i.providers,f,"provider for the NgModule '"+w(r)+"'"))}if(!r)throw new Error("Unexpected value '"+w(t)+"' imported by the module '"+w(e)+"'");var o=n.getNgModuleMetadata(r,!1);if(null===o)throw new Error("Unexpected "+n._getTypeDescriptor(t)+" '"+w(t)+"' imported by the module '"+w(e)+"'");p.push(o)}),o.exports&&Xh(o.exports).forEach(function(t){if(!Gh(t))throw new Error("Unexpected value '"+w(t)+"' exported by the module '"+w(e)+"'");var r,i,o;if(r=n.getDirectiveMetadata(t,!1))a.push(r);else if(i=n.getPipeMetadata(t,!1))c.push(i);else{if(!(o=n.getNgModuleMetadata(t,!1)))throw new Error("Unexpected "+n._getTypeDescriptor(t)+" '"+w(t)+"' exported by the module '"+w(e)+"'");l.push(o)}});var m=this._getTransitiveNgModuleMetadata(p,l);if(o.declarations&&Xh(o.declarations).forEach(function(t){if(!Gh(t))throw new Error("Unexpected value '"+w(t)+"' declared by the module '"+w(e)+"'");var r,i;if(r=n.getDirectiveMetadata(t,!1))n._addDirectiveToModule(r,e,m,s,!0);else{if(!(i=n.getPipeMetadata(t,!1)))throw new Error("Unexpected "+n._getTypeDescriptor(t)+" '"+w(t)+"' declared by the module '"+w(e)+"'");n._addPipeToModule(i,e,m,u,!0)}}),o.providers&&h.push.apply(h,this.getProvidersMetadata(o.providers,f,"provider for the NgModule '"+w(e)+"'")),o.entryComponents&&f.push.apply(f,Xh(o.entryComponents).map(function(e){return n.getTypeMetadata(e,Yh(e))})),o.bootstrap){var y=Xh(o.bootstrap).map(function(t){if(!Gh(t))throw new Error("Unexpected value '"+w(t)+"' used in the bootstrap property of module '"+w(e)+"'");return n.getTypeMetadata(t,Yh(t))});v.push.apply(v,y)}f.push.apply(f,v),o.schemas&&d.push.apply(d,Xh(o.schemas)),(g=m.entryComponents).push.apply(g,f),(_=m.providers).push.apply(_,h),i=new Qt({type:this.getTypeMetadata(e,Yh(e)),providers:h,entryComponents:f,bootstrapComponents:v,schemas:d,declaredDirectives:s,exportedDirectives:a,declaredPipes:u,exportedPipes:c,importedModules:p,exportedModules:l,transitiveModule:m,id:o.id}),m.modules.push(i),this._verifyModule(i),this._ngModuleCache.set(e,i)}return i;var g,_},e.prototype._verifyModule=function(e){e.exportedDirectives.forEach(function(t){if(!e.transitiveModule.directivesSet.has(t.type.reference))throw new Error("Can't export directive "+w(t.type.reference)+" from "+w(e.type.reference)+" as it was neither declared nor imported!")}),e.exportedPipes.forEach(function(t){if(!e.transitiveModule.pipesSet.has(t.type.reference))throw new Error("Can't export pipe "+w(t.type.reference)+" from "+w(e.type.reference)+" as it was neither declared nor imported!")})},e.prototype._getTypeDescriptor=function(e){return null!==this._directiveResolver.resolve(e,!1)?"directive":null!==this._pipeResolver.resolve(e,!1)?"pipe":null!==this._ngModuleResolver.resolve(e,!1)?"module":e.provide?"provider":"value"},e.prototype._addTypeToModule=function(e,t){var r=this._ngModuleOfTypes.get(e);if(r&&r!==t)throw new Error("Type "+w(e)+" is part of the declarations of 2 modules: "+w(r)+" and "+w(t)+"! "+("Please consider moving "+w(e)+" to a higher module that imports "+w(r)+" and "+w(t)+". ")+("You can also create a new NgModule that exports and includes "+w(e)+" then import that NgModule in "+w(r)+" and "+w(t)+"."));this._ngModuleOfTypes.set(e,t)},e.prototype._getTransitiveNgModuleMetadata=function(e,t){var r=Kh(e.concat(t),!0),n=Xh(r.map(function(e){return e.providers})),i=Xh(r.map(function(e){return e.entryComponents})),o=Kh(e,!1),s=Xh(o.map(function(e){return e.exportedDirectives})),a=Xh(o.map(function(e){return e.exportedPipes}));return new Kt(r,n,i,s,a)},e.prototype._addDirectiveToModule=function(e,t,r,n,i){return void 0===i&&(i=!1),i||!r.directivesSet.has(e.type.reference)?(r.directivesSet.add(e.type.reference),r.directives.push(e),n.push(e),this._addTypeToModule(e.type.reference,t),!0):!1},e.prototype._addPipeToModule=function(e,t,r,n,i){return void 0===i&&(i=!1),i||!r.pipesSet.has(e.type.reference)?(r.pipesSet.add(e.type.reference),r.pipes.push(e),n.push(e),this._addTypeToModule(e.type.reference,t),!0):!1},e.prototype.getTypeMetadata=function(e,r,n){return void 0===n&&(n=null),e=t.resolveForwardRef(e),new Ut({name:this.sanitizeTokenName(e),moduleUrl:r,reference:e,diDeps:this.getDependenciesMetadata(e,n),lifecycleHooks:bs.filter(function(t){return Uh(t,e)})})},e.prototype.getFactoryMetadata=function(e,r,n){return void 0===n&&(n=null),e=t.resolveForwardRef(e),new Vt({name:this.sanitizeTokenName(e),moduleUrl:r,reference:e,diDeps:this.getDependenciesMetadata(e,n)})},e.prototype.getPipeMetadata=function(e,r){void 0===r&&(r=!0),e=t.resolveForwardRef(e);var n=this._pipeCache.get(e);if(!n){var i=this._pipeResolver.resolve(e,r);if(!i)return null;n=new Wt({type:this.getTypeMetadata(e,Yh(e)),name:i.name,pure:i.pure}),this._pipeCache.set(e,n)}return n},e.prototype.getDependenciesMetadata=function(e,r){var n=this,i=!1,o=r||this._reflector.parameters(e)||[],s=o.map(function(r){var o=!1,s=!1,a=!1,u=!1,c=!1,p=null,l=null,h=null;return Array.isArray(r)?r.forEach(function(e){e instanceof t.Host?s=!0:e instanceof t.Self?a=!0:e instanceof t.SkipSelf?u=!0:e instanceof t.Optional?c=!0:e instanceof t.Attribute?(o=!0,h=e.attributeName):e instanceof t.Query?e.isViewQuery?l=e:p=e:e instanceof t.Inject?h=e.token:Gh(e)&&y(h)&&(h=e)}):h=r,y(h)?(i=!0,null):new Rt({isAttribute:o,isHost:s,isSelf:a,isSkipSelf:u,isOptional:c,query:p?n.getQueryMetadata(p,null,e):null,viewQuery:l?n.getQueryMetadata(l,null,e):null,token:n.getTokenMetadata(h)})});if(i){var a=s.map(function(e){return e?w(e.token):"?"}).join(", ");throw new Error("Can't resolve all parameters for "+w(e)+": ("+a+").")}return s},e.prototype.getTokenMetadata=function(e){e=t.resolveForwardRef(e);var r;return r=new Ft("string"==typeof e?{value:e}:{identifier:new Dt({reference:e,name:this.sanitizeTokenName(e),moduleUrl:Yh(e)})})},e.prototype.getProvidersMetadata=function(e,r,n){var i=this,o=[];return e.forEach(function(s,a){s=t.resolveForwardRef(s),s&&"object"==typeof s&&s.hasOwnProperty("provide")&&(s=new $t(s.provide,s));var u;if(Array.isArray(s))u=i.getProvidersMetadata(s,r,n);else if(s instanceof $t){var c=i.getTokenMetadata(s.token);c.reference===va(la.ANALYZE_FOR_ENTRY_COMPONENTS).reference?r.push.apply(r,i._getEntryComponentsFromProvider(s)):u=i.getProviderMetadata(s)}else{if(!Gh(s)){var p=e.reduce(function(e,t,r){return a>r?e.push(""+w(t)):r==a?e.push("?"+w(t)+"?"):r==a+1&&e.push("..."),e},[]).join(", ");throw new Error("Invalid "+(n?n:"provider")+" - only instances of Provider and Type are allowed, got: ["+p+"]")}u=i.getTypeMetadata(s,Yh(s))}u&&o.push(u)}),o},e.prototype._getEntryComponentsFromProvider=function(e){var t=this,r=[],n=[];if(e.useFactory||e.useExisting||e.useClass)throw new Error("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports useValue!");if(!e.multi)throw new Error("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports 'multi = true'!");return Zh(e.useValue,n),n.forEach(function(e){var n=t.getDirectiveMetadata(e.reference,!1);n&&r.push(n.type)}),r},e.prototype.getProviderMetadata=function(e){var t,r=null,n=null;return e.useClass?(r=this.getTypeMetadata(e.useClass,Yh(e.useClass),e.dependencies),t=r.diDeps):e.useFactory&&(n=this.getFactoryMetadata(e.useFactory,Yh(e.useFactory),e.dependencies),t=n.diDeps),new Lt({token:this.getTokenMetadata(e.token),useClass:r,useValue:Zh(e.useValue,[]),useFactory:n,useExisting:e.useExisting?this.getTokenMetadata(e.useExisting):null,deps:t,multi:e.multi})},e.prototype.getQueriesMetadata=function(e,t,r){var n=this,i=[];return Object.keys(e).forEach(function(o){var s=e[o];s.isViewQuery===t&&i.push(n.getQueryMetadata(s,o,r))}),i},e.prototype._queryVarBindings=function(e){return e.split(/\s*,\s*/)},e.prototype.getQueryMetadata=function(e,t,r){var i,n=this;if("string"==typeof e.selector)i=this._queryVarBindings(e.selector).map(function(e){return n.getTokenMetadata(e)});else{if(!e.selector)throw new Error("Can't construct a query for the property \""+t+'" of "'+w(r)+"\" since the query selector wasn't defined.");i=[this.getTokenMetadata(e.selector)]}return new jt({selectors:i,first:e.first,descendants:e.descendants,propertyName:t,read:e.read?this.getTokenMetadata(e.read):null})},e.decorators=[{type:t.Injectable}],e.ctorParameters=[{type:Hh},{type:Vh},{type:zh},{type:Ua},{type:Ts}],e}(),Jh=function(e){function t(){e.apply(this,arguments)}return Wh(t,e),t.prototype.visitOther=function(e,t){var r;return r=new Dt(Yt(e)?{name:e.name,moduleUrl:e.filePath,reference:e}:{reference:e}),t.push(r),r},t}(dt),ef=function(){function e(e,t){this.comp=e,this.placeholder=t}return e}(),tf=function(){function e(e,t,r){this.statements=e,this.ngModuleFactoryVar=t,this.dependencies=r}return e}(),rf=function(){function e(){}return e.prototype.compile=function(e,t){var r=m(e.type.moduleUrl)?"in NgModule "+e.type.name+" in "+e.type.moduleUrl:"in NgModule "+e.type.name,n=new ui("",r),i=new ci(new ai(n,null,null,null),new ai(n,null,null,null)),o=[],s=[],a=e.transitiveModule.entryComponents.map(function(t){var r=new Dt({name:t.name});return e.bootstrapComponents.indexOf(t)>-1&&s.push(r),o.push(new ef(t,r)),r}),u=new nf(e,a,s,i),c=new ka(e,t,i);c.parse().forEach(function(e){return u.addProvider(e)});var p=u.build(),l=e.type.name+"NgFactory",h=tt(l).set(rt(ha(la.NgModuleFactory)).instantiate([tt(p.name),rt(e.type)],nt(ha(la.NgModuleFactory),[nt(e.type)],[K.Const]))).toDeclStmt(null,[De.Final]),f=[p,h];if(e.id){var v=rt(ha(la.RegisterModuleFactoryFn)).callFn([ut(e.id),tt(l)]).toStmt();f.push(v)}return new tf(f,l,o)},e.decorators=[{type:t.Injectable}],e.ctorParameters=[],e}(),nf=function(){function e(e,t,r,n){this._ngModuleMeta=e,this._entryComponentFactories=t,this._bootstrapComponentFactories=r,this._sourceSpan=n,this._tokens=[],this._instances=new Map,this._fields=[],this._createStmts=[],this._destroyStmts=[],this._getters=[]}return e.prototype.addProvider=function(e){var t=this,r=e.providers.map(function(e){return t._getProviderValue(e)}),n="_"+e.token.name+"_"+this._instances.size,i=this._createProviderProperty(n,e,r,e.multiProvider,e.eager);-1!==e.lifecycleHooks.indexOf(xs.OnDestroy)&&this._destroyStmts.push(i.callMethod("ngOnDestroy",[]).toStmt()),this._tokens.push(e.token),this._instances.set(e.token.reference,i)},e.prototype.build=function(){var e=this,t=this._tokens.map(function(t){var r=e._instances.get(t.reference);return new We(sf.token.identical(yt(t)),[new Ue(r)])}),r=[new He("createInternal",[],this._createStmts.concat(new Ue(this._instances.get(this._ngModuleMeta.type.reference))),nt(this._ngModuleMeta.type)),new He("getInternal",[new Ce(sf.token.name,ee),new Ce(sf.notFoundResult.name,ee)],t.concat([new Ue(sf.notFoundResult)]),ee),new He("destroyInternal",[],this._destroyStmts)],n=new He(null,[new Ce(of.parent.name,nt(ha(la.Injector)))],[ke.callFn([tt(of.parent.name),it(this._entryComponentFactories.map(function(e){return rt(e)})),it(this._bootstrapComponentFactories.map(function(e){return rt(e)}))]).toStmt()]),i=this._ngModuleMeta.type.name+"Injector";return new ze(i,rt(ha(la.NgModuleInjector),[nt(this._ngModuleMeta.type)]),this._fields,this._getters,n,r)},e.prototype._getProviderValue=function(e){var r,t=this;if(m(e.useExisting))r=this._getDependency(new Rt({token:e.useExisting}));else if(m(e.useFactory)){var n=e.deps||e.useFactory.diDeps,i=n.map(function(e){return t._getDependency(e)});r=rt(e.useFactory).callFn(i)}else if(m(e.useClass)){var n=e.deps||e.useClass.diDeps,i=n.map(function(e){return t._getDependency(e)});r=rt(e.useClass).instantiate(i,nt(e.useClass))}else r=lp(e.useValue);return r},e.prototype._createProviderProperty=function(e,t,r,n,i){var o,s;if(n?(o=it(r),s=new Z(ee)):(o=r[0],s=r[0].type),s||(s=ee),i)this._fields.push(new Be(e,s)),this._createStmts.push(Me.prop(e).set(o).toStmt());else{var a="_"+e;this._fields.push(new Be(a,s));var u=[new We(Me.prop(a).isBlank(),[Me.prop(a).set(o).toStmt()]),new Ue(Me.prop(a))];this._getters.push(new qe(e,u,s))}return Me.prop(e)},e.prototype._getDependency=function(e){var t=null;if(e.isValue&&(t=ut(e.value)),e.isSkipSelf||(!e.token||e.token.reference!==va(la.Injector).reference&&e.token.reference!==va(la.ComponentFactoryResolver).reference||(t=Me),t||(t=this._instances.get(e.token.reference))),!t){var r=[yt(e.token)];e.isOptional&&r.push(Ne),t=of.parent.callMethod("get",r)}return t},e}(),of=function(){function e(){}return e.parent=Me.prop("parent"),e}(),sf=function(){function e(){}return e.token=tt("token"),e.notFoundResult=tt("notFoundResult"),e}(),af=/'|\\|\n|\r|\$/g,uf=/^[$A-Z_][0-9A-Z_$]*$/i,cf=tt("error"),pf=tt("stack"),lf=function(){function e(e){this.indent=e,this.parts=[]}return e}(),hf=function(){function e(e,t){this._exportedVars=e,this._indent=t,this._classes=[],this._lines=[new lf(t)]}return e.createRoot=function(t){return new e(t,0)},Object.defineProperty(e.prototype,"_currentLine",{get:function(){return this._lines[this._lines.length-1]},enumerable:!0,configurable:!0}),e.prototype.isExportedVar=function(e){return-1!==this._exportedVars.indexOf(e)},e.prototype.println=function(e){void 0===e&&(e=""),this.print(e,!0)},e.prototype.lineIsEmpty=function(){return 0===this._currentLine.parts.length},e.prototype.print=function(e,t){void 0===t&&(t=!1),e.length>0&&this._currentLine.parts.push(e),t&&this._lines.push(new lf(this._indent))},e.prototype.removeEmptyLastLine=function(){this.lineIsEmpty()&&this._lines.pop()},e.prototype.incIndent=function(){this._indent++,this._currentLine.indent=this._indent},e.prototype.decIndent=function(){this._indent--,this._currentLine.indent=this._indent},e.prototype.pushClass=function(e){this._classes.push(e)},e.prototype.popClass=function(){return this._classes.pop()},Object.defineProperty(e.prototype,"currentClass",{get:function(){return this._classes.length>0?this._classes[this._classes.length-1]:null},enumerable:!0,configurable:!0}),e.prototype.toSource=function(){var e=this._lines;return 0===e[e.length-1].parts.length&&(e=e.slice(0,e.length-1)),e.map(function(e){return e.parts.length>0?df(e.indent)+e.parts.join(""):""}).join("\n")},e}(),ff=function(){function e(e){this._escapeDollarInStrings=e}return e.prototype.visitExpressionStmt=function(e,t){return e.expr.visitExpression(this,t),t.println(";"),null},e.prototype.visitReturnStmt=function(e,t){return t.print("return "),e.value.visitExpression(this,t),t.println(";"),null},e.prototype.visitIfStmt=function(e,t){t.print("if ("),e.condition.visitExpression(this,t),t.print(") {");var r=m(e.falseCase)&&e.falseCase.length>0;return e.trueCase.length<=1&&!r?(t.print(" "),this.visitAllStatements(e.trueCase,t),t.removeEmptyLastLine(),t.print(" ")):(t.println(),t.incIndent(),this.visitAllStatements(e.trueCase,t),t.decIndent(),r&&(t.println("} else {"),t.incIndent(),this.visitAllStatements(e.falseCase,t),t.decIndent())),t.println("}"),null},e.prototype.visitThrowStmt=function(e,t){return t.print("throw "),e.error.visitExpression(this,t),t.println(";"),null},e.prototype.visitCommentStmt=function(e,t){var r=e.comment.split("\n");return r.forEach(function(e){t.println("// "+e)}),null},e.prototype.visitWriteVarExpr=function(e,t){var r=t.lineIsEmpty();return r||t.print("("),t.print(e.name+" = "),e.value.visitExpression(this,t),r||t.print(")"),null},e.prototype.visitWriteKeyExpr=function(e,t){var r=t.lineIsEmpty();return r||t.print("("),e.receiver.visitExpression(this,t),t.print("["),e.index.visitExpression(this,t),t.print("] = "),e.value.visitExpression(this,t),r||t.print(")"),null},e.prototype.visitWritePropExpr=function(e,t){var r=t.lineIsEmpty();return r||t.print("("),e.receiver.visitExpression(this,t),t.print("."+e.name+" = "),e.value.visitExpression(this,t),r||t.print(")"),null},e.prototype.visitInvokeMethodExpr=function(e,t){e.receiver.visitExpression(this,t);var r=e.name;return m(e.builtin)&&(r=this.getBuiltinMethodName(e.builtin),y(r))?null:(t.print("."+r+"("),this.visitAllExpressions(e.args,t,","),t.print(")"),null)},e.prototype.visitInvokeFunctionExpr=function(e,t){return e.fn.visitExpression(this,t),t.print("("),this.visitAllExpressions(e.args,t,","),t.print(")"),null},e.prototype.visitReadVarExpr=function(e,t){var r=e.name;if(m(e.builtin))switch(e.builtin){case ue.Super:r="super";break;case ue.This:r="this";break;case ue.CatchError:r=cf.name;break;case ue.CatchStack:r=pf.name;break;default:throw new Error("Unknown builtin variable "+e.builtin)}return t.print(r),null},e.prototype.visitInstantiateExpr=function(e,t){return t.print("new "),e.classExpr.visitExpression(this,t),t.print("("),this.visitAllExpressions(e.args,t,","),t.print(")"),null},e.prototype.visitLiteralExpr=function(e,t,r){void 0===r&&(r="null");var n=e.value;return"string"==typeof n?t.print(vf(n,this._escapeDollarInStrings)):y(n)?t.print(r):t.print(""+n),null},e.prototype.visitConditionalExpr=function(e,t){return t.print("("),e.condition.visitExpression(this,t),t.print("? "),e.trueCase.visitExpression(this,t),t.print(": "),e.falseCase.visitExpression(this,t),t.print(")"),null},e.prototype.visitNotExpr=function(e,t){return t.print("!"),e.condition.visitExpression(this,t),null},e.prototype.visitBinaryOperatorExpr=function(e,t){var r;switch(e.operator){case se.Equals:r="==";break;case se.Identical:r="===";break;case se.NotEquals:r="!=";break;case se.NotIdentical:r="!==";break;case se.And:r="&&";break;case se.Or:r="||";break;case se.Plus:r="+";break;case se.Minus:r="-";break;case se.Divide:r="/";break;case se.Multiply:r="*";break;case se.Modulo:r="%";break;case se.Lower:r="<";break;case se.LowerEquals:r="<=";break;case se.Bigger:r=">";break;case se.BiggerEquals:r=">=";break;default:throw new Error("Unknown operator "+e.operator)}return t.print("("),e.lhs.visitExpression(this,t),t.print(" "+r+" "),e.rhs.visitExpression(this,t),t.print(")"),null},e.prototype.visitReadPropExpr=function(e,t){return e.receiver.visitExpression(this,t),t.print("."),t.print(e.name),null},e.prototype.visitReadKeyExpr=function(e,t){return e.receiver.visitExpression(this,t),t.print("["),e.index.visitExpression(this,t),t.print("]"),null},e.prototype.visitLiteralArrayExpr=function(e,t){var r=e.entries.length>1;return t.print("[",r),t.incIndent(),this.visitAllExpressions(e.entries,t,",",r),t.decIndent(),t.print("]",r),null},e.prototype.visitLiteralMapExpr=function(e,t){var r=this,n=e.entries.length>1;return t.print("{",n),t.incIndent(),this.visitAllObjects(function(e){t.print(vf(e[0],r._escapeDollarInStrings,!1)+": "),e[1].visitExpression(r,t)},e.entries,t,",",n),t.decIndent(),t.print("}",n),null},e.prototype.visitAllExpressions=function(e,t,r,n){var i=this;void 0===n&&(n=!1),this.visitAllObjects(function(e){return e.visitExpression(i,t)},e,t,r,n)},e.prototype.visitAllObjects=function(e,t,r,n,i){void 0===i&&(i=!1);for(var o=0;o<t.length;o++)o>0&&r.print(n,i),e(t[o]);i&&r.println()},e.prototype.visitAllStatements=function(e,t){var r=this;e.forEach(function(e){return e.visitStatement(r,t)})},e}(),mf=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},yf="asset://debug/lib",_f=function(){function e(e){this._importGenerator=e}return e.prototype.emitStatements=function(e,t,r){var n=this,i=new wf(e),o=hf.createRoot(r);i.visitAllStatements(t,o);var s=[];return i.importsWithPrefixes.forEach(function(t,r){s.push("imp"+("ort * as "+t+" from '"+n._importGenerator.getImportPath(e,r)+"';"))}),s.push(o.toSource()),s.join("\n")},e}(),wf=function(e){function t(t){e.call(this,!1),this._moduleUrl=t,this.importsWithPrefixes=new Map}return mf(t,e),t.prototype.visitType=function(e,t,r){void 0===r&&(r="any"),m(e)?e.visitType(this,t):t.print(r)},t.prototype.visitLiteralExpr=function(t,r){e.prototype.visitLiteralExpr.call(this,t,r,"(null as any)")},t.prototype.visitLiteralArrayExpr=function(t,r){0===t.entries.length&&r.print("(");var n=e.prototype.visitLiteralArrayExpr.call(this,t,r);return 0===t.entries.length&&r.print(" as any[])"),n},t.prototype.visitExternalExpr=function(e,t){return this._visitIdentifier(e.value,e.typeParams,t),null},t.prototype.visitDeclareVarStmt=function(e,t){return t.isExportedVar(e.name)&&t.print("export "),e.hasModifier(De.Final)?t.print("const"):t.print("var"),t.print(" "+e.name+":"),this.visitType(e.type,t),t.print(" = "),e.value.visitExpression(this,t),t.println(";"),null},t.prototype.visitCastExpr=function(e,t){return t.print("(<"),e.type.visitType(this,t),t.print(">"),e.value.visitExpression(this,t),t.print(")"),null},t.prototype.visitDeclareClassStmt=function(e,t){var r=this;return t.pushClass(e),t.isExportedVar(e.name)&&t.print("export "),t.print("class "+e.name),m(e.parent)&&(t.print(" extends "),e.parent.visitExpression(this,t)),t.println(" {"),t.incIndent(),e.fields.forEach(function(e){return r._visitClassField(e,t)}),m(e.constructorMethod)&&this._visitClassConstructor(e,t),e.getters.forEach(function(e){return r._visitClassGetter(e,t)}),e.methods.forEach(function(e){return r._visitClassMethod(e,t)}),t.decIndent(),t.println("}"),t.popClass(),null},t.prototype._visitClassField=function(e,t){e.hasModifier(De.Private)&&t.print("/*private*/ "),t.print(e.name),t.print(":"),this.visitType(e.type,t),t.println(";")},t.prototype._visitClassGetter=function(e,t){e.hasModifier(De.Private)&&t.print("private "),t.print("get "+e.name+"()"),t.print(":"),this.visitType(e.type,t),t.println(" {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println("}")},t.prototype._visitClassConstructor=function(e,t){t.print("constructor("),this._visitParams(e.constructorMethod.params,t),t.println(") {"),t.incIndent(),this.visitAllStatements(e.constructorMethod.body,t),t.decIndent(),t.println("}")},t.prototype._visitClassMethod=function(e,t){e.hasModifier(De.Private)&&t.print("private "),t.print(e.name+"("),this._visitParams(e.params,t),t.print("):"),this.visitType(e.type,t,"void"),t.println(" {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println("}")},t.prototype.visitFunctionExpr=function(e,t){return t.print("("),this._visitParams(e.params,t),t.print("):"),this.visitType(e.type,t,"void"),t.println(" => {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print("}"),null},t.prototype.visitDeclareFunctionStmt=function(e,t){return t.isExportedVar(e.name)&&t.print("export "),t.print("function "+e.name+"("),this._visitParams(e.params,t),t.print("):"),this.visitType(e.type,t,"void"),t.println(" {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println("}"),null},t.prototype.visitTryCatchStmt=function(e,t){t.println("try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println("} catch ("+cf.name+") {"),t.incIndent();var r=[pf.set(cf.prop("stack")).toDeclStmt(null,[De.Final])].concat(e.catchStmts);return this.visitAllStatements(r,t),t.decIndent(),t.println("}"),null},t.prototype.visitBuiltintType=function(e,t){var r;switch(e.name){case G.Bool:r="boolean";break;case G.Dynamic:r="any";break;case G.Function:r="Function";break;case G.Number:r="number";break;case G.Int:r="number";break;case G.String:r="string";break;default:throw new Error("Unsupported builtin type "+e.name)}return t.print(r),null},t.prototype.visitExternalType=function(e,t){return this._visitIdentifier(e.value,e.typeParams,t),null},t.prototype.visitArrayType=function(e,t){return this.visitType(e.of,t),t.print("[]"),null},t.prototype.visitMapType=function(e,t){return t.print("{[key: string]:"),this.visitType(e.valueType,t),t.print("}"),null},t.prototype.getBuiltinMethodName=function(e){var t;switch(e){case fe.ConcatArray:t="concat";break;case fe.SubscribeObservable:t="subscribe";break;case fe.Bind:t="bind";break;default:throw new Error("Unknown builtin method: "+e)}return t},t.prototype._visitParams=function(e,t){var r=this;this.visitAllObjects(function(e){t.print(e.name),t.print(":"),r.visitType(e.type,t)},e,t,",")},t.prototype._visitIdentifier=function(e,t,r){var n=this;if(y(e.name))throw new Error("Internal error: unknown identifier "+e);if(m(e.moduleUrl)&&e.moduleUrl!=this._moduleUrl){var i=this.importsWithPrefixes.get(e.moduleUrl);y(i)&&(i="import"+this.importsWithPrefixes.size,this.importsWithPrefixes.set(e.moduleUrl,i)),r.print(i+".")}e.reference&&e.reference.members?(r.print(e.reference.name),r.print("."),r.print(e.reference.members.join("."))):r.print(e.name),m(t)&&t.length>0&&(r.print("<"),this.visitAllObjects(function(e){return e.visitType(n,r)},t,r,","),r.print(">"))},t}(ff),Sf=function(){function e(e,t,r,n){this.parent=e,this.instance=t,this.className=r,this.vars=n}return e.prototype.createChildWihtLocalVars=function(){return new e(this,this.instance,this.className,new Map)},e}(),xf=function(){function e(e){this.value=e}return e}(),Tf=function(){function e(){}return e.prototype.debugAst=function(e){return gf(e)},e.prototype.visitDeclareVarStmt=function(e,t){return t.vars.set(e.name,e.value.visitExpression(this,t)),null},e.prototype.visitWriteVarExpr=function(e,t){for(var r=e.value.visitExpression(this,t),n=t;null!=n;){if(n.vars.has(e.name))return n.vars.set(e.name,r),r;n=n.parent}throw new Error("Not declared variable "+e.name)},e.prototype.visitReadVarExpr=function(e,t){var r=e.name;if(m(e.builtin))switch(e.builtin){case ue.Super:return t.instance.__proto__;case ue.This:return t.instance;case ue.CatchError:r=Pf;break;case ue.CatchStack:r=Mf;break;default:throw new Error("Unknown builtin variable "+e.builtin)}for(var n=t;null!=n;){if(n.vars.has(r))return n.vars.get(r);n=n.parent}throw new Error("Not declared variable "+r)},e.prototype.visitWriteKeyExpr=function(e,t){var r=e.receiver.visitExpression(this,t),n=e.index.visitExpression(this,t),i=e.value.visitExpression(this,t);return r[n]=i,i},e.prototype.visitWritePropExpr=function(e,t){var r=e.receiver.visitExpression(this,t),n=e.value.visitExpression(this,t);return r[e.name]=n,n},e.prototype.visitInvokeMethodExpr=function(e,t){var i,r=e.receiver.visitExpression(this,t),n=this.visitAllExpressions(e.args,t);if(m(e.builtin))switch(e.builtin){case fe.ConcatArray:i=k.concat(r,n[0]);break;case fe.SubscribeObservable:i=r.subscribe({next:n[0]});break;case fe.Bind:i=r.bind(n[0]);break;default:throw new Error("Unknown builtin method "+e.builtin)}else i=r[e.name].apply(r,n);return i},e.prototype.visitInvokeFunctionExpr=function(e,t){var r=this.visitAllExpressions(e.args,t),n=e.fn;if(n instanceof ce&&n.builtin===ue.Super)return t.instance.constructor.prototype.constructor.apply(t.instance,r),null;var i=e.fn.visitExpression(this,t);return i.apply(null,r)},e.prototype.visitReturnStmt=function(e,t){return new xf(e.value.visitExpression(this,t))},e.prototype.visitDeclareClassStmt=function(e,t){var r=bf(e,t,this);return t.vars.set(e.name,r),null},e.prototype.visitExpressionStmt=function(e,t){return e.expr.visitExpression(this,t)},e.prototype.visitIfStmt=function(e,t){var r=e.condition.visitExpression(this,t);return r?this.visitAllStatements(e.trueCase,t):m(e.falseCase)?this.visitAllStatements(e.falseCase,t):null},e.prototype.visitTryCatchStmt=function(e,t){try{return this.visitAllStatements(e.bodyStmts,t)}catch(r){var n=t.createChildWihtLocalVars();return n.vars.set(Pf,r),n.vars.set(Mf,r.stack),this.visitAllStatements(e.catchStmts,n)}},e.prototype.visitThrowStmt=function(e,t){throw e.error.visitExpression(this,t)},e.prototype.visitCommentStmt=function(e,t){return null},e.prototype.visitInstantiateExpr=function(e,t){var r=this.visitAllExpressions(e.args,t),n=e.classExpr.visitExpression(this,t);return new(n.bind.apply(n,[void 0].concat(r)))},e.prototype.visitLiteralExpr=function(e,t){return e.value},e.prototype.visitExternalExpr=function(e,t){return e.value.reference},e.prototype.visitConditionalExpr=function(e,t){return e.condition.visitExpression(this,t)?e.trueCase.visitExpression(this,t):m(e.falseCase)?e.falseCase.visitExpression(this,t):null},e.prototype.visitNotExpr=function(e,t){return!e.condition.visitExpression(this,t)},e.prototype.visitCastExpr=function(e,t){return e.value.visitExpression(this,t)},e.prototype.visitFunctionExpr=function(e,t){var r=e.params.map(function(e){return e.name});return Af(r,e.statements,t,this)},e.prototype.visitDeclareFunctionStmt=function(e,t){var r=e.params.map(function(e){return e.name});return t.vars.set(e.name,Af(r,e.statements,t,this)),null},e.prototype.visitBinaryOperatorExpr=function(e,t){var r=this,n=function(){return e.lhs.visitExpression(r,t)},i=function(){return e.rhs.visitExpression(r,t)};switch(e.operator){case se.Equals:return n()==i();case se.Identical:return n()===i();case se.NotEquals:return n()!=i();case se.NotIdentical:return n()!==i();case se.And:return n()&&i();case se.Or:return n()||i();case se.Plus:return n()+i();case se.Minus:return n()-i();case se.Divide:return n()/i();case se.Multiply:return n()*i();case se.Modulo:return n()%i();case se.Lower:return n()<i();case se.LowerEquals:return n()<=i();case se.Bigger:return n()>i();case se.BiggerEquals:return n()>=i();default:throw new Error("Unknown operator "+e.operator)}},e.prototype.visitReadPropExpr=function(e,t){var r,n=e.receiver.visitExpression(this,t);return r=n[e.name]},e.prototype.visitReadKeyExpr=function(e,t){var r=e.receiver.visitExpression(this,t),n=e.index.visitExpression(this,t);return r[n]},e.prototype.visitLiteralArrayExpr=function(e,t){return this.visitAllExpressions(e.entries,t)},e.prototype.visitLiteralMapExpr=function(e,t){var r=this,n={};return e.entries.forEach(function(e){return n[e[0]]=e[1].visitExpression(r,t)}),n},e.prototype.visitAllExpressions=function(e,t){var r=this;return e.map(function(e){return e.visitExpression(r,t)})},e.prototype.visitAllStatements=function(e,t){for(var r=0;r<e.length;r++){var n=e[r],i=n.visitStatement(this,t);if(i instanceof xf)return i}return null},e}(),Pf="error",Mf="stack",kf=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},If=function(e){function t(){e.call(this,!1)}return kf(t,e),t.prototype.visitDeclareClassStmt=function(e,t){var r=this;return t.pushClass(e),this._visitClassConstructor(e,t),m(e.parent)&&(t.print(e.name+".prototype = Object.create("),
e.parent.visitExpression(this,t),t.println(".prototype);")),e.getters.forEach(function(n){return r._visitClassGetter(e,n,t)}),e.methods.forEach(function(n){return r._visitClassMethod(e,n,t)}),t.popClass(),null},t.prototype._visitClassConstructor=function(e,t){t.print("function "+e.name+"("),m(e.constructorMethod)&&this._visitParams(e.constructorMethod.params,t),t.println(") {"),t.incIndent(),m(e.constructorMethod)&&e.constructorMethod.body.length>0&&(t.println("var self = this;"),this.visitAllStatements(e.constructorMethod.body,t)),t.decIndent(),t.println("}")},t.prototype._visitClassGetter=function(e,t,r){r.println("Object.defineProperty("+e.name+".prototype, '"+t.name+"', { get: function() {"),r.incIndent(),t.body.length>0&&(r.println("var self = this;"),this.visitAllStatements(t.body,r)),r.decIndent(),r.println("}});")},t.prototype._visitClassMethod=function(e,t,r){r.print(e.name+".prototype."+t.name+" = function("),this._visitParams(t.params,r),r.println(") {"),r.incIndent(),t.body.length>0&&(r.println("var self = this;"),this.visitAllStatements(t.body,r)),r.decIndent(),r.println("};")},t.prototype.visitReadVarExpr=function(t,r){if(t.builtin===ue.This)r.print("self");else{if(t.builtin===ue.Super)throw new Error("'super' needs to be handled at a parent ast node, not at the variable level!");e.prototype.visitReadVarExpr.call(this,t,r)}return null},t.prototype.visitDeclareVarStmt=function(e,t){return t.print("var "+e.name+" = "),e.value.visitExpression(this,t),t.println(";"),null},t.prototype.visitCastExpr=function(e,t){return e.value.visitExpression(this,t),null},t.prototype.visitInvokeFunctionExpr=function(t,r){var n=t.fn;return n instanceof ce&&n.builtin===ue.Super?(r.currentClass.parent.visitExpression(this,r),r.print(".call(this"),t.args.length>0&&(r.print(", "),this.visitAllExpressions(t.args,r,",")),r.print(")")):e.prototype.visitInvokeFunctionExpr.call(this,t,r),null},t.prototype.visitFunctionExpr=function(e,t){return t.print("function("),this._visitParams(e.params,t),t.println(") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print("}"),null},t.prototype.visitDeclareFunctionStmt=function(e,t){return t.print("function "+e.name+"("),this._visitParams(e.params,t),t.println(") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println("}"),null},t.prototype.visitTryCatchStmt=function(e,t){t.println("try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println("} catch ("+cf.name+") {"),t.incIndent();var r=[pf.set(cf.prop("stack")).toDeclStmt(null,[De.Final])].concat(e.catchStmts);return this.visitAllStatements(r,t),t.decIndent(),t.println("}"),null},t.prototype._visitParams=function(e,t){this.visitAllObjects(function(e){return t.print(e.name)},e,t,",")},t.prototype.getBuiltinMethodName=function(e){var t;switch(e){case fe.ConcatArray:t="concat";break;case fe.SubscribeObservable:t="subscribe";break;case fe.Bind:t="bind";break;default:throw new Error("Unknown builtin method: "+e)}return t},t}(ff),Of=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Rf=function(e){function t(){e.apply(this,arguments),this._evalArgNames=[],this._evalArgValues=[]}return Of(t,e),t.prototype.getArgs=function(){for(var e={},t=0;t<this._evalArgNames.length;t++)e[this._evalArgNames[t]]=this._evalArgValues[t];return e},t.prototype.visitExternalExpr=function(e,t){var r=e.value.reference,n=this._evalArgValues.indexOf(r);if(-1===n){n=this._evalArgValues.length,this._evalArgValues.push(r);var i=m(e.value.name)?ft(e.value.name):"val";this._evalArgNames.push(ft("jit_"+i+n))}return t.print(this._evalArgNames[n]),null},t}(If),Lf=function(){function e(){this.strictStyling=!0}return e.prototype.shimCssText=function(e,t,r){void 0===r&&(r="");var n=rv(e);return e=ev(e),e=this._insertDirectives(e),this._scopeCssText(e,t,r)+n},e.prototype._insertDirectives=function(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)},e.prototype._insertPolyfillDirectivesInCssText=function(e){return e.replace(Vf,function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return e[2]+"{"})},e.prototype._insertPolyfillRulesInCssText=function(e){return e.replace(Ff,function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e[0].replace(e[1],"").replace(e[2],"");return e[4]+r})},e.prototype._scopeCssText=function(e,t,r){var n=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),t&&(e=this._scopeSelectors(e,t,r)),e=e+"\n"+n,e.trim()},e.prototype._extractUnscopedRulesFromCssText=function(e){var r,t="";for(Uf.lastIndex=0;null!==(r=Uf.exec(e));){var n=r[0].replace(r[2],"").replace(r[1],r[4]);t+=n+"\n\n"}return t},e.prototype._convertColonHost=function(e){return this._convertColonRule(e,qf,this._colonHostPartReplacer)},e.prototype._convertColonHostContext=function(e){return this._convertColonRule(e,zf,this._colonHostContextPartReplacer)},e.prototype._convertColonRule=function(e,t,r){return e.replace(t,function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(e[2]){for(var n=e[2].split(","),i=[],o=0;o<n.length;o++){var s=n[o].trim();if(!s)break;i.push(r(Wf,s,e[3]))}return i.join(",")}return Wf+e[3]})},e.prototype._colonHostContextPartReplacer=function(e,t,r){return t.indexOf(jf)>-1?this._colonHostPartReplacer(e,t,r):e+t+r+", "+t+" "+e+r},e.prototype._colonHostPartReplacer=function(e,t,r){return e+t.replace(jf,"")+r},e.prototype._convertShadowDOMSelectors=function(e){return Kf.reduce(function(e,t){return e.replace(t," ")},e)},e.prototype._scopeSelectors=function(e,t,r){var n=this;return cv(e,function(e){var i=e.selector,o=e.content;return"@"!=e.selector[0]?i=n._scopeSelector(e.selector,t,r,n.strictStyling):(e.selector.startsWith("@media")||e.selector.startsWith("@supports")||e.selector.startsWith("@page")||e.selector.startsWith("@document"))&&(o=n._scopeSelectors(e.content,t,r)),new uv(i,o)})},e.prototype._scopeSelector=function(e,t,r,n){var i=this;return e.split(",").map(function(e){return e.trim().split(Xf)}).map(function(e){var o=e[0],s=e.slice(1),a=function(e){return i._selectorNeedsScoping(e,t)?n?i._applyStrictSelectorScope(e,t,r):i._applySelectorScope(e,t,r):e};return[a(o)].concat(s).join(" ")}).join(", ")},e.prototype._selectorNeedsScoping=function(e,t){var r=this._makeScopeMatcher(t);return!r.test(e)},e.prototype._makeScopeMatcher=function(e){var t=/\[/g,r=/\]/g;return e=e.replace(t,"\\[").replace(r,"\\]"),new RegExp("^("+e+")"+Gf,"m")},e.prototype._applySelectorScope=function(e,t,r){return this._applySimpleSelectorScope(e,t,r)},e.prototype._applySimpleSelectorScope=function(e,t,r){if(Yf.lastIndex=0,Yf.test(e)){var n=this.strictStyling?"["+r+"]":t;return e.replace(Qf,function(e,t){return":"===t[0]?n+t:t+n}).replace(Yf,n+" ")}return t+" "+e},e.prototype._applyStrictSelectorScope=function(e,t,r){var n=this,i=/\[is=([^\]]*)\]/g;t=t.replace(i,function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t[0]});var o="["+t+"]",s=function(e){var i=e.trim();if(!i)return"";if(e.indexOf(Wf)>-1)i=n._applySimpleSelectorScope(e,t,r);else{var s=e.replace(Yf,"");if(s.length>0){var a=s.match(/([^:]*)(:*)(.*)/);null!==a&&(i=a[1]+o+a[2]+a[3])}}return i},a=0,u=[];e=e.replace(/\[[^\]]*\]/g,function(e){var t="__attr_sel_"+a+"__";return u.push(e),a++,t});for(var l,c="",p=0,h=/( |>|\+|~(?!=))\s*/g,f=e.indexOf(Wf);null!==(l=h.exec(e));){var v=l[1],d=e.slice(p,l.index).trim(),m=p>=f?s(d):d;c+=m+" "+v+" ",p=h.lastIndex}return c+=s(e.substring(p)),c.replace(/__attr_sel_(\d+)__/g,function(e,t){return u[+t]})},e.prototype._insertPolyfillHostInCssText=function(e){return e.replace(Zf,Bf).replace($f,jf)},e}(),Vf=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,Ff=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,Uf=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,jf="-shadowcsshost",Bf="-shadowcsscontext",Hf=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",qf=new RegExp("("+jf+Hf,"gim"),zf=new RegExp("("+Bf+Hf,"gim"),Wf=jf+"-no-combinator",Qf=/-shadowcsshost-no-combinator([^\s]*)/,Kf=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],Xf=/(?:>>>)|(?:\/deep\/)/g,Gf="([>\\s~+[.,{:][\\s\\S]*)?$",Yf=/-shadowcsshost/gim,$f=/:host/gim,Zf=/:host-context/gim,Jf=/\/\*\s*[\s\S]*?\*\//g,tv=/\/\*\s*#\s*sourceMappingURL=[\s\S]+?\*\//,nv=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,iv=/([{}])/g,ov="{",sv="}",av="%BLOCK%",uv=function(){function e(e,t){this.selector=e,this.content=t}return e}(),pv=function(){function e(e,t){this.escapedString=e,this.blocks=t}return e}(),hv="%COMP%",fv="_nghost-"+hv,vv="_ngcontent-"+hv,dv=function(){function e(e,t,r){this.moduleUrl=e,this.isShimmed=t,this.valuePlaceholder=r}return e}(),mv=function(){function e(e,t){this.componentStylesheet=e,this.externalStylesheets=t}return e}(),yv=function(){function e(e,t,r,n,i){this.statements=e,this.stylesVar=t,this.dependencies=r,this.isShimmed=n,this.meta=i}return e}(),gv=function(){function e(e){this._urlResolver=e,this._shadowCss=new Lf}return e.prototype.compileComponent=function(e){var t=this,r=[],n=this._compileStyles(e,new Bt({styles:e.template.styles,styleUrls:e.template.styleUrls,moduleUrl:e.type.moduleUrl}),!0);return e.template.externalStylesheets.forEach(function(n){var i=t._compileStyles(e,n,!1);r.push(i)}),new mv(n,r)},e.prototype._compileStyles=function(e,r,n){for(var i=this,o=e.template.encapsulation===t.ViewEncapsulation.Emulated,s=r.styles.map(function(e){return ut(i._shimIfNeeded(e,o))}),a=[],u=0;u<r.styleUrls.length;u++){var c=new Dt({name:_v(null)});a.push(new dv(r.styleUrls[u],o,c)),s.push(new ge(c))}var p=_v(n?e:null),l=tt(p).set(it(s,new Z(ee,[K.Const]))).toDeclStmt(null,[De.Final]);return new yv([l],p,a,o,r)},e.prototype._shimIfNeeded=function(e,t){return t?this._shadowCss.shimCssText(e,vv,fv):e},e.decorators=[{type:t.Injectable}],e.ctorParameters=[{type:bh}],e}(),wv=function(){function e(e,t,r,n,i,o,s,a,u){this._injector=e,this._metadataResolver=t,this._templateNormalizer=r,this._templateParser=n,this._styleCompiler=i,this._viewCompiler=o,this._ngModuleCompiler=s,this._directiveWrapperCompiler=a,this._compilerConfig=u,this._compiledTemplateCache=new Map,this._compiledHostTemplateCache=new Map,this._compiledDirectiveWrapperCache=new Map,this._compiledNgModuleCache=new Map,this._animationParser=new Rc,this._animationCompiler=new ac}return Object.defineProperty(e.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),e.prototype.compileModuleSync=function(e){return this._compileModuleAndComponents(e,!0).syncResult},e.prototype.compileModuleAsync=function(e){return this._compileModuleAndComponents(e,!1).asyncResult},e.prototype.compileModuleAndAllComponentsSync=function(e){return this._compileModuleAndAllComponents(e,!0).syncResult},e.prototype.compileModuleAndAllComponentsAsync=function(e){return this._compileModuleAndAllComponents(e,!1).asyncResult},e.prototype._compileModuleAndComponents=function(e,t){var r=this._compileComponents(e,t),n=this._compileModule(e);return new gt(n,r.then(function(){return n}))},e.prototype._compileModuleAndAllComponents=function(e,r){var n=this,i=this._compileComponents(e,r),o=this._compileModule(e),s=this._metadataResolver.getNgModuleMetadata(e),a=[],u=new Set;s.transitiveModule.modules.forEach(function(e){e.declaredDirectives.forEach(function(t){if(t.isComponent){var r=n._createCompiledHostTemplate(t.type.reference,e);u.add(r),a.push(r.proxyComponentFactory)}})});var c=new t.ModuleWithComponentFactories(o,a),p=function(){return u.forEach(function(e){n._compileTemplate(e)}),c},l=r?Promise.resolve(p()):i.then(p);return new gt(c,l)},e.prototype._compileModule=function(e){var r=this,n=this._compiledNgModuleCache.get(e);if(!n){var i=this._metadataResolver.getNgModuleMetadata(e),o=[this._metadataResolver.getProviderMetadata(new $t(t.Compiler,{useFactory:function(){return new Sv(r,i.type.reference)}}))],s=this._ngModuleCompiler.compile(i,o);s.dependencies.forEach(function(e){e.placeholder.reference=r._assertComponentKnown(e.comp.reference,!0).proxyComponentFactory,e.placeholder.name="compFactory_"+e.comp.name}),n=this._compilerConfig.useJit?Df("/"+i.type.name+"/module.ngfactory.js",s.statements,s.ngModuleFactoryVar):Ef(s.statements,s.ngModuleFactoryVar),this._compiledNgModuleCache.set(i.type.reference,n)}return n},e.prototype._compileComponents=function(e,t){var r=this,n=new Set,i=[],o=this._metadataResolver.getNgModuleMetadata(e),s=new Map;o.transitiveModule.modules.forEach(function(e){e.declaredDirectives.forEach(function(t){s.set(t.type.reference,e),r._compileDirectiveWrapper(t,e),t.isComponent&&n.add(r._createCompiledTemplate(t,e))})}),o.transitiveModule.modules.forEach(function(e){e.declaredDirectives.forEach(function(e){e.isComponent&&e.entryComponents.forEach(function(e){var t=s.get(e.reference);n.add(r._createCompiledHostTemplate(e.reference,t))})}),e.entryComponents.forEach(function(e){var t=s.get(e.reference);n.add(r._createCompiledHostTemplate(e.reference,t))})}),n.forEach(function(e){if(e.loading){if(t)throw new oa(e.compType.reference);i.push(e.loading)}});var a=function(){n.forEach(function(e){r._compileTemplate(e)})};return t?(a(),Promise.resolve(null)):Promise.all(i).then(a)},e.prototype.clearCacheFor=function(e){this._compiledNgModuleCache["delete"](e),this._metadataResolver.clearCacheFor(e),this._compiledHostTemplateCache["delete"](e);var t=this._compiledTemplateCache.get(e);t&&(this._templateNormalizer.clearCacheFor(t.normalizedCompMeta),this._compiledTemplateCache["delete"](e))},e.prototype.clearCache=function(){this._metadataResolver.clearCache(),this._compiledTemplateCache.clear(),this._compiledHostTemplateCache.clear(),this._templateNormalizer.clearCache(),this._compiledNgModuleCache.clear()},e.prototype._createCompiledHostTemplate=function(e,t){if(!t)throw new Error("Component "+w(e)+" is not part of any NgModule or the module has not been imported into your module.");var r=this._compiledHostTemplateCache.get(e);if(!r){var n=this._metadataResolver.getDirectiveMetadata(e);Cv(n);var i=zt(n);r=new Ev(!0,n.selector,n.type,t,[n],this._templateNormalizer.normalizeDirective(i)),this._compiledHostTemplateCache.set(e,r)}return r},e.prototype._createCompiledTemplate=function(e,t){var r=this._compiledTemplateCache.get(e.type.reference);return r||(Cv(e),r=new Ev(!1,e.selector,e.type,t,t.transitiveModule.directives,this._templateNormalizer.normalizeDirective(e)),this._compiledTemplateCache.set(e.type.reference,r)),r},e.prototype._assertComponentKnown=function(e,t){var r=t?this._compiledHostTemplateCache.get(e):this._compiledTemplateCache.get(e);if(!r)throw new Error("Illegal state: Compiled view for component "+w(e)+" does not exist!");return r},e.prototype._assertComponentLoaded=function(e,t){var r=this._assertComponentKnown(e,t);if(r.loading)throw new Error("Illegal state: CompiledTemplate for "+w(e)+" (isHost: "+t+") is still loading!");return r},e.prototype._assertDirectiveWrapper=function(e){var t=this._compiledDirectiveWrapperCache.get(e);if(!t)throw new Error("Illegal state: Directive wrapper for "+w(e)+" has not been compiled!");return t},e.prototype._compileDirectiveWrapper=function(e,t){var i,r=this._directiveWrapperCompiler.compile(e),n=r.statements;i=this._compilerConfig.useJit?Df("/"+t.type.name+"/"+e.type.name+"/wrapper.ngfactory.js",n,r.dirWrapperClassVar):Ef(n,r.dirWrapperClassVar),this._compiledDirectiveWrapperCache.set(e.type.reference,i)},e.prototype._compileTemplate=function(e){var t=this;if(!e.isCompiled){var r=e.normalizedCompMeta,n=new Map,i=this._styleCompiler.compileComponent(r);i.externalStylesheets.forEach(function(e){n.set(e.meta.moduleUrl,e)}),this._resolveStylesCompileResult(i.componentStylesheet,n);var o=e.viewComponentTypes.map(function(e){return t._assertComponentLoaded(e,!1).normalizedCompMeta}),s=this._animationParser.parseComponent(r),a=this._templateParser.parse(r,r.template.template,e.viewDirectives.concat(o),e.viewPipes,e.schemas,r.type.name),u=this._animationCompiler.compile(r.type.name,s),c=this._viewCompiler.compileComponent(r,a,tt(i.componentStylesheet.stylesVar),e.viewPipes,u);c.dependencies.forEach(function(e){var r;if(e instanceof Fp){var n=e;r=t._assertComponentLoaded(n.comp.reference,!1),n.placeholder.reference=r.proxyViewFactory,n.placeholder.name="viewFactory_"+n.comp.name}else if(e instanceof Up){var i=e;r=t._assertComponentLoaded(i.comp.reference,!0),i.placeholder.reference=r.proxyComponentFactory,i.placeholder.name="compFactory_"+i.comp.name}else if(e instanceof jp){var o=e;o.placeholder.reference=t._assertDirectiveWrapper(o.dir.reference)}});var p=i.componentStylesheet.statements.concat(c.statements);u.forEach(function(e){e.statements.forEach(function(e){p.push(e)})});var l;l=this._compilerConfig.useJit?Df("/"+e.ngModule.type.name+"/"+e.compType.name+"/"+(e.isHost?"host":"component")+".ngfactory.js",p,c.viewFactoryVar):Ef(p,c.viewFactoryVar),e.compiled(l)}},e.prototype._resolveStylesCompileResult=function(e,t){var r=this;e.dependencies.forEach(function(e,n){var i=t.get(e.moduleUrl),o=r._resolveAndEvalStylesCompileResult(i,t);e.valuePlaceholder.reference=o,e.valuePlaceholder.name="importedStyles"+n})},e.prototype._resolveAndEvalStylesCompileResult=function(e,t){return this._resolveStylesCompileResult(e,t),this._compilerConfig.useJit?Df("/"+e.meta.moduleUrl+".css.js",e.statements,e.stylesVar):Ef(e.statements,e.stylesVar)},e.decorators=[{type:t.Injectable}],e.ctorParameters=[{type:t.Injector},{type:Qh},{type:Dh},{type:ku},{type:gv},{type:uh},{type:rf},{type:up},{type:zu}],e}(),Ev=function(){function e(e,r,n,i,o,s){var a=this;this.isHost=e,this.compType=n,this.ngModule=i,this._viewFactory=null,this.loading=null,this._normalizedCompMeta=null,this.isCompiled=!1,this.isCompiledWithDeps=!1,this.viewComponentTypes=[],this.viewDirectives=[],this.viewPipes=i.transitiveModule.pipes,this.schemas=i.schemas,o.forEach(function(e){e.isComponent?a.viewComponentTypes.push(e.type.reference):a.viewDirectives.push(e)}),this.proxyViewFactory=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(!a._viewFactory)throw new Error("Illegal state: CompiledTemplate for "+w(a.compType)+" is not compiled yet!");return a._viewFactory.apply(null,e)},this.proxyComponentFactory=e?new t.ComponentFactory(r,this.proxyViewFactory,n.reference):null,s.syncResult?this._normalizedCompMeta=s.syncResult:this.loading=s.asyncResult.then(function(e){a._normalizedCompMeta=e,a.loading=null})}return Object.defineProperty(e.prototype,"normalizedCompMeta",{get:function(){if(this.loading)throw new Error("Template is still loading for "+this.compType.name+"!");return this._normalizedCompMeta},enumerable:!0,configurable:!0}),e.prototype.compiled=function(e){this._viewFactory=e,this.isCompiled=!0},e.prototype.depsCompiled=function(){this.isCompiledWithDeps=!0},e}(),Sv=function(){function e(e,t){this._delegate=e,this._ngModule=t}return Object.defineProperty(e.prototype,"_injector",{get:function(){return this._delegate.injector},enumerable:!0,configurable:!0}),e.prototype.compileModuleSync=function(e){return this._delegate.compileModuleSync(e)},e.prototype.compileModuleAsync=function(e){return this._delegate.compileModuleAsync(e)},e.prototype.compileModuleAndAllComponentsSync=function(e){return this._delegate.compileModuleAndAllComponentsSync(e)},e.prototype.compileModuleAndAllComponentsAsync=function(e){return this._delegate.compileModuleAndAllComponentsAsync(e)},e.prototype.clearCache=function(){this._delegate.clearCache()},e.prototype.clearCacheFor=function(e){this._delegate.clearCacheFor(e)},e}(),xv={};bv(t.SecurityContext.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),bv(t.SecurityContext.STYLE,["*|style"]),bv(t.SecurityContext.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","img|srcset","input|src","ins|cite","q|cite","source|src","source|srcset","track|src","video|poster","video|src"]),bv(t.SecurityContext.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"]);var Tv=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Av="boolean",Pv="number",Mv="string",kv="object",Iv=["[Element]|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop","[HTMLElement]^[Element]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*beforecopy,*beforecut,*beforepaste,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*message,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*paste,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*search,*seeked,*seeking,*select,*selectstart,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate","abbr,address,article,aside,b,bdi,bdo,cite,code,dd,dfn,dt,em,figcaption,figure,footer,header,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*beforecopy,*beforecut,*beforepaste,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*message,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*paste,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*search,*seeked,*seeking,*select,*selectstart,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate","media^[HTMLElement]|!autoplay,!controls,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,#playbackRate,preload,src,%srcObject,#volume",":svg:^[HTMLElement]|*abort,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","keygen^[HTMLElement]|!autofocus,challenge,!disabled,keytype,name","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select^[HTMLElement]|!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow^[HTMLElement]|","source^[HTMLElement]|media,sizes,src,srcset,type","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocapitalize,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|#height,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:cursor^:svg:|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime"],Ov={"class":"className",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Nv=function(e){function r(){var t=this;e.call(this),this._schema={},Iv.forEach(function(e){var r={},n=e.split("|"),i=n[0],o=n[1],s=o.split(","),a=i.split("^"),u=a[0],c=a[1];u.split(",").forEach(function(e){return t._schema[e.toLowerCase()]=r});var p=c&&t._schema[c.toLowerCase()];p&&Object.keys(p).forEach(function(e){r[e]=p[e]}),s.forEach(function(e){if(e.length>0)switch(e[0]){case"*":break;case"!":r[e.substring(1)]=Av;break;case"#":r[e.substring(1)]=Pv;break;case"%":r[e.substring(1)]=kv;break;default:r[e]=Mv}})})}return Tv(r,e),r.prototype.hasProperty=function(e,r,n){if(n.some(function(e){return e.name===t.NO_ERRORS_SCHEMA.name}))return!0;if(e.indexOf("-")>-1){if("ng-container"===e||"ng-content"===e)return!1;if(n.some(function(e){return e.name===t.CUSTOM_ELEMENTS_SCHEMA.name}))return!0}var i=this._schema[e.toLowerCase()]||this._schema.unknown;return!!i[r]},r.prototype.hasElement=function(e,r){
if(r.some(function(e){return e.name===t.NO_ERRORS_SCHEMA.name}))return!0;if(e.indexOf("-")>-1){if("ng-container"===e||"ng-content"===e)return!0;if(r.some(function(e){return e.name===t.CUSTOM_ELEMENTS_SCHEMA.name}))return!0}return!!this._schema[e.toLowerCase()]},r.prototype.securityContext=function(e,r){e=e.toLowerCase(),r=r.toLowerCase();var n=xv[e+"|"+r];return n?n:(n=xv["*|"+r],n?n:t.SecurityContext.NONE)},r.prototype.getMappedPropName=function(e){return Ov[e]||e},r.prototype.getDefaultComponentElementName=function(){return"ng-component"},r.prototype.validateProperty=function(e){if(e.toLowerCase().startsWith("on")){var t="Binding to event property '"+e+"' is disallowed for security reasons, "+("please use ("+e.slice(2)+")=...")+("\nIf '"+e+"' is a directive input, make sure the directive is imported by the")+" current module.";return{error:!0,msg:t}}return{error:!1}},r.prototype.validateAttribute=function(e){if(e.toLowerCase().startsWith("on")){var t="Binding to event attribute '"+e+"' is disallowed for security reasons, "+("please use ("+e.slice(2)+")=...");return{error:!0,msg:t}}return{error:!1}},r.decorators=[{type:t.Injectable}],r.ctorParameters=[],r}(Ua),Dv={get:function(e){throw new Error("No ResourceLoader implementation has been provided. Can't read the url \""+e+'"')}},Rv=[{provide:qs,useValue:Hs},{provide:Ts,useExisting:qs},{provide:wh,useValue:Dv},Bs,Vn,ii,ya,{provide:Es,useFactory:function(e,t,r){return new Es(e,t,r)},deps:[ya,[new t.Optional,new t.Inject(t.TRANSLATIONS)],[new t.Optional,new t.Inject(t.TRANSLATIONS_FORMAT)]]},ku,Dh,Qh,xh,gv,uh,rf,up,{provide:zu,useValue:new zu},wv,{provide:t.Compiler,useExisting:wv},Nv,{provide:Ua,useExisting:Nv},bh,Vh,zh,Hh],Lv=function(){function e(e){this._defaultOptions=[{useDebug:t.isDevMode(),useJit:!0,defaultEncapsulation:t.ViewEncapsulation.Emulated}].concat(e)}return e.prototype.createCompiler=function(e){void 0===e&&(e=[]);var r=Uv(this._defaultOptions.concat(e)),n=t.ReflectiveInjector.resolveAndCreate([Rv,{provide:zu,useFactory:function(){return new zu({genDebugInfo:r.useDebug,useJit:r.useJit,defaultEncapsulation:r.defaultEncapsulation,logBindingUpdate:r.useDebug})},deps:[]},r.providers]);return n.get(t.Compiler)},e.decorators=[{type:t.Injectable}],e.ctorParameters=[{type:Array,decorators:[{type:t.Inject,args:[t.COMPILER_OPTIONS]}]}],e}(),Fv=t.createPlatformFactory(t.platformCore,"coreDynamic",[{provide:t.COMPILER_OPTIONS,useValue:{},multi:!0},{provide:t.CompilerFactory,useClass:Lv},{provide:t.PLATFORM_INITIALIZER,useValue:Vv,multi:!0}]),Hv=/asset:([^\/]+)\/([^\/]+)\/(.+)/,qv=function(){function e(){}return e.parseAssetUrl=function(e){return zv.parse(e)},e}(),zv=function(){function e(e,t,r){this.packageName=e,this.firstLevelDir=t,this.modulePath=r}return e.parse=function(t,r){void 0===r&&(r=!0);var n=t.match(Hv);if(null!==n)return new e(n[1],n[2],n[3]);if(r)return null;throw new Error("Url "+t+" is not a valid asset: url")},e}();e.TEMPLATE_TRANSFORMS=Au,e.CompilerConfig=zu,e.RenderTypes=Wu,e.RuntimeCompiler=wv,e.DirectiveResolver=Vh,e.PipeResolver=zh,e.NgModuleResolver=Hh,e.DEFAULT_INTERPOLATION_CONFIG=Rn,e.InterpolationConfig=Dn,e.ElementSchemaRegistry=Ua,e.NgModuleCompiler=rf,e.DirectiveWrapperCompiler=up,e.ViewCompiler=uh,e.TextAst=r,e.BoundTextAst=n,e.AttrAst=i,e.BoundElementPropertyAst=o,e.BoundEventAst=s,e.ReferenceAst=a,e.VariableAst=u,e.ElementAst=c,e.EmbeddedTemplateAst=p,e.BoundDirectivePropertyAst=l,e.DirectiveAst=h,e.ProviderAst=f,e.NgContentAst=v,e.templateVisitAll=d,e.CompileMetadataWithIdentifier=Ct,e.CompileAnimationEntryMetadata=St,e.CompileAnimationStateMetadata=xt,e.CompileAnimationStateDeclarationMetadata=bt,e.CompileAnimationStateTransitionMetadata=Tt,e.CompileAnimationMetadata=At,e.CompileAnimationKeyframesSequenceMetadata=Pt,e.CompileAnimationStyleMetadata=Mt,e.CompileAnimationAnimateMetadata=kt,e.CompileAnimationWithStepsMetadata=It,e.CompileAnimationSequenceMetadata=Ot,e.CompileAnimationGroupMetadata=Nt,e.CompileIdentifierMetadata=Dt,e.CompileDiDependencyMetadata=Rt,e.CompileProviderMetadata=Lt,e.CompileFactoryMetadata=Vt,e.CompileTokenMetadata=Ft,e.CompileTypeMetadata=Ut,e.CompileQueryMetadata=jt,e.CompileStylesheetMetadata=Bt,e.CompileTemplateMetadata=Ht,e.CompileDirectiveMetadata=qt,e.createHostComponentMeta=zt,e.CompilePipeMetadata=Wt,e.CompileNgModuleMetadata=Qt,e.TransitiveCompileNgModuleMetadata=Kt,e.removeIdentifierDuplicates=Xt,e.isStaticSymbol=Yt,e.ProviderMeta=$t,e.SourceModule=ch,e.NgModulesSummary=ph,e.analyzeModules=lh,e.OfflineCompiler=hh,e.createUrlResolverWithoutPackagePrefix=Ch,e.createOfflineCompileUrlResolver=Sh,e.DEFAULT_PACKAGE_URL_PROVIDER=xh,e.UrlResolver=bh,e.getUrlScheme=Th,e.ResourceLoader=wh,e.COMPILER_PROVIDERS=Rv,e.RuntimeCompilerFactory=Lv,e.platformCoreDynamic=Fv,e.I18NHtmlParser=Es,e.MessageBundle=Oo,e.Xliff=is,e.Xmb=fs,e.Xtb=gs,e.DirectiveNormalizer=Dh,e.Lexer=Vn,e.Token=Fn,e.EOF=Qn,e.isIdentifier=Gn,e.isQuote=Jn,e.SplitInterpolation=ti,e.TemplateBindingParseResult=ri,e.Parser=ii,e._ParseAST=oi,e.CompileMetadataResolver=Qh,e.HtmlParser=ya,e.ParseTreeResult=Bi,e.TreeError=ji,e.ImportGenerator=qv,e.AssetUrl=zv,e.debugOutputAstAsTypeScript=gf,e.TypeScriptEmitter=_f,e.ParseLocation=ai,e.ParseSourceFile=ui,e.ParseSourceSpan=ci,e.ParseError=pi,e.DomElementSchemaRegistry=Nv,e.CssSelector=H,e.SelectorMatcher=q,e.SelectorListContext=z,e.SelectorContext=W,e.StylesCompileDependency=dv,e.StylesCompileResult=mv,e.CompiledStylesheet=yv,e.StyleCompiler=gv,e.TemplateParseError=Pu,e.TemplateParseResult=Mu,e.TemplateParser=ku,e.splitClasses=Ru,e.PipeCollector=ju});