function inflight(t,e){return reqs[t]?(reqs[t].push(e),null):(reqs[t]=[e],makeres(t))}function makeres(t){return once(function e(){var n=reqs[t],r=n.length,i=slice(arguments);try{for(var o=0;r>o;o++)n[o].apply(null,i)}finally{n.length>r?(n.splice(0,r),process.nextTick(function(){e.apply(null,i)})):delete reqs[t]}})}function slice(t){for(var e=t.length,n=[],r=0;e>r;r++)n[r]=t[r];return n}var wrappy=require("wrappy"),reqs=Object.create(null),once=require("once");module.exports=wrappy(inflight);