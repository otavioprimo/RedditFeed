"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function diffJson(e,t,r){return jsonDiff.diff(e,t,r)}function canonicalize(e,t,r){t=t||[],r=r||[];var n=void 0;for(n=0;n<t.length;n+=1)if(t[n]===e)return r[n];var i=void 0;if("[object Array]"===objectPrototypeToString.call(e)){for(t.push(e),i=new Array(e.length),r.push(i),n=0;n<e.length;n+=1)i[n]=canonicalize(e[n],t,r);return t.pop(),r.pop(),i}if(e&&e.toJSON&&(e=e.toJSON()),"object"===("undefined"==typeof e?"undefined":_typeof(e))&&null!==e){t.push(e),i={},r.push(i);var a=[],o=void 0;for(o in e)e.hasOwnProperty(o)&&a.push(o);for(a.sort(),n=0;n<a.length;n+=1)o=a[n],i[o]=canonicalize(e[o],t,r);t.pop(),r.pop()}else i=e;return i}exports.__esModule=!0,exports.jsonDiff=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};exports.diffJson=diffJson,exports.canonicalize=canonicalize;var _base=require("./base"),_base2=_interopRequireDefault(_base),_line=require("./line"),objectPrototypeToString=Object.prototype.toString,jsonDiff=exports.jsonDiff=new _base2["default"];jsonDiff.useLongestToken=!0,jsonDiff.tokenize=_line.lineDiff.tokenize,jsonDiff.castInput=function(e){return"string"==typeof e?e:JSON.stringify(canonicalize(e),void 0,"  ")},jsonDiff.equals=function(e,t){return _base2["default"].prototype.equals(e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};