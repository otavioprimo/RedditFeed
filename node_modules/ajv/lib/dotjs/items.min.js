"use strict";module.exports=function(e,t){var l,r=" ",n=e.level,i=e.dataLevel,o=e.schema[t],s=e.schemaPath+"."+t,a=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(i||""),p="valid"+n,f="errs__"+n,h=e.util.copy(e),d="";h.level++;var v=h.dataLevel=e.dataLevel+1,m="data"+v,g=e.baseId;if(r+="var "+f+" = errors;var "+p+";",Array.isArray(o)){var y=e.schema.additionalItems;if(y===!1){r+=" "+p+" = "+c+".length <= "+o.length+"; ";var _=a;a=e.errSchemaPath+"/additionalItems",r+="  if (!"+p+") {   ";var b=b||[];b.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(l||"additionalItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { limit: "+o.length+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var w=r;r=b.pop(),r+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+w+"]); ":" validate.errors = ["+w+"]; return false; ":" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",a=_,u&&(d+="}",r+=" else { ")}var x=o;if(x)for(var E,C=-1,S=x.length-1;S>C;)if(E=x[C+=1],e.util.schemaHasRules(E,e.RULES.all)){r+=" valid"+h.level+" = true; if ("+c+".length > "+C+") { ";var A=c+"["+C+"]";h.schema=E,h.schemaPath=s+"["+C+"]",h.errSchemaPath=a+"/"+C,h.errorPath=e.util.getPathExpr(e.errorPath,C,e.opts.jsonPointers,!0),h.dataPathArr[v]=C;var k=e.validate(h);h.baseId=g,r+=e.util.varOccurences(k,m)<2?" "+e.util.varReplace(k,m,A)+" ":" var "+m+" = "+A+"; "+k+" ",r+=" }  ",u&&(r+=" if (valid"+h.level+") { ",d+="}")}if("object"==typeof y&&e.util.schemaHasRules(y,e.RULES.all)){h.schema=y,h.schemaPath=e.schemaPath+".additionalItems",h.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" valid"+h.level+" = true; if ("+c+".length > "+o.length+") {  for (var i"+n+" = "+o.length+"; i"+n+" < "+c+".length; i"+n+"++) { ",h.errorPath=e.util.getPathExpr(e.errorPath,"i"+n,e.opts.jsonPointers,!0);var A=c+"[i"+n+"]";h.dataPathArr[v]="i"+n;var k=e.validate(h);h.baseId=g,r+=e.util.varOccurences(k,m)<2?" "+e.util.varReplace(k,m,A)+" ":" var "+m+" = "+A+"; "+k+" ",u&&(r+=" if (!valid"+h.level+") break; "),r+=" } }  ",u&&(r+=" if (valid"+h.level+") { ",d+="}")}}else if(e.util.schemaHasRules(o,e.RULES.all)){h.schema=o,h.schemaPath=s,h.errSchemaPath=a,r+="  for (var i"+n+" = 0; i"+n+" < "+c+".length; i"+n+"++) { ",h.errorPath=e.util.getPathExpr(e.errorPath,"i"+n,e.opts.jsonPointers,!0);var A=c+"[i"+n+"]";h.dataPathArr[v]="i"+n;var k=e.validate(h);h.baseId=g,r+=e.util.varOccurences(k,m)<2?" "+e.util.varReplace(k,m,A)+" ":" var "+m+" = "+A+"; "+k+" ",u&&(r+=" if (!valid"+h.level+") break; "),r+=" }  ",u&&(r+=" if (valid"+h.level+") { ",d+="}")}return u&&(r+=" "+d+" if ("+f+" == errors) {"),r=e.util.cleanUpCode(r)};