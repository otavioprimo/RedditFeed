"use strict";module.exports=function(e,t){var l,r=" ",n=e.level,i=e.dataLevel,o=e.schema[t],s=e.schemaPath+"."+t,a=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(i||""),p="valid"+n,f="errs__"+n,h=e.util.copy(e),d="";h.level++;var g,v="ifPassed"+e.level,m=h.baseId;r+="var "+v+";";var y=o;if(y)for(var _,b=-1,w=y.length-1;w>b;){if(_=y[b+=1],b&&!g&&(r+=" if (!"+v+") { ",d+="}"),_["if"]&&e.util.schemaHasRules(_["if"],e.RULES.all)){r+=" var "+f+" = errors;   ";var x=e.compositeRule;if(e.compositeRule=h.compositeRule=!0,h.createErrors=!1,h.schema=_["if"],h.schemaPath=s+"["+b+"].if",h.errSchemaPath=a+"/"+b+"/if",r+="  "+e.validate(h)+" ",h.baseId=m,h.createErrors=!0,e.compositeRule=h.compositeRule=x,r+=" "+v+" = valid"+h.level+"; if ("+v+") {  ","boolean"==typeof _.then){if(_.then===!1){var E=E||[];E.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(l||"switch")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { caseIndex: "+b+" } ",e.opts.messages!==!1&&(r+=" , message: 'should pass \"switch\" keyword validation' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var C=r;r=E.pop(),r+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+C+"]); ":" validate.errors = ["+C+"]; return false; ":" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}r+=" var valid"+h.level+" = "+_.then+"; "}else h.schema=_.then,h.schemaPath=s+"["+b+"].then",h.errSchemaPath=a+"/"+b+"/then",r+="  "+e.validate(h)+" ",h.baseId=m;r+="  } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } } "}else if(r+=" "+v+" = true;  ","boolean"==typeof _.then){if(_.then===!1){var E=E||[];E.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(l||"switch")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { caseIndex: "+b+" } ",e.opts.messages!==!1&&(r+=" , message: 'should pass \"switch\" keyword validation' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var C=r;r=E.pop(),r+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+C+"]); ":" validate.errors = ["+C+"]; return false; ":" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}r+=" var valid"+h.level+" = "+_.then+"; "}else h.schema=_.then,h.schemaPath=s+"["+b+"].then",h.errSchemaPath=a+"/"+b+"/then",r+="  "+e.validate(h)+" ",h.baseId=m;g=_["continue"]}return r+=""+d+"var "+p+" = valid"+h.level+"; ",r=e.util.cleanUpCode(r)};