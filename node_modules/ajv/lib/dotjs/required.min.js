"use strict";module.exports=function(e,t){var l,h,r=" ",n=e.level,i=e.dataLevel,o=e.schema[t],s=e.schemaPath+"."+t,a=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(i||""),p="valid"+n,f=e.opts.v5&&o&&o.$data;if(f?(r+=" var schema"+n+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; ",h="schema"+n):h=o,!f)if(o.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var d=[],v=o;if(v)for(var m,g=-1,y=v.length-1;y>g;){m=v[g+=1];var _=e.schema.properties[m];_&&e.util.schemaHasRules(_,e.RULES.all)||(d[d.length]=m)}}else var d=o;if(f||d.length){var b=e.errorPath,w=f||d.length>=e.opts.loopRequired;if(u)if(r+=" var missing"+n+"; ",w){f||(r+=" var schema"+n+" = validate.schema"+s+"; ");var x="i"+n,E="schema"+n+"["+x+"]",C="' + "+E+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(b,E,e.opts.jsonPointers)),r+=" var "+p+" = true; ",f&&(r+=" if (schema"+n+" === undefined) "+p+" = true; else if (!Array.isArray(schema"+n+")) "+p+" = false; else {"),r+=" for (var "+x+" = 0; "+x+" < schema"+n+".length; "+x+"++) { "+p+" = "+c+"[schema"+n+"["+x+"]] !== undefined; if (!"+p+") break; } ",f&&(r+="  }  "),r+="  if (!"+p+") {   ";var S=S||[];S.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(l||"required")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { missingProperty: '"+C+"' } ",e.opts.messages!==!1&&(r+=" , message: '",r+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+C+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var A=r;r=S.pop(),r+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+A+"]); ":" validate.errors = ["+A+"]; return false; ":" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var k=d;if(k)for(var T,x=-1,P=k.length-1;P>x;){T=k[x+=1],x&&(r+=" || ");var O=e.util.getProperty(T);r+=" ( "+c+O+" === undefined && (missing"+n+" = "+e.util.toQuotedString(e.opts.jsonPointers?T:O)+") ) "}r+=") {  ";var E="missing"+n,C="' + "+E+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(b,E,!0):b+" + "+E);var S=S||[];S.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(l||"required")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { missingProperty: '"+C+"' } ",e.opts.messages!==!1&&(r+=" , message: '",r+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+C+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var A=r;r=S.pop(),r+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+A+"]); ":" validate.errors = ["+A+"]; return false; ":" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(w){f||(r+=" var schema"+n+" = validate.schema"+s+"; ");var x="i"+n,E="schema"+n+"["+x+"]",C="' + "+E+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(b,E,e.opts.jsonPointers)),f&&(r+=" if (schema"+n+" && !Array.isArray(schema"+n+")) {  var err =   ",e.createErrors!==!1?(r+=" { keyword: '"+(l||"required")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { missingProperty: '"+C+"' } ",e.opts.messages!==!1&&(r+=" , message: '",r+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+C+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (schema"+n+" !== undefined) { "),r+=" for (var "+x+" = 0; "+x+" < schema"+n+".length; "+x+"++) { if ("+c+"[schema"+n+"["+x+"]] === undefined) {  var err =   ",e.createErrors!==!1?(r+=" { keyword: '"+(l||"required")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { missingProperty: '"+C+"' } ",e.opts.messages!==!1&&(r+=" , message: '",r+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+C+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",f&&(r+="  }  ")}else{var N=d;if(N)for(var M,I=-1,D=N.length-1;D>I;){M=N[I+=1];var O=e.util.getProperty(M),C=e.util.escapeQuotes(M);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(b,M,e.opts.jsonPointers)),r+=" if ("+c+O+" === undefined) {  var err =   ",e.createErrors!==!1?(r+=" { keyword: '"+(l||"required")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { missingProperty: '"+C+"' } ",e.opts.messages!==!1&&(r+=" , message: '",r+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+C+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=b}else u&&(r+=" if (true) {");return r};