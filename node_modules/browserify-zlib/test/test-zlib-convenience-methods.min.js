var tape=require("tape"),zlib=require("../"),expect="blahblahblahblahblahblah",opts={level:9,chunkSize:1024};[["gzip","gunzip"],["gzip","unzip"],["deflate","inflate"],["deflateRaw","inflateRaw"]].forEach(function(e){tape(e.join(" "),function(t){t.plan(4),zlib[e[0]](expect,opts,function(r,n){zlib[e[1]](n,opts,function(r,n){t.deepEqual(n,new Buffer(expect),"Should get original string after "+e[0]+"/"+e[1]+" with options.")})}),zlib[e[0]](expect,function(r,n){zlib[e[1]](n,function(r,n){t.deepEqual(n,new Buffer(expect),"Should get original string after "+e[0]+"/"+e[1]+" without options.")})});var r=zlib[e[0]+"Sync"](expect,opts);r=zlib[e[1]+"Sync"](r,opts),t.deepEqual(r,new Buffer(expect),"Should get original string after "+e[0]+"/"+e[1]+" with options."),r=zlib[e[0]+"Sync"](expect),r=zlib[e[1]+"Sync"](r),t.deepEqual(r,new Buffer(expect),"Should get original string after "+e[0]+"/"+e[1]+" without options.")})});