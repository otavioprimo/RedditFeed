"use strict";function Accepts(t){return this instanceof Accepts?(this.headers=t.headers,void(this.negotiator=new Negotiator(t))):new Accepts(t)}function extToMime(t){return-1===t.indexOf("/")?mime.lookup(t):t}function validMime(t){return"string"==typeof t}var Negotiator=require("negotiator"),mime=require("mime-types");module.exports=Accepts,Accepts.prototype.type=Accepts.prototype.types=function(t){var e=t;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;n++)e[n]=arguments[n]}if(!e||0===e.length)return this.negotiator.mediaTypes();if(!this.headers.accept)return e[0];var i=e.map(extToMime),r=this.negotiator.mediaTypes(i.filter(validMime)),o=r[0];return o?e[i.indexOf(o)]:!1},Accepts.prototype.encoding=Accepts.prototype.encodings=function(t){var e=t;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;n++)e[n]=arguments[n]}return e&&0!==e.length?this.negotiator.encodings(e)[0]||!1:this.negotiator.encodings()},Accepts.prototype.charset=Accepts.prototype.charsets=function(t){var e=t;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;n++)e[n]=arguments[n]}return e&&0!==e.length?this.negotiator.charsets(e)[0]||!1:this.negotiator.charsets()},Accepts.prototype.lang=Accepts.prototype.langs=Accepts.prototype.language=Accepts.prototype.languages=function(t){var e=t;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;n++)e[n]=arguments[n]}return e&&0!==e.length?this.negotiator.languages(e)[0]||!1:this.negotiator.languages()};