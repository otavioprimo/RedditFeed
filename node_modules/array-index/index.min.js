function ArrayIndex(t){Object.defineProperty(this,"length",{get:getLength,set:setLength,enumerable:!1,configurable:!0}),this[length]=0,arguments.length>0&&setLength.call(this,t)}function getLength(){return debug('getting "length": %o',this[length]),this[length]}function setLength(t){return debug('setting "length": %o',t),this[length]=ensureLength(this,t)}function ensureLength(t,e){var n;n=e>MAX_LENGTH?MAX_LENGTH:0|e;var i=Object.getPrototypeOf(t),r=0|i[length],o=n-r;if(o>0){var s={};debug("creating a descriptor object with %o entries",o);for(var a=r;n>a;a++)s[a]=setup(a);debug("calling `Object.defineProperties()` with %o entries",o),Object.defineProperties(i,s),i[length]=n}return n}function setup(t){function e(){return this[ArrayIndex.get](t)}function n(e){return this[ArrayIndex.set](t,e)}return{enumerable:!0,configurable:!0,get:e,set:n}}var Symbol=require("es6-symbol"),debug=require("debug")("array-index"),get=Symbol("get"),set=Symbol("set"),length=Symbol("length"),MAX_LENGTH=Math.pow(2,32);module.exports=ArrayIndex,ArrayIndex.get=get,ArrayIndex.set=set,ArrayIndex.prototype[ArrayIndex.get]=function(){throw new Error("you must implement the `ArrayIndex.get` Symbol")},ArrayIndex.prototype[ArrayIndex.set]=function(){throw new Error("you must implement the `ArrayIndex.set` Symbol")},ArrayIndex.prototype.toArray=function(){for(var t=0,e=this.length,n=new Array(e);e>t;t++)n[t]=this[t];return n},ArrayIndex.prototype.toJSON=function(){return this.toArray()},ArrayIndex.prototype.toString=function(){var t=this.toArray();return t.toString.apply(t,arguments)},ArrayIndex.prototype.inspect=function(){var t=this.toArray();return Object.keys(this).forEach(function(e){t[e]=this[e]},this),t};