"use strict";var map=require("es5-ext/object/map"),isCallable=require("es5-ext/object/is-callable"),validValue=require("es5-ext/object/valid-value"),contains=require("es5-ext/string/#/contains"),call=Function.prototype.call,defineProperty=Object.defineProperty,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getPrototypeOf=Object.getPrototypeOf,hasOwnProperty=Object.prototype.hasOwnProperty,cacheDesc={configurable:!1,enumerable:!1,writable:!1,value:null},define;define=function(t,e){var n,r,i,o,a,c,s=!1;return e=Object(validValue(e)),i=e.cacheName,c=e.flat,null==i&&(i=t),delete e.cacheName,n=e.value,a=isCallable(n),delete e.value,r={configurable:Boolean(e.configurable),enumerable:Boolean(e.enumerable)},t!==i?r.get=function(){return hasOwnProperty.call(this,i)?this[i]:(cacheDesc.value=a?call.call(n,this,e):n,cacheDesc.writable=s,defineProperty(this,i,cacheDesc),cacheDesc.value=null,o&&defineProperty(this,t,o),this[i])}:c?r.get=function l(){var i,r=this;if(hasOwnProperty.call(this,t)){if(i=getOwnPropertyDescriptor(this,t),i.hasOwnProperty("value"))return i.value;if("function"==typeof i.get&&i.get!==l)return i.get.call(this)}for(;!hasOwnProperty.call(r,t);)r=getPrototypeOf(r);return o.value=a?call.call(n,r,e):n,defineProperty(r,t,o),o.value=null,r[t]}:r.get=function u(){var r;return hasOwnProperty.call(this,t)?(r=getOwnPropertyDescriptor(this,t),r.hasOwnProperty("value")?r.value:"function"==typeof r.get&&r.get!==u?r.get.call(this):n):(o.value=a?call.call(n,this,e):n,defineProperty(this,t,o),o.value=null,this[t])},r.set=function(t){r.get.call(this),this[i]=t},e.desc?(o={configurable:contains.call(e.desc,"c"),enumerable:contains.call(e.desc,"e")},i===t?(o.writable=contains.call(e.desc,"w"),o.value=null):(s=contains.call(e.desc,"w"),o.get=r.get,o.set=r.set),delete e.desc):i===t&&(o={configurable:Boolean(e.configurable),enumerable:Boolean(e.enumerable),writable:Boolean(e.writable),value:null}),delete e.configurable,delete e.enumerable,delete e.writable,r},module.exports=function(t){return map(t,function(t,e){return define(e,t)})};