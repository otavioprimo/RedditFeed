"use strict";function fillRange(t,e,n,r,i){if(null==t||null==e)throw new Error("fill-range expects the first and second args to be strings.");"function"==typeof n&&(i=n,r={},n=null),"function"==typeof r&&(i=r,r={}),isObject(n)&&(r=n,n="");var o,s=!1,a="",c=r||{};"undefined"==typeof c.silent&&(c.silent=!0),n=n||c.step;var l=t,u=e;if(e="-0"===e.toString()?0:e,(c.optimize||c.makeRe)&&(n=n?n+="~":n,o=!0,s=!0,a="~"),"string"==typeof n){var h=stepRe().exec(n);if(h){var p=h.index,f=h[0];if("+"===f)return repeat(t,e);if("?"===f)return[randomize(t,e)];">"===f?(n=n.substr(0,p)+n.substr(p+1),o=!0):"|"===f?(n=n.substr(0,p)+n.substr(p+1),o=!0,s=!0,a=f):"~"===f&&(n=n.substr(0,p)+n.substr(p+1),o=!0,s=!0,a=f)}else if(!isNumber(n)){if(!c.silent)throw new TypeError("fill-range: invalid step.");return null}}if(/[.&*()[\]^%$#@!]/.test(t)||/[.&*()[\]^%$#@!]/.test(e)){if(!c.silent)throw new RangeError("fill-range: invalid range arguments.");return null}if(!noAlphaNum(t)||!noAlphaNum(e)||hasBoth(t)||hasBoth(e)){if(!c.silent)throw new RangeError("fill-range: invalid range arguments.");return null}var d=isNumber(zeros(t)),_=isNumber(zeros(e));if(!d&&_||d&&!_){if(!c.silent)throw new TypeError("fill-range: first range argument is incompatible with second.");return null}var g=d,y=formatStep(n);g?(t=+t,e=+e):(t=t.charCodeAt(0),e=e.charCodeAt(0));var m=t>e;(0>t||0>e)&&(o=!1,s=!1);var b,w,v=isPadded(l,u),E=[],x=0;if(s&&shouldExpand(t,e,y,g,v,c))return("|"===a||"~"===a)&&(a=detectSeparator(t,e,y,g,m)),wrap([l,u],a,c);for(;m?t>=e:e>=t;)v&&g&&(w=v(t)),b="function"==typeof i?i(t,g,w,x++):g?formatPadding(t,w):s&&isInvalidChar(t)?null:String.fromCharCode(t),null!==b&&E.push(b),m?t-=y:t+=y;return!s&&!o||c.noexpand?E:(("|"===a||"~"===a)&&(a=detectSeparator(t,e,y,g,m)),1===E.length||0>t||0>e?E:wrap(E,a,c))}function wrap(t,e,n){"~"===e&&(e="-");var r=t.join(e),i=n&&n.regexPrefix;return"|"===e&&(r=i?i+r:r,r="("+r+")"),"-"===e&&(r=i&&"^"===i?i+r:r,r="["+r+"]"),[r]}function isCharClass(t,e,n,r,i){return i?!1:r?9>=t&&9>=e:e>t?1===n:!1}function shouldExpand(t,e,n,r,i,o){return r&&(t>9||e>9)?!1:!i&&1===n&&e>t}function detectSeparator(t,e,n,r,i){var o=isCharClass(t,e,n,r,i);return o?"~":"|"}function formatStep(t){return Math.abs(t>>0)||1}function formatPadding(t,e){var n=e?e+t:t;return e&&"-"===t.toString().charAt(0)&&(n="-"+e+t.toString().substr(1)),n.toString()}function isInvalidChar(t){var e=toStr(t);return"\\"===e||"["===e||"]"===e||"^"===e||"("===e||")"===e||"`"===e}function toStr(t){return String.fromCharCode(t)}function stepRe(){return/\?|>|\||\+|\~/g}function noAlphaNum(t){return/[a-z0-9]/i.test(t)}function hasBoth(t){return/[a-z][0-9]|[0-9][a-z]/i.test(t)}function zeros(t){return/^-*0+$/.test(t.toString())?"0":t}function hasZeros(t){return/[^.]\.|^-*0+[0-9]/.test(t)}function isPadded(t,e){if(hasZeros(t)||hasZeros(e)){var n=length(t),r=length(e),i=n>=r?n:r;return function(t){return repeatStr("0",i-length(t))}}return!1}function length(t){return t.toString().length}var isObject=require("isobject"),isNumber=require("is-number"),randomize=require("randomatic"),repeatStr=require("repeat-string"),repeat=require("repeat-element");module.exports=fillRange;