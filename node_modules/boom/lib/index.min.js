var Http=require("http"),Hoek=require("hoek"),internals={};exports.wrap=function(e,t,r){return Hoek.assert(e instanceof Error,"Cannot wrap non-Error object"),e.isBoom?e:internals.initialize(e,t||500,r)},exports.create=function(e,t,r){return internals.create(e,t,r,exports.create)},internals.create=function(e,t,r,n){var i=new Error(t?t:void 0);return Error.captureStackTrace(i,n),i.data=r||null,internals.initialize(i,e),i},internals.initialize=function(e,t,r){var n=parseInt(t,10);return Hoek.assert(!isNaN(n)&&n>=400,"First argument must be a number (400+):",t),e.isBoom=!0,e.isServer=n>=500,e.hasOwnProperty("data")||(e.data=null),e.output={statusCode:n,payload:{},headers:{}},e.reformat=internals.reformat,e.reformat(),r||e.message||(r=e.output.payload.error),r&&(e.message=r+(e.message?": "+e.message:"")),e},internals.reformat=function(){this.output.payload.statusCode=this.output.statusCode,this.output.payload.error=Http.STATUS_CODES[this.output.statusCode]||"Unknown",500===this.output.statusCode?this.output.payload.message="An internal server error occurred":this.message&&(this.output.payload.message=this.message)},exports.badRequest=function(e,t){return internals.create(400,e,t,exports.badRequest)},exports.unauthorized=function(e,t,r){var n=internals.create(401,e,void 0,exports.unauthorized);if(!t)return n;var i="",o=0,a=0;if("string"==typeof t){if(i=t,(r||e)&&(n.output.payload.attributes={}),r){var s=Object.keys(r);for(o=0,a=s.length;a>o;++o){var u=s[o];o&&(i+=",");var l=r[u];(null===l||void 0===l)&&(l=""),i+=" "+u+'="'+Hoek.escapeHeaderAttribute(l.toString())+'"',n.output.payload.attributes[u]=l}}e?(r&&(i+=","),i+=' error="'+Hoek.escapeHeaderAttribute(e)+'"',n.output.payload.attributes.error=e):n.isMissing=!0}else{var c=t;for(o=0,a=c.length;a>o;++o)o&&(i+=", "),i+=c[o]}return n.output.headers["WWW-Authenticate"]=i,n},exports.forbidden=function(e,t){return internals.create(403,e,t,exports.forbidden)},exports.notFound=function(e,t){return internals.create(404,e,t,exports.notFound)},exports.methodNotAllowed=function(e,t){return internals.create(405,e,t,exports.methodNotAllowed)},exports.notAcceptable=function(e,t){return internals.create(406,e,t,exports.notAcceptable)},exports.proxyAuthRequired=function(e,t){return internals.create(407,e,t,exports.proxyAuthRequired)},exports.clientTimeout=function(e,t){return internals.create(408,e,t,exports.clientTimeout)},exports.conflict=function(e,t){return internals.create(409,e,t,exports.conflict)},exports.resourceGone=function(e,t){return internals.create(410,e,t,exports.resourceGone)},exports.lengthRequired=function(e,t){return internals.create(411,e,t,exports.lengthRequired)},exports.preconditionFailed=function(e,t){return internals.create(412,e,t,exports.preconditionFailed)},exports.entityTooLarge=function(e,t){return internals.create(413,e,t,exports.entityTooLarge)},exports.uriTooLong=function(e,t){return internals.create(414,e,t,exports.uriTooLong)},exports.unsupportedMediaType=function(e,t){return internals.create(415,e,t,exports.unsupportedMediaType)},exports.rangeNotSatisfiable=function(e,t){return internals.create(416,e,t,exports.rangeNotSatisfiable)},exports.expectationFailed=function(e,t){return internals.create(417,e,t,exports.expectationFailed)},exports.badData=function(e,t){return internals.create(422,e,t,exports.badData)},exports.preconditionRequired=function(e,t){return internals.create(428,e,t,exports.preconditionRequired)},exports.tooManyRequests=function(e,t){return internals.create(429,e,t,exports.tooManyRequests)},exports.internal=function(e,t,r){return internals.serverError(e,t,r,exports.internal)},internals.serverError=function(e,t,r,n){var i;return t instanceof Error?i=exports.wrap(t,r,e):(i=internals.create(r||500,e,void 0,n),i.data=t),i},exports.notImplemented=function(e,t){return internals.serverError(e,t,501,exports.notImplemented)},exports.badGateway=function(e,t){return internals.serverError(e,t,502,exports.badGateway)},exports.serverTimeout=function(e,t){return internals.serverError(e,t,503,exports.serverTimeout)},exports.gatewayTimeout=function(e,t){return internals.serverError(e,t,504,exports.gatewayTimeout)},exports.badImplementation=function(e,t){var r=internals.serverError(e,t,500,exports.badImplementation);return r.isDeveloperError=!0,r};