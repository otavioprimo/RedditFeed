var test=require("tape"),crypto=require("../"),randomBytesFunctions={randomBytes:require("randombytes"),pseudoRandomBytes:crypto.pseudoRandomBytes};for(var randomBytesName in randomBytesFunctions){var randomBytes=randomBytesFunctions[randomBytesName];test("get error message",function(e){try{var t=randomBytes(10);e.ok(Buffer.isBuffer(t)),e.end()}catch(r){e.ok(/not supported/.test(r.message),'"not supported"  is in error message'),e.end()}}),test(randomBytesName,function(e){e.plan(5),e.equal(randomBytes(10).length,10),e.ok(Buffer.isBuffer(randomBytes(10))),randomBytes(10,function(t,r){e.error(t),e.equal(r.length,10),e.ok(Buffer.isBuffer(r)),e.end()})}),test(randomBytesName+" seem random",function(e){var t=1e3,r=randomBytes(t),n=[].reduce.call(r,function(e,t){return e+t},0)/t,i=128,a=Math.sqrt(n);console.log(JSON.stringify([i-a,n,i+a])),e.ok(i+a>n),e.ok(n>i-a),e.end()})}