process.env.OBJECT_IMPL&&(global.TYPED_ARRAY_SUPPORT=!1);var B=require("../").Buffer,test=require("tape");test("modifying buffer created by .slice() modifies original memory",function(e){if(!B.TYPED_ARRAY_SUPPORT)return e.end();for(var t=new B(26),r=0;26>r;r++)t[r]=r+97;var n=t.slice(0,3);e.equal(n.toString("ascii",0,n.length),"abc"),n[0]="!".charCodeAt(0),e.equal(t.toString("ascii",0,n.length),"!bc"),e.end()}),test("modifying parent buffer modifies .slice() buffer's memory",function(e){if(!B.TYPED_ARRAY_SUPPORT)return e.end();for(var t=new B(26),r=0;26>r;r++)t[r]=r+97;var n=t.slice(0,3);e.equal(n.toString("ascii",0,n.length),"abc"),t[0]="!".charCodeAt(0),e.equal(n.toString("ascii",0,n.length),"!bc"),e.end()});