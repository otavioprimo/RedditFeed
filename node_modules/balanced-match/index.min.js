function balanced(t,e,n){t instanceof RegExp&&(t=maybeMatch(t,n)),e instanceof RegExp&&(e=maybeMatch(e,n));var r=range(t,e,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+t.length,r[1]),post:n.slice(r[1]+e.length)}}function maybeMatch(t,e){var n=e.match(t);return n?n[0]:null}function range(t,e,n){var r,i,o,s,a,c=n.indexOf(t),l=n.indexOf(e,c+1),u=c;if(c>=0&&l>0){for(r=[],o=n.length;u>=0&&!a;)u==c?(r.push(u),c=n.indexOf(t,u+1)):1==r.length?a=[r.pop(),l]:(i=r.pop(),o>i&&(o=i,s=l),l=n.indexOf(e,u+1)),u=l>c&&c>=0?c:l;r.length&&(a=[o,s])}return a}module.exports=balanced,balanced.range=range;