function numeric(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function escapeBraces(t){return t.split("\\\\").join(escSlash).split("\\{").join(escOpen).split("\\}").join(escClose).split("\\,").join(escComma).split("\\.").join(escPeriod)}function unescapeBraces(t){return t.split(escSlash).join("\\").split(escOpen).join("{").split(escClose).join("}").split(escComma).join(",").split(escPeriod).join(".")}function parseCommaParts(t){if(!t)return[""];var e=[],n=balanced("{","}",t);if(!n)return t.split(",");var r=n.pre,i=n.body,o=n.post,s=r.split(",");s[s.length-1]+="{"+i+"}";var a=parseCommaParts(o);return o.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),e.push.apply(e,s),e}function expandTop(t){return t?("{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2)),expand(escapeBraces(t),!0).map(unescapeBraces)):[]}function identity(t){return t}function embrace(t){return"{"+t+"}"}function isPadded(t){return/^-?0\d/.test(t)}function lte(t,e){return e>=t}function gte(t,e){return t>=e}function expand(t,e){var n=[],r=balanced("{","}",t);if(!r||/\$$/.test(r.pre))return[t];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),o=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),s=i||o,a=/^(.*,)+(.+)?$/.test(r.body);if(!s&&!a)return r.post.match(/,.*\}/)?(t=r.pre+"{"+r.body+escClose+r.post,expand(t)):[t];var c;if(s)c=r.body.split(/\.\./);else if(c=parseCommaParts(r.body),1===c.length&&(c=expand(c[0],!1).map(embrace),1===c.length)){var l=r.post.length?expand(r.post,!1):[""];return l.map(function(t){return r.pre+c[0]+t})}var h,u=r.pre,l=r.post.length?expand(r.post,!1):[""];if(s){var p=numeric(c[0]),f=numeric(c[1]),d=Math.max(c[0].length,c[1].length),_=3==c.length?Math.abs(numeric(c[2])):1,g=lte,y=p>f;y&&(_*=-1,g=gte);var m=c.some(isPadded);h=[];for(var v=p;g(v,f);v+=_){var b;if(o)b=String.fromCharCode(v),"\\"===b&&(b="");else if(b=String(v),m){var w=d-b.length;if(w>0){var C=new Array(w+1).join("0");b=0>v?"-"+C+b.slice(1):C+b}}h.push(b)}}else h=concatMap(c,function(t){return expand(t,!1)});for(var x=0;x<h.length;x++)for(var E=0;E<l.length;E++){var k=u+h[x]+l[E];(!e||s||k)&&n.push(k)}return n}var concatMap=require("concat-map"),balanced=require("balanced-match");module.exports=expandTop;var escSlash="\x00SLASH"+Math.random()+"\x00",escOpen="\x00OPEN"+Math.random()+"\x00",escClose="\x00CLOSE"+Math.random()+"\x00",escComma="\x00COMMA"+Math.random()+"\x00",escPeriod="\x00PERIOD"+Math.random()+"\x00";