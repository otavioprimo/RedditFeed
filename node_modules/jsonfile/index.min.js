function readFile(t,e,n){null==n&&(n=e,e={}),"string"==typeof e&&(e={encoding:e}),e=e||{};var r=e.fs||_fs,i=!0;"passParsingErrors"in e?i=e.passParsingErrors:"throws"in e&&(i=e["throws"]),r.readFile(t,e,function(r,o){if(r)return n(r);o=stripBom(o);var s;try{s=JSON.parse(o,e?e.reviver:null)}catch(a){return i?(a.message=t+": "+a.message,n(a)):n(null,null)}n(null,s)})}function readFileSync(t,e){e=e||{},"string"==typeof e&&(e={encoding:e});var n=e.fs||_fs,r=!0;"passParsingErrors"in e?r=e.passParsingErrors:"throws"in e&&(r=e["throws"]);var i=n.readFileSync(t,e);i=stripBom(i);try{return JSON.parse(i,e.reviver)}catch(o){if(r)throw o.message=t+": "+o.message,o;return null}}function writeFile(t,e,n,r){null==r&&(r=n,n={}),n=n||{};var i=n.fs||_fs,o="object"==typeof n&&null!==n&&"spaces"in n?n.spaces:this.spaces,s="";try{s=JSON.stringify(e,n?n.replacer:null,o)+"\n"}catch(a){if(r)return r(a,null)}i.writeFile(t,s,n,r)}function writeFileSync(t,e,n){n=n||{};var r=n.fs||_fs,i="object"==typeof n&&null!==n&&"spaces"in n?n.spaces:this.spaces,o=JSON.stringify(e,n.replacer,i)+"\n";return r.writeFileSync(t,o,n)}function stripBom(t){return Buffer.isBuffer(t)&&(t=t.toString("utf8")),t=t.replace(/^\uFEFF/,"")}var _fs;try{_fs=require("graceful-fs")}catch(_){_fs=require("fs")}var jsonfile={spaces:null,readFile:readFile,readFileSync:readFileSync,writeFile:writeFile,writeFileSync:writeFileSync};module.exports=jsonfile;