(function(){var e,t,r,n,i,o={}.hasOwnProperty;e=require("./browsers"),n=require("./utils"),i=require("postcss/lib/vendor"),r=function(e,t){var n,i,a;n=new e.constructor;for(i in e)o.call(e,i)&&(a=e[i],"parent"===i&&"object"==typeof a?t&&(n[i]=t):"source"===i?n[i]=a:null===i?n[i]=a:a instanceof Array?n[i]=a.map(function(e){return r(e,n)}):"_autoprefixerPrefix"!==i&&"_autoprefixerValues"!==i&&("object"==typeof a&&null!==a&&(a=r(a,n)),n[i]=a));return n},t=function(){function t(e,t,r){this.name=e,this.prefixes=t,this.all=r}return t.hack=function(e){var t,r,n,i,o;for(this.hacks||(this.hacks={}),i=e.names,o=[],t=0,r=i.length;r>t;t++)n=i[t],o.push(this.hacks[n]=e);return o},t.load=function(e,t,r){var n,i;return n=null!=(i=this.hacks)?i[e]:void 0,n?new n(e,t,r):new this(e,t,r)},t.clone=function(e,t){var n,i;n=r(e);for(i in t)n[i]=t[i];return n},t.prototype.parentPrefix=function(t){var r;return r=null!=t._autoprefixerPrefix?t._autoprefixerPrefix:"decl"===t.type&&"-"===t.prop[0]?i.prefix(t.prop):"root"===t.type?!1:"rule"===t.type&&-1!==t.selector.indexOf(":-")?t.selector.match(/:(-\w+-)/)[1]:"atrule"===t.type&&"-"===t.name[0]?i.prefix(t.name):this.parentPrefix(t.parent),-1===e.prefixes().indexOf(r)&&(r=!1),t._autoprefixerPrefix=r},t.prototype.process=function(e){var t,r,i,o,a,s,u,l,c;if(this.check(e)){for(s=this.parentPrefix(e),l=[],c=this.prefixes,r=0,o=c.length;o>r;r++)u=c[r],s&&s!==n.removeNote(u)||l.push(u);for(t=[],i=0,a=l.length;a>i;i++)u=l[i],this.add(e,u,t.concat([u]))&&t.push(u);return t}},t.prototype.clone=function(e,r){return t.clone(e,r)},t}(),module.exports=t}).call(this);