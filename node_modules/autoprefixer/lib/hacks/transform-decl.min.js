(function(){var e,t,r=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=require("../declaration"),t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.names=["transform","transform-origin"],t.functions3d=["matrix3d","translate3d","translateZ","scale3d","scaleZ","rotate3d","rotateX","rotateY","perspective"],t.prototype.keyframeParents=function(e){var t;for(t=e.parent;t;){if("atrule"===t.type&&"keyframes"===t.name)return!0;t=t.parent}return!1},t.prototype.contain3d=function(e){var r,n,i,o;if("transform-origin"===e.prop)return!1;for(o=t.functions3d,n=0,i=o.length;i>n;n++)if(r=o[n],-1!==e.value.indexOf(r+"("))return!0;return!1},t.prototype.set=function(e,r){return e=t.__super__.set.apply(this,arguments),"-ms-"===r&&(e.value=e.value.replace(/rotateZ/gi,"rotate")),e},t.prototype.insert=function(e,r,n){if("-ms-"===r){if(!this.contain3d(e)&&!this.keyframeParents(e))return t.__super__.insert.apply(this,arguments)}else{if("-o-"!==r)return t.__super__.insert.apply(this,arguments);if(!this.contain3d(e))return t.__super__.insert.apply(this,arguments)}},t}(e),module.exports=t}).call(this);