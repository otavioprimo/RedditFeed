(function(){var e,t,r,n;r=require("postcss-value-parser"),n=require("postcss/lib/vendor"),t=require("postcss/lib/list"),e=function(){function e(e){this.prefixes=e}return e.prototype.props=["transition","transition-property"],e.prototype.add=function(e,t){var r,n,i,o,a,s,u,l,c,p,f,h,d,v,m,g,y,_,b,w,x;if(n=(null!=(_=this.prefixes.add[e.prop])?_.prefixes:void 0)||[],h=this.parse(e.value),c=h.map(function(e){return function(t){return e.findProp(t)}}(this)),r=[],!c.some(function(e){return"-"===e[0]})){for(i=0,s=h.length;s>i;i++)if(f=h[i],y=this.findProp(f),"-"!==y[0]&&(g=this.prefixes.add[y],null!=g?g.prefixes:void 0))for(b=g.prefixes,o=0,u=b.length;u>o;o++)d=b[o],m=this.prefixes.prefixed(y,d),"-ms-transform"!==m&&-1===c.indexOf(m)&&(this.disabled(y,d)||r.push(this.clone(y,m,f)));for(h=h.concat(r),w=this.stringify(h),x=this.stringify(this.cleanFromUnprefixed(h,"-webkit-")),-1!==n.indexOf("-webkit-")&&this.cloneBefore(e,"-webkit-"+e.prop,x),this.cloneBefore(e,e.prop,x),-1!==n.indexOf("-o-")&&(p=this.stringify(this.cleanFromUnprefixed(h,"-o-")),this.cloneBefore(e,"-o-"+e.prop,p)),a=0,l=n.length;l>a;a++)d=n[a],"-webkit-"!==d&&"-o-"!==d&&(v=this.stringify(this.cleanOtherPrefixes(h,d)),this.cloneBefore(e,d+e.prop,v));return w===e.value||this.already(e,e.prop,w)?void 0:(this.checkForWarning(t,e),e.cloneBefore(),e.value=w)}},e.prototype.findProp=function(e){var t,r,n,i,o;if(i=e[0].value,/^\d/.test(i))for(t=r=0,n=e.length;n>r;t=++r)if(o=e[t],0!==t&&"word"===o.type)return o.value;return i},e.prototype.already=function(e,t,r){return e.parent.some(function(e){return e.prop===t&&e.value===r})},e.prototype.cloneBefore=function(e,t,r){return this.already(e,t,r)?void 0:e.cloneBefore({prop:t,value:r})},e.prototype.checkForWarning=function(e,r){return"transition-property"===r.prop?r.parent.each(function(n){return"decl"===n.type&&0===n.prop.indexOf("transition-")&&"transition-property"!==n.prop?(t.comma(n.value).length>1&&r.warn(e,"Replace transition-property to transition, because Autoprefixer could not support any cases of transition-property and other transition-*"),!1):void 0}):void 0},e.prototype.remove=function(e){var t,r,n,i;return r=this.parse(e.value),r=r.filter(function(e){return function(t){var r;return!(null!=(r=e.prefixes.remove[e.findProp(t)])?r.remove:void 0)}}(this)),i=this.stringify(r),e.value!==i?0===r.length?void e.remove():(t=e.parent.some(function(t){return t.prop===e.prop&&t.value===i}),n=e.parent.some(function(t){return t!==e&&t.prop===e.prop&&t.value.length>i.length}),t||n?e.remove():e.value=i):void 0},e.prototype.parse=function(e){var t,n,i,o,a,s,u;for(t=r(e),u=[],a=[],s=t.nodes,n=0,i=s.length;i>n;n++)o=s[n],a.push(o),"div"===o.type&&","===o.value&&(u.push(a),a=[]);return u.push(a),u.filter(function(e){return e.length>0})},e.prototype.stringify=function(e){var t,n,i,o;if(0===e.length)return"";for(i=[],t=0,n=e.length;n>t;t++)o=e[t],"div"!==o[o.length-1].type&&o.push(this.div(e)),i=i.concat(o);return"div"===i[0].type&&(i=i.slice(1)),"div"===i[i.length-1].type&&(i=i.slice(0,-1)),r.stringify({nodes:i})},e.prototype.clone=function(e,t,r){var n,i,o,a,s;for(s=[],n=!1,o=0,a=r.length;a>o;o++)i=r[o],n||"word"!==i.type||i.value!==e?s.push(i):(s.push({type:"word",value:t}),n=!0);return s},e.prototype.div=function(e){var t,r,n,i,o,a;for(t=0,n=e.length;n>t;t++)for(a=e[t],r=0,i=a.length;i>r;r++)if(o=a[r],"div"===o.type&&","===o.value)return o;return{type:"div",value:",",after:" "}},e.prototype.cleanOtherPrefixes=function(e,t){return e.filter(function(e){return function(r){var i;return i=n.prefix(e.findProp(r)),""===i||i===t}}(this))},e.prototype.cleanFromUnprefixed=function(e,t){var r,i,o,a,s,u,l;for(l=[],u=e.map(function(e){return function(t){return e.findProp(t)}}(this)).filter(function(e){return e.slice(0,t.length)===t}).map(function(e){return function(t){return e.prefixes.unprefixed(t)}}(this)),r=0,i=e.length;i>r;r++)a=e[r],s=this.findProp(a),o=n.prefix(s),-1!==u.indexOf(s)||o!==t&&""!==o||l.push(a);return l},e.prototype.disabled=function(e,t){var r;if(r=["order","justify-content","align-self","align-content"],-1!==e.indexOf("flex")||-1!==r.indexOf(e)){if(this.prefixes.options.flexbox===!1)return!0;if("no-2009"===this.prefixes.options.flexbox)return-1!==t.indexOf("2009")}},e}(),module.exports=e}).call(this);